<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.zhougy.top","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"gitalk":null}},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta property="og:type" content="website">
<meta property="og:title" content="Big Ben">
<meta property="og:url" content="https://blog.zhougy.top/page/6/index.html">
<meta property="og:site_name" content="Big Ben">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Ben Zhou">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.zhougy.top/page/6/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Big Ben - 一个半吊子的编码爱好者</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Big Ben</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">一个半吊子的编码爱好者</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ben Zhou</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">179</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zhougy0717" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhougy0717" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:benzhou.guangyu@gmail.com" title="E-Mail → mailto:benzhou.guangyu@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2018/03/08/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E4%B8%8E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/08/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E4%B8%8E%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">运算符重载与拷贝构造函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2018-03-08 06:08:39 / Modified: 06:09:51" itemprop="dateCreated datePublished" datetime="2018-03-08T06:08:39+08:00">2018-03-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=85ae501c-bfec-4ec7-a42f-bff15559099b&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x5728;C++&#x4E2D;&#x770B;&#x8D77;&#x6765;&#x975E;&#x5E38;&#x57FA;&#x672C;&#xFF0C;&#x4F46;&#x662F;&#x521D;&#x5B66;&#x8005;&#x5F80;&#x5F80;&#x5BB9;&#x6613;&#x72AF;&#x9519;&#x3002;&#x8FD9;&#x91CC;&#x63D0;&#x53CA;&#x7684;&#x662F;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">=</code>&#x7684;&#x91CD;&#x8F7D;&#x4E0E;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002; <br>&#x5F53;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x8C03;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">=</code>&#x91CD;&#x8F7D;&#x5417;&#xFF1F;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">class <span style="display: inline; line-height: 1.6; color: #f92672;">A</span> &#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">A</span> a<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">A</span> b = a<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7B54;&#x6848;&#x662F;&#x9519;&#xFF0C;&#x8FD9;&#x91CC;&#x5C06;&#x4F1A;&#x8C03;&#x7528;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x5B9A;&#x4E49;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x8C03;&#x7528;&#x9ED8;&#x8BA4;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x6D45;&#x62F7;&#x8D1D;&#xFF0C;&#x5982;&#x679C;&#x7C7B;&#x5B9A;&#x4E49;&#x4E2D;&#x6D89;&#x53CA;&#x5185;&#x5B58;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x3002; <br><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">=</code>&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x4F1A;&#x5728;&#x8D4B;&#x503C;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x5728;&#x6784;&#x9020;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x4F7F;&#x7528;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x5982;&#x4E0B;&#x662F;&#x4F7F;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">=</code>&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">A a<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;">A b<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">b</span> = a<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div></code></pre></div><center style="display:none">%23%u8FD0%u7B97%u7B26%u91CD%u8F7D%u4E0E%u62F7%u8D1D%u6784%u9020%u51FD%u6570%0A@%28myblog%29%5Bc/c++%5D%0A%0A%u8FD9%u4E2A%u77E5%u8BC6%u70B9%uFF0C%u5728C++%u4E2D%u770B%u8D77%u6765%u975E%u5E38%u57FA%u672C%uFF0C%u4F46%u662F%u521D%u5B66%u8005%u5F80%u5F80%u5BB9%u6613%u72AF%u9519%u3002%u8FD9%u91CC%u63D0%u53CA%u7684%u662F%60%3D%60%u7684%u91CD%u8F7D%u4E0E%u62F7%u8D1D%u6784%u9020%u51FD%u6570%u3002%0A%u5F53%u51FA%u73B0%u4E0B%u9762%u4EE3%u7801%u7684%u65F6%u5019%uFF0C%u662F%u8C03%u7528%60%3D%60%u91CD%u8F7D%u5417%uFF1F%0A%60%60%60%0Aclass%20A%20%7B%7D%0AA%20a%3B%0AA%20b%20%3D%20a%3B%0A%60%60%60%0A%u7B54%u6848%u662F%u9519%uFF0C%u8FD9%u91CC%u5C06%u4F1A%u8C03%u7528%u62F7%u8D1D%u6784%u9020%u51FD%u6570%u3002%u5982%u679C%u6CA1%u6709%u663E%u5F0F%u5B9A%u4E49%u62F7%u8D1D%u6784%u9020%u51FD%u6570%uFF0C%u5373%u8C03%u7528%u9ED8%u8BA4%u62F7%u8D1D%u6784%u9020%u51FD%u6570%uFF0C%u5373%u6D45%u62F7%u8D1D%uFF0C%u5982%u679C%u7C7B%u5B9A%u4E49%u4E2D%u6D89%u53CA%u5185%u5B58%u7684%u5206%u914D%uFF0C%u5219%u4F1A%u51FA%u73B0%u610F%u60F3%u4E0D%u5230%u7684%u7ED3%u679C%u3002%0A%60%3D%60%u8FD0%u7B97%u7B26%u53EA%u4F1A%u5728%u8D4B%u503C%u7684%u65F6%u5019%u4F7F%u7528%uFF0C%u800C%u5728%u6784%u9020%u7684%u65F6%u5019%u4F1A%u4F7F%u7528%u62F7%u8D1D%u6784%u9020%u51FD%u6570%u3002%u5982%u4E0B%u662F%u4F7F%u7528%60%3D%60%u7684%u4F8B%u5B50%uFF1A%0A%60%60%60%0AA%20a%3B%0AA%20b%3B%0Ab%20%3D%20a%3B%0A%60%60%60</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2018/03/06/C++%E8%8F%B1%E5%BD%A2%E7%BB%A7%E6%89%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/06/C++%E8%8F%B1%E5%BD%A2%E7%BB%A7%E6%89%BF/" class="post-title-link" itemprop="url">C++菱形继承</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-03-06 14:16:56" itemprop="dateCreated datePublished" datetime="2018-03-06T14:16:56+08:00">2018-03-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2018-03-07 12:36:45" itemprop="dateModified" datetime="2018-03-07T12:36:45+08:00">2018-03-07</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=1156996a-1cc3-419a-9a5c-1c63c9a06fd3&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"> <br>C++&#x652F;&#x6301;&#x591A;&#x7EE7;&#x627F;&#xFF0C;&#x5F53;&#x7236;&#x7C7B;&#x7EE7;&#x627F;&#x81EA;&#x540C;&#x4E00;&#x4E2A;&#x8D85;&#x7C7B;&#xFF0C;&#x5219;&#x5373;&#x4E3A;&#x672C;&#x7BC7;&#x6240;&#x8FF0;&#x7684;&#x83F1;&#x5F62;&#x7EE7;&#x627F;&#x3002;&#x7C7B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520316988125.png" hash="4027db728b2850cce6b1f8627238b266" align alt longdesc width="300" height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E3B;&#x8981;&#x53C2;&#x8003;&#x4E24;&#x4E2A;&#x94FE;&#x63A5;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="http://blog.csdn.net/BlueDog/article/details/4711169" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">c++&#x865A;&#x7EE7;&#x627F;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5B58;&#x5E03;&#x5C40;</a></li><li style="line-height: 1.6;"><a href="https://cs.nyu.edu/courses/fall16/CSCI-UA.0470-001/slides/MemoryLayoutMultipleInheritance.pdf" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Memory Layout for Multiple and Virtual Inheritance - Edsko de Vries, January 2006</a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x524D;&#x4E00;&#x7BC7;&#x63D0;&#x5230;&#x7684;VS2003&#x4E0E;&#x540E;&#x6587;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#xFF0C;&#x524D;&#x4E00;&#x7BC7;&#x4E2D;&#x8FD8;&#x63D0;&#x5230;&#x4E86;Bjarne&#x65B9;&#x6848;&#xFF0C;&#x4E0D;&#x77E5;&#x54EA;&#x4E9B;&#x7F16;&#x8BD1;&#x5668;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x3002;&#x6240;&#x4EE5;&#x672C;&#x6587;&#x8BA4;&#x4E3A;&#x524D;&#x8005;&#x65B9;&#x6848;&#x4E3A;&#x4E3B;&#x6D41;&#x65B9;&#x6848;&#xFF0C;&#x52A0;&#x4EE5;&#x9610;&#x8FF0;&#x3002;&#x540E;&#x8005;&#x65B9;&#x6848;&#x53EF;&#x89C6;&#x4E3A;&#x524D;&#x8005;&#x65B9;&#x6848;&#x7684;&#x7565;&#x5FAE;&#x6539;&#x826F;&#x7248;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x5355;&#x7C7B;&#x865A;&#x7EE7;&#x627F;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> A &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span></span>;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> X;</div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> B : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> A &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span></span>;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">fooB</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span></span>;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> Y;</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520393159326.png" hash="854f093548b1981f54058d1a9c12129e" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5176;&#x4E2D;VPTR&#x6307;&#x5411;Virtual Table (VTBL)&#xFF0C;VBPTR&#x6307;&#x5411;Virtual Base Table (VBTBL)&#x3002;&#x5176;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p><ol style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x7B2C;&#x4E00;&#x9879;&#x4E3A;&#x4E0E;&#x672C;&#x7C7B;VPTR&#x7684;&#x504F;&#x79FB;&#x3002;&#x4E00;&#x822C;VPTR&#x603B;&#x662F;&#x5B58;&#x5728;&#x5BF9;&#x8C61;&#x5F00;&#x59CB;&#x5904;&#x3002;&#x6240;&#x4EE5;&#x4E0A;&#x4F8B;&#x4E3A;-4&#x5B57;&#x8282;&#xFF0C;&#x53D6;&#x8865;&#x5373;&#x4E3A;0xFFFFFFFC&#x3002;&#x5982;&#x679C;&#x672C;&#x7C7B;&#x6CA1;&#x6709;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x6CA1;&#x6709;VPTR&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x4E3A;0&#x3002;</li><li style="line-height: 1.6;">&#x4ECE;&#x7B2C;&#x4E8C;&#x9879;&#x5F00;&#x59CB;&#x4E3A;&#x5230;&#x5404;&#x57FA;&#x7C7B;&#x7684;&#x504F;&#x79FB;&#x503C;&#xFF0C;&#x6709;&#x51E0;&#x4E2A;&#x57FA;&#x7C7B;&#xFF0C;&#x8868;&#x9879;&#x5C31;&#x6709;&#x51E0;&#x4E2A;&#x3002;&#x4E0A;&#x4F8B;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x57FA;&#x7C7B;&#xFF0C;&#x4E14;&#x672C;&#x7C7B;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4F1A;&#x653E;&#x5728;VBPTR&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x4EE5;&#x5230;&#x57FA;&#x7C7B;A&#x7684;&#x504F;&#x79FB;&#x91CF;&#x5373;&#x4E3A;8&#x5B57;&#x8282;&#x3002;</li></ol><p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">&#x6CE8;&#x610F;1</strong>: &#x53EA;&#x6709;&#x51FA;&#x73B0;&#x4E86;&#x865A;&#x62DF;&#x7EE7;&#x627F;&#xFF0C;&#x624D;&#x4F1A;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x865A;&#x62DF;&#x7EE7;&#x627F;&#xFF0C;&#x5219;&#x7236;&#x7C7B;VPTR&#x53CA;&#x5176;&#x6210;&#x5458;&#x4F1A;&#x6328;&#x7740;&#x5B50;&#x7C7B;VPTR&#x653E;&#x7F6E;&#x3002; <br><strong style="font-weight: bold; line-height: 1.6;">&#x6CE8;&#x610F;2</strong>: &#x6B64;&#x65F6;VPTR&#x4E2D;&#x5185;&#x5BB9;&#x548C;&#x65E0;&#x865A;&#x7EE7;&#x627F;&#x65F6;&#x7684;&#x5185;&#x5BB9;&#x4E5F;&#x4E0D;&#x540C;&#x3002;&#x82E5;B&#x662F;&#x666E;&#x901A;&#x7EE7;&#x627F;A&#xFF0C;&#x5219;B&#x7C7B;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#x4E3A;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520393183452.png" hash="b18c46c28afd607fae7ce219197c8fcc" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x83F1;&#x5F62;&#x7EE7;&#x627F;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5BF9;&#x4E8E;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x83F1;&#x5F62;&#x7EE7;&#x627F;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520376926158.png" hash="d074564ecf0f1ec2a3d32d6a230a665f" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> A</div><div style="line-height: 1.6;">&#123;</div><div style="line-height: 1.6;">    A(<span style="display: inline; line-height: 1.6; color: #f92672;">int</span> v=<span style="display: inline; line-height: 1.6; color: #ae81ff;">100</span>):X(v)&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> X;</div><div style="line-height: 1.6;">&#125;;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> B :<span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> A</div><div style="line-height: 1.6;">&#123;</div><div style="line-height: 1.6;">    B(<span style="display: inline; line-height: 1.6; color: #f92672;">int</span> v=<span style="display: inline; line-height: 1.6; color: #ae81ff;">10</span>):Y(v),A(<span style="display: inline; line-height: 1.6; color: #ae81ff;">100</span>)&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">fooB</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> Y;</div><div style="line-height: 1.6;">&#125;;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> C : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> A</div><div style="line-height: 1.6;">&#123;</div><div style="line-height: 1.6;">    C(<span style="display: inline; line-height: 1.6; color: #f92672;">int</span> v=<span style="display: inline; line-height: 1.6; color: #ae81ff;">20</span>):Z(v),A(<span style="display: inline; line-height: 1.6; color: #ae81ff;">100</span>)&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">fooC</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> Z;</div><div style="line-height: 1.6;">&#125;;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">struct</span> D : <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> B, <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> C</div><div style="line-height: 1.6;">&#123;</div><div style="line-height: 1.6;">    D(<span style="display: inline; line-height: 1.6; color: #f92672;">int</span> v =<span style="display: inline; line-height: 1.6; color: #ae81ff;">40</span>):B(<span style="display: inline; line-height: 1.6; color: #ae81ff;">10</span>),C(<span style="display: inline; line-height: 1.6; color: #ae81ff;">20</span>),A(<span style="display: inline; line-height: 1.6; color: #ae81ff;">100</span>),L(v)&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">foo</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">fooD</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(<span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span>)</span></span>&#123;&#125;;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">int</span> L;</div><div style="line-height: 1.6;">&#125;;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5176;&#x4E3B;&#x8981;&#x7279;&#x70B9;&#x4E3A;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">ABCD&#x5747;&#x5305;&#x542B;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x4E2A;&#x7C7B;&#x90FD;&#x6709;&#x865A;&#x51FD;&#x6570;&#x8868;</li><li style="line-height: 1.6;">&#x6BCF;&#x4E2A;&#x7C7B;&#x5747;&#x6709;&#x6210;&#x5458;&#x53D8;&#x91CF;</li><li style="line-height: 1.6;">&#x7236;&#x7C7B;BC&#x5BF9;&#x7956;&#x7C7B;&#x91C7;&#x7528;&#x865A;&#x7EE7;&#x627F;</li><li style="line-height: 1.6;">&#x5B50;&#x7C7B;&#x5BF9;&#x4E24;&#x4E2A;&#x7236;&#x7C7B;&#x91C7;&#x7528;&#x666E;&#x901A;&#x7EE7;&#x627F;</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x5E94;&#x5F53;&#x662F;&#x6700;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;&#x4E86;&#xFF0C;&#x5F53;&#x6709;&#x4E9B;&#x7C7B;&#x6CA1;&#x6709;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x7A0D;&#x8BB8;&#x7B80;&#x5355;&#x4E9B;&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">A</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">A&#x7C7B;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x865A;&#x62DF;&#x7EE7;&#x627F;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#x4E3A;&#x666E;&#x901A;&#x5E03;&#x5C40;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520393228683.png" hash="c4733178d7dc28223193c2d84e7d4f59" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">B / C</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">BC&#x7C7B;&#x5747;&#x4E3A;&#x5355;&#x7C7B;&#x865A;&#x7EE7;&#x627F;&#xFF0C;&#x5982;&#x4E0A;&#x8282;&#x6240;&#x8FF0;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520393159326.png" hash="854f093548b1981f54058d1a9c12129e" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">D</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">D&#x7C7B;&#x6700;&#x590D;&#x6742;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520393848842.png" hash="84b0a95db8195ee3288c383571f2e583" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><ol style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x672C;&#x7C7B;&#x65E0;&#x8986;&#x76D6;&#x5173;&#x7CFB;&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;&#x5728;&#x6700;&#x4E00;&#x5F00;&#x59CB;&#x7684;VPTR&#x4E2D;&#xFF0C;&#x6216;&#x8BA4;&#x4E3A;&#x5728;B::VPTR&#x4E2D;</li><li style="line-height: 1.6;">&#x672C;&#x7C7B;&#x6210;&#x5458;&#x51FD;&#x6570;&#x5728;&#x6240;&#x6709;&#x76F4;&#x63A5;&#x7236;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x540E;&#x9762;</li><li style="line-height: 1.6;">&#x53EA;&#x6709;&#x4E00;&#x4EFD;A&#x5BF9;&#x8C61;</li><li style="line-height: 1.6;">&#x672C;&#x7C7B;&#x5982;&#x679C;&#x8986;&#x76D6;&#x4EFB;&#x4F55;&#x7236;&#x7C7B;&#x6216;&#x7956;&#x5148;&#x7C7B;&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;&#x4F1A;&#x8986;&#x76D6;&#x5BF9;&#x5E94;&#x5BF9;&#x8C61;&#x7684;VPTR&#x4E2D;&#x7684;&#x9879;&#x76EE;&#x3002;</li></ol><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Error: source type is not polymorphic</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x7956;&#x5148;&#x7C7B;A&#x6CA1;&#x6709;&#x865A;&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5728;&#x53D1;&#x751F;&#x5411;&#x4E0B;&#x8F6C;&#x578B;&#xFF08;&#x5B50;&#x7C7B;&#x6307;&#x9488;&#x8F6C;&#x6210;&#x7236;&#x7C7B;&#x6307;&#x9488;&#xFF09;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x51FA;&#x95EE;&#x9898;&#x3002;&#x53EF;&#x4EE5;&#x67E5;&#x770B;<a href="https://cs.nyu.edu/courses/fall16/CSCI-UA.0470-001/slides/MemoryLayoutMultipleInheritance.pdf" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Memory Layout for Multiple and Virtual Inheritance - Edsko de Vries, January 2006</a> &#x4E2D;Downcasting&#x4E00;&#x8282;&#x3002; <br>&#x8003;&#x8651;&#x8FD9;&#x6837;&#x4E24;&#x4E2A;&#x591A;&#x7EE7;&#x627F;&#x7684;&#x7C7B;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x83F1;&#x5F62;&#x7EE7;&#x627F;/1520396776572.png" hash="c483122e87e5da05986d6571c419199f" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">Bottom* bottom1 = <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> Bottom();</div><div style="line-height: 1.6;">AnotherBottom* bottom2 = <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> AnotherBottom();</div><div style="line-height: 1.6;">Top* top1 = bottom1;</div><div style="line-height: 1.6;">Top* top2 = bottom2;</div><div style="line-height: 1.6;">Left* left = <span style="display: inline; line-height: 1.6; color: #f92672;">static_cast</span>&lt;Left*&gt;(top1);</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">Bottom&#x548C;AnotherBottom&#x90FD;&#x7EE7;&#x627F;&#x81EA;Left&#xFF0C;Left&#x865A;&#x7EE7;&#x627F;&#x81EA;Top&#x3002;&#x73B0;&#x5728;&#x8981;&#x628A;&#x4E00;&#x4E2A;Top&#x6307;&#x9488;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;Left&#x6307;&#x9488;&#x3002;&#x4F7F;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">static_cast</code>&#x4F1A;&#x62A5;error: cannot convert from base `Top&#x2019; to derived type `Left&#x2019; via virtual base `Top&#x2019;&#x3002; &#x56E0;&#x4E3A;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x65F6;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x4E3A;&#x6240;&#x6709;&#x7684;VPTR&#x548C;&#x5BF9;&#x8C61;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#xFF0C;&#x90FD;&#x662F;&#x5230;&#x8FD0;&#x884C;&#x65F6;&#x624D;&#x5EFA;&#x7ACB;&#x7684;&#x3002;&#x4E8E;&#x662F;&#x60F3;&#x5230;&#x53EF;&#x4EE5;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">Left* left = <span style="display: inline; line-height: 1.6; color: #f92672;">dynamic_cast</span>&lt;Left*&gt;(top1);</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6B64;&#x65F6;&#x4F1A;&#x62A5;&#x53E6;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF1A;error: cannot dynamic_cast `top&#x2019; (of type `class Top*&#x2019;) to type `class Left*&#x2019; (source type is not polymorphic)&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;Top&#x7C7B;&#x6CA1;&#x6709;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;Bottom&#x548C;AnotherBottom&#x5BF9;&#x8C61;&#x7684;Top&#x90E8;&#x5206;&#x6CA1;&#x6709;VPTR&#x3002;&#x4E8E;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x4E5F;&#x5206;&#x4E0D;&#x6E05;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;int&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x89E3;&#x51B3;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x4E3A;Top&#x52A0;&#x4E00;&#x4E2A;&#x865A;&#x51FD;&#x6570;&#x3002;&#x6700;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x52A0;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x865A;&#x6790;&#x6784;&#x51FD;&#x6570;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">Top</span> &#123;</div><div style="line-height: 1.6;"> <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> ~Top()&#123;&#125;;</div><div style="line-height: 1.6;">&#125;</div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x603B;&#x7ED3;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x53D1;&#x751F;&#x865A;&#x7EE7;&#x627F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#x4F1A;&#x4EA7;&#x751F;&#x5927;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5728;&#x5F15;&#x5165;VBPTR&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5176;&#x5404;&#x57FA;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;&#x6392;&#x5E03;&#x987A;&#x5E8F;&#x4E5F;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x5176;&#x4ED6;&#x53C2;&#x8003;&#x94FE;&#x63A5;</h2><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="http://blog.csdn.net/Li_Ning_/article/details/51893748" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x8BE6;&#x8C08;C++&#x865A;&#x51FD;&#x6570;&#x8868;&#x90A3;&#x56DE;&#x4E8B;&#xFF08;&#x591A;&#x91CD;&#x7EE7;&#x627F;&#x5173;&#x7CFB;, &#x65E0;&#x865A;&#x7EE7;&#x627F;&#xFF09;</a></li><li style="line-height: 1.6;"><a href="http://lib.csdn.net/article/cplusplus/51023" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x3010;C++&#x3011;c++&#x5355;&#x7EE7;&#x627F;&#x3001;&#x591A;&#x7EE7;&#x627F;&#x3001;&#x83F1;&#x5F62;&#x7EE7;&#x627F;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#xFF08;&#x865A;&#x51FD;&#x6570;&#x8868;&#x7ED3;&#x6784;&#xFF09;</a> &#xFF08;&#x6B64;&#x7BC7;&#x5305;&#x542B;&#x4E86;&#x5BF9;&#x300A;c++&#x865A;&#x7EE7;&#x627F;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#x300B;&#x4E00;&#x6587;&#x7684;&#x9610;&#x91CA;</li></ul></div><center style="display:none">%23%20C++%u83F1%u5F62%u7EE7%u627F%0A@%28myblog%29%5Bc/c++%5D%0AC++%u652F%u6301%u591A%u7EE7%u627F%uFF0C%u5F53%u7236%u7C7B%u7EE7%u627F%u81EA%u540C%u4E00%u4E2A%u8D85%u7C7B%uFF0C%u5219%u5373%u4E3A%u672C%u7BC7%u6240%u8FF0%u7684%u83F1%u5F62%u7EE7%u627F%u3002%u7C7B%u56FE%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%20%7C300x0%5D%28./1520316988125.png%29%0A%0A%u4E3B%u8981%u53C2%u8003%u4E24%u4E2A%u94FE%u63A5%uFF1A%0A-%20%5Bc++%u865A%u7EE7%u627F%u5BF9%u8C61%u7684%u5185%u5B58%u5E03%u5C40%5D%28http%3A//blog.csdn.net/BlueDog/article/details/4711169%29%0A-%20%5BMemory%20Layout%20for%20Multiple%20and%20Virtual%20Inheritance%20-%20Edsko%20de%20Vries%2C%20January%202006%5D%28https%3A//cs.nyu.edu/courses/fall16/CSCI-UA.0470-001/slides/MemoryLayoutMultipleInheritance.pdf%29%0A%0A%u524D%u4E00%u7BC7%u63D0%u5230%u7684VS2003%u4E0E%u540E%u6587%u4E2D%u7684%u5B9E%u73B0%u65B9%u5F0F%u76F8%u540C%uFF0C%u524D%u4E00%u7BC7%u4E2D%u8FD8%u63D0%u5230%u4E86Bjarne%u65B9%u6848%uFF0C%u4E0D%u77E5%u54EA%u4E9B%u7F16%u8BD1%u5668%u91C7%u7528%u8FD9%u79CD%u65B9%u6848%u3002%u6240%u4EE5%u672C%u6587%u8BA4%u4E3A%u524D%u8005%u65B9%u6848%u4E3A%u4E3B%u6D41%u65B9%u6848%uFF0C%u52A0%u4EE5%u9610%u8FF0%u3002%u540E%u8005%u65B9%u6848%u53EF%u89C6%u4E3A%u524D%u8005%u65B9%u6848%u7684%u7565%u5FAE%u6539%u826F%u7248%u3002%0A%0A%23%23%20%u5355%u7C7B%u865A%u7EE7%u627F%0A%u4EE3%u7801%u5B9E%u73B0%u5982%u4E0B%uFF1A%0A%60%60%60%0Astruct%20A%20%7B%0A%09virtual%20foo%28%29%3B%0A%09int%20X%3B%0A%7D%0Astruct%20B%20%3A%20virtual%20public%20A%20%7B%0A%09virtual%20foo%28%29%3B%0A%09virtual%20fooB%28%29%3B%0A%09int%20Y%3B%0A%7D%0A%60%60%60%0A%21%5BAlt%20text%5D%28./1520393159326.png%29%0A%0A%u5176%u4E2DVPTR%u6307%u5411Virtual%20Table%20%28VTBL%29%uFF0CVBPTR%u6307%u5411Virtual%20Base%20Table%20%28VBTBL%29%u3002%u5176%u5185%u5BB9%u4E3A%uFF1A%0A1.%20%u7B2C%u4E00%u9879%u4E3A%u4E0E%u672C%u7C7BVPTR%u7684%u504F%u79FB%u3002%u4E00%u822CVPTR%u603B%u662F%u5B58%u5728%u5BF9%u8C61%u5F00%u59CB%u5904%u3002%u6240%u4EE5%u4E0A%u4F8B%u4E3A-4%u5B57%u8282%uFF0C%u53D6%u8865%u5373%u4E3A0xFFFFFFFC%u3002%u5982%u679C%u672C%u7C7B%u6CA1%u6709%u865A%u51FD%u6570%uFF0C%u5C31%u6CA1%u6709VPTR%uFF0C%u5219%u8BE5%u503C%u4E3A0%u3002%0A2.%20%u4ECE%u7B2C%u4E8C%u9879%u5F00%u59CB%u4E3A%u5230%u5404%u57FA%u7C7B%u7684%u504F%u79FB%u503C%uFF0C%u6709%u51E0%u4E2A%u57FA%u7C7B%uFF0C%u8868%u9879%u5C31%u6709%u51E0%u4E2A%u3002%u4E0A%u4F8B%u4E2D%uFF0C%u53EA%u6709%u4E00%u4E2A%u57FA%u7C7B%uFF0C%u4E14%u672C%u7C7B%u6210%u5458%u53D8%u91CF%u4F1A%u653E%u5728VBPTR%u4E4B%u540E%uFF0C%u6240%u4EE5%u5230%u57FA%u7C7BA%u7684%u504F%u79FB%u91CF%u5373%u4E3A8%u5B57%u8282%u3002%0A%0A**%u6CE8%u610F1**%3A%20%u53EA%u6709%u51FA%u73B0%u4E86%u865A%u62DF%u7EE7%u627F%uFF0C%u624D%u4F1A%u6709%u8FD9%u6837%u7684%u5185%u5B58%u5E03%u5C40%uFF0C%u5982%u679C%u6CA1%u6709%u865A%u62DF%u7EE7%u627F%uFF0C%u5219%u7236%u7C7BVPTR%u53CA%u5176%u6210%u5458%u4F1A%u6328%u7740%u5B50%u7C7BVPTR%u653E%u7F6E%u3002%0A**%u6CE8%u610F2**%3A%20%u6B64%u65F6VPTR%u4E2D%u5185%u5BB9%u548C%u65E0%u865A%u7EE7%u627F%u65F6%u7684%u5185%u5BB9%u4E5F%u4E0D%u540C%u3002%u82E5B%u662F%u666E%u901A%u7EE7%u627FA%uFF0C%u5219B%u7C7B%u5185%u5B58%u5E03%u5C40%u4E3A%uFF1A%0A%21%5BAlt%20text%5D%28./1520393183452.png%29%0A%0A%23%23%20%u83F1%u5F62%u7EE7%u627F%0A%u5BF9%u4E8E%u8FD9%u6837%u4E00%u4E2A%u83F1%u5F62%u7EE7%u627F%uFF1A%0A%21%5BAlt%20text%5D%28./1520376926158.png%29%0A%u4EE3%u7801%u5B9E%u73B0%u5982%u4E0B%uFF1A%0A%60%60%60%0Astruct%20A%0A%7B%0A%20%20%20%20A%28int%20v%3D100%29%3AX%28v%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20foo%28void%29%7B%7D%3B%0A%20%20%20%20int%20X%3B%0A%7D%3B%0Astruct%20B%20%3Avirtual%20public%20A%0A%7B%0A%20%20%20%20B%28int%20v%3D10%29%3AY%28v%29%2CA%28100%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20foo%28void%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20fooB%28void%29%7B%7D%0A%20%20%20%20int%20Y%3B%0A%7D%3B%0Astruct%20C%20%3A%20virtual%20public%20A%0A%7B%0A%20%20%20%20C%28int%20v%3D20%29%3AZ%28v%29%2CA%28100%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20foo%28void%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20fooC%28void%29%7B%7D%3B%0A%20%20%20%20int%20Z%3B%0A%7D%3B%0Astruct%20D%20%3A%20public%20B%2C%20public%20C%0A%7B%0A%20%20%20%20D%28int%20v%20%3D40%29%3AB%2810%29%2CC%2820%29%2CA%28100%29%2CL%28v%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20foo%28void%29%7B%7D%3B%0A%20%20%20%20virtual%20void%20fooD%28void%29%7B%7D%3B%0A%20%20%20%20int%20L%3B%0A%7D%3B%0A%60%60%60%0A%u5176%u4E3B%u8981%u7279%u70B9%u4E3A%uFF1A%0A-%20ABCD%u5747%u5305%u542B%u865A%u51FD%u6570%uFF0C%u6240%u4EE5%u6BCF%u4E2A%u7C7B%u90FD%u6709%u865A%u51FD%u6570%u8868%0A-%20%u6BCF%u4E2A%u7C7B%u5747%u6709%u6210%u5458%u53D8%u91CF%0A-%20%u7236%u7C7BBC%u5BF9%u7956%u7C7B%u91C7%u7528%u865A%u7EE7%u627F%0A-%20%u5B50%u7C7B%u5BF9%u4E24%u4E2A%u7236%u7C7B%u91C7%u7528%u666E%u901A%u7EE7%u627F%0A%0A%u8FD9%u5E94%u5F53%u662F%u6700%u590D%u6742%u7684%u60C5%u51B5%u4E86%uFF0C%u5F53%u6709%u4E9B%u7C7B%u6CA1%u6709%u865A%u51FD%u6570%uFF0C%u6216%u8005%u6CA1%u6709%u6210%u5458%u53D8%u91CF%u65F6%uFF0C%u60C5%u51B5%u53EF%u80FD%u7A0D%u8BB8%u7B80%u5355%u4E9B%u3002%0A%23%23%23%20A%0AA%u7C7B%u56E0%u4E3A%u6CA1%u6709%u865A%u62DF%u7EE7%u627F%uFF0C%u6240%u4EE5%u5176%u5185%u5B58%u5E03%u5C40%u4E3A%u666E%u901A%u5E03%u5C40%uFF1A%0A%21%5BAlt%20text%5D%28./1520393228683.png%29%0A%0A%23%23%23%20B%20/%20C%0ABC%u7C7B%u5747%u4E3A%u5355%u7C7B%u865A%u7EE7%u627F%uFF0C%u5982%u4E0A%u8282%u6240%u8FF0%uFF1A%0A%21%5BAlt%20text%5D%28./1520393159326.png%29%0A%0A%23%23%23%20D%0AD%u7C7B%u6700%u590D%u6742%0A%21%5BAlt%20text%5D%28./1520393848842.png%29%0A%u9700%u8981%u6CE8%u610F%u7684%u662F%uFF1A%0A1.%20%u672C%u7C7B%u65E0%u8986%u76D6%u5173%u7CFB%u7684%u6210%u5458%u51FD%u6570%u5728%u6700%u4E00%u5F00%u59CB%u7684VPTR%u4E2D%uFF0C%u6216%u8BA4%u4E3A%u5728B%3A%3AVPTR%u4E2D%0A2.%20%u672C%u7C7B%u6210%u5458%u51FD%u6570%u5728%u6240%u6709%u76F4%u63A5%u7236%u7C7B%u5BF9%u8C61%u7684%u540E%u9762%0A3.%20%u53EA%u6709%u4E00%u4EFDA%u5BF9%u8C61%0A4.%20%u672C%u7C7B%u5982%u679C%u8986%u76D6%u4EFB%u4F55%u7236%u7C7B%u6216%u7956%u5148%u7C7B%u7684%u6210%u5458%u51FD%u6570%u4F1A%u8986%u76D6%u5BF9%u5E94%u5BF9%u8C61%u7684VPTR%u4E2D%u7684%u9879%u76EE%u3002%0A%0A%23%23%23%20Error%3A%20source%20type%20is%20not%20polymorphic%0A%u5F53%u7956%u5148%u7C7BA%u6CA1%u6709%u865A%u51FD%u6570%u7684%u65F6%u5019%uFF0C%u5728%u53D1%u751F%u5411%u4E0B%u8F6C%u578B%uFF08%u5B50%u7C7B%u6307%u9488%u8F6C%u6210%u7236%u7C7B%u6307%u9488%uFF09%u7684%u65F6%u5019%u4F1A%u51FA%u95EE%u9898%u3002%u53EF%u4EE5%u67E5%u770B%5BMemory%20Layout%20for%20Multiple%20and%20Virtual%20Inheritance%20-%20Edsko%20de%20Vries%2C%20January%202006%5D%28https%3A//cs.nyu.edu/courses/fall16/CSCI-UA.0470-001/slides/MemoryLayoutMultipleInheritance.pdf%29%20%u4E2DDowncasting%u4E00%u8282%u3002%0A%u8003%u8651%u8FD9%u6837%u4E24%u4E2A%u591A%u7EE7%u627F%u7684%u7C7B%uFF1A%0A%21%5BAlt%20text%5D%28./1520396776572.png%29%0A%60%60%60cpp%0ABottom*%20bottom1%20%3D%20new%20Bottom%28%29%3B%0AAnotherBottom*%20bottom2%20%3D%20new%20AnotherBottom%28%29%3B%0ATop*%20top1%20%3D%20bottom1%3B%0ATop*%20top2%20%3D%20bottom2%3B%0ALeft*%20left%20%3D%20static_cast%3CLeft*%3E%28top1%29%3B%0A%60%60%60%0ABottom%u548CAnotherBottom%u90FD%u7EE7%u627F%u81EALeft%uFF0CLeft%u865A%u7EE7%u627F%u81EATop%u3002%u73B0%u5728%u8981%u628A%u4E00%u4E2ATop%u6307%u9488%u8F6C%u6362%u6210%u4E00%u4E2ALeft%u6307%u9488%u3002%u4F7F%u7528%60static_cast%60%u4F1A%u62A5error%3A%20cannot%20convert%20from%20base%20%5C%60Top%27%20to%20derived%20type%20%5C%60Left%27%20via%20virtual%20base%20%5C%60Top%27%u3002%20%u56E0%u4E3A%u9700%u8981%u8FD0%u884C%u65F6%u4FE1%u606F%uFF0C%u56E0%u4E3A%u6240%u6709%u7684VPTR%u548C%u5BF9%u8C61%u5185%u5B58%u5E03%u5C40%uFF0C%u90FD%u662F%u5230%u8FD0%u884C%u65F6%u624D%u5EFA%u7ACB%u7684%u3002%u4E8E%u662F%u60F3%u5230%u53EF%u4EE5%u7528%60dynamic_cast%60%u3002%0A%60%60%60%0ALeft*%20left%20%3D%20dynamic_cast%3CLeft*%3E%28top1%29%3B%0A%60%60%60%0A%u6B64%u65F6%u4F1A%u62A5%u53E6%u4E00%u4E2A%u9519%u8BEF%uFF1Aerror%3A%20cannot%20dynamic_cast%20%5C%60top%27%20%28of%20type%20%5C%60class%20Top%5C*%27%29%20to%20type%20%5C%60class%20Left%5C*%27%20%28source%20type%20is%20not%20polymorphic%29%u3002%u8FD9%u662F%u56E0%u4E3ATop%u7C7B%u6CA1%u6709%u865A%u51FD%u6570%uFF0C%u6240%u4EE5%u6B64%u65F6Bottom%u548CAnotherBottom%u5BF9%u8C61%u7684Top%u90E8%u5206%u6CA1%u6709VPTR%u3002%u4E8E%u662F%u7F16%u8BD1%u5668%u4E5F%u5206%u4E0D%u6E05%u8FD9%u662F%u4E00%u4E2Aint%u8FD8%u662F%u4E00%u4E2A%u5BF9%u8C61%u3002%u89E3%u51B3%u7684%u65B9%u6CD5%u5C31%u662F%u4E3ATop%u52A0%u4E00%u4E2A%u865A%u51FD%u6570%u3002%u6700%u65B9%u4FBF%u7684%u65B9%u6CD5%u5C31%u662F%u52A0%u4E00%u4E2A%u7A7A%u7684%u865A%u6790%u6784%u51FD%u6570%uFF0C%u5982%u4E0B%uFF1A%0A%60%60%60%0Aclass%20Top%20%7B%0A%20virtual%20%7ETop%28%29%7B%7D%3B%0A%7D%0A%60%60%60%0A%0A%23%23%20%u603B%u7ED3%0A%u5F53%u53D1%u751F%u865A%u7EE7%u627F%u7684%u65F6%u5019%uFF0C%u5BF9%u8C61%u5185%u90E8%u5185%u5B58%u5E03%u5C40%u4F1A%u4EA7%u751F%u5927%u7684%u53D8%u5316%uFF0C%u5728%u5F15%u5165VBPTR%u7684%u540C%u65F6%uFF0C%u5176%u5404%u57FA%u7C7B%u5BF9%u8C61%u7684%u6392%u5E03%u987A%u5E8F%u4E5F%u53D1%u751F%u4E86%u53D8%u5316%u3002%0A%0A%23%23%20%u5176%u4ED6%u53C2%u8003%u94FE%u63A5%0A-%20%5B%u8BE6%u8C08C++%u865A%u51FD%u6570%u8868%u90A3%u56DE%u4E8B%uFF08%u591A%u91CD%u7EE7%u627F%u5173%u7CFB%2C%20%u65E0%u865A%u7EE7%u627F%uFF09%5D%28http%3A//blog.csdn.net/Li_Ning_/article/details/51893748%29%0A-%20%5B%u3010C++%u3011c++%u5355%u7EE7%u627F%u3001%u591A%u7EE7%u627F%u3001%u83F1%u5F62%u7EE7%u627F%u5185%u5B58%u5E03%u5C40%uFF08%u865A%u51FD%u6570%u8868%u7ED3%u6784%uFF09%5D%28http%3A//lib.csdn.net/article/cplusplus/51023%29%20%uFF08%u6B64%u7BC7%u5305%u542B%u4E86%u5BF9%u300Ac++%u865A%u7EE7%u627F%u5BF9%u8C61%u7684%u5185%u5B58%u5E03%u5C40%u300B%u4E00%u6587%u7684%u9610%u91CA%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2018/03/06/C++%E5%8D%95%E7%B1%BB%E5%AE%9A%E4%B9%89%E5%A4%9A%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/03/06/C++%E5%8D%95%E7%B1%BB%E5%AE%9A%E4%B9%89%E5%A4%9A%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">C++单类定义多接口</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2018-03-06 09:43:51 / Modified: 13:09:01" itemprop="dateCreated datePublished" datetime="2018-03-06T09:43:51+08:00">2018-03-06</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=43936888-6143-44d8-89f9-c0ab98e428b4&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6700;&#x8FD1;&#x505A;ThoughtWorks&#x7684;&#x9762;&#x8BD5;&#x9898;&#xFF0C;&#x7B2C;&#x4E00;&#x904D;&#x7528;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x9762;&#x8BD5;&#x5B98;&#x8BF4;&#x6CA1;&#x6709;OO&#x8BBE;&#x8BA1;&#xFF0C;&#x4E8E;&#x662F;&#x4E4E;&#x60F3;&#x70AB;&#x4E00;&#x6CE2;OO&#x8BBE;&#x8BA1;&#xFF0C;&#x7ED3;&#x679C;&#x624D;&#x53D1;&#x73B0;&#xFF0C;&#x539F;&#x6765;C++&#x8FD8;&#x5DEE;&#x7684;&#x5F88;&#x8FDC;&#x3002;&#x5148;&#x6765;&#x8BF4;&#x8BF4;&#x8FD9;&#x4E2A;&#x591A;&#x63A5;&#x53E3;&#x7684;&#x5751;&#x3002;&#x8FD8;&#x4F1A;&#x6709;&#x53E6;&#x5916;&#x7684;&#x7B14;&#x8BB0;&#x9610;&#x8FF0;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x8FD0;&#x7B97;&#x7B26;&#x91CD;&#x8F7D;&#x4E0E;&#x62F7;&#x8D1D;&#x6784;&#x9020;&#x51FD;&#x6570;</li><li style="line-height: 1.6;">&#x83F1;&#x5F62;&#x7EE7;&#x627F;</li><li style="line-height: 1.6;">&#x51FD;&#x6570;&#x4E2D;&#x7684;&#x6309;&#x5F15;&#x7528;&#x8C03;&#x7528;&#x4E0E;&#x8FD4;&#x56DE;</li><li style="line-height: 1.6;">&#x4EE5;&#x540E;&#x60F3;&#x5230;&#x518D;&#x52A0;</li></ul><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">C++&#x4E2D;&#x7684;&#x63A5;&#x53E3;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x63A5;&#x53E3;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x6309;&#x7167;&#x300A;&#x654F;&#x6377;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;-&#x539F;&#x5219;&#x3001;&#x6A21;&#x5F0F;&#x4E0E;&#x5B9E;&#x8DF5;&#x300B;&#x4E00;&#x4E66;&#x6240;&#x8FF0;&#xFF0C;&#x6240;&#x6709;&#x8F6F;&#x4EF6;&#x9AD8;&#x5C42;&#x4E0D;&#x5E94;&#x4F9D;&#x8D56;&#x4E8E;&#x4F4E;&#x5C42;&#xFF0C;&#x800C;&#x5E94;&#x4F9D;&#x8D56;&#x4E8E;&#x62BD;&#x8C61;&#x51FA;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4F9D;&#x8D56;&#x5012;&#x7F6E;&#x539F;&#x5219;(DIP)&#x3002;Java&#x4E2D;&#x7684;&#x63A5;&#x53E3;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">interface</code>&#x5B9A;&#x4E49;&#xFF0C;C++&#x4E2D;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4E13;&#x95E8;&#x7684;&#x5173;&#x952E;&#x5B57;&#x3002;&#x800C;&#x662F;&#x7528;&#x7EAF;&#x865A;&#x51FD;&#x6570;&#x6765;&#x8868;&#x793A;&#x63A5;&#x53E3;&#x3002;&#x5F62;&#x5982;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> <span style="display: inline; line-height: 1.6; color: #f92672;">interface</span></div><div style="line-height: 1.6;">&#123;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">public</span>:</div><div style="line-height: 1.6;">    virtual void <span style="display: inline; line-height: 1.6; color: #e6db74;">func</span>() = <span style="display: inline; line-height: 1.6; color: #ae81ff;">0</span>;</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x63A5;&#x53E3;&#x662F;&#x4E0D;&#x80FD;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5305;&#x542B;&#x4E86;&#x7EAF;&#x865A;&#x51FD;&#x6570;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x5355;&#x7C7B;&#x5B9A;&#x4E49;&#x591A;&#x63A5;&#x53E3;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;Java&#x4E2D;&#x5F88;&#x5BB9;&#x6613;&#x505A;&#x5230;&#xFF0C;&#x53EA;&#x9700;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">class A implement IA, IB&#123;&#125;</code>&#x5373;&#x53EF;&#x3002;&#x5728;C++&#x4E2D;&#x53EF;&#x5426;&#x8FD9;&#x4E48;&#x505A;&#x5462;&#xFF1F;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x60F3;&#x5230;C++&#x4E2D;&#x7684;&#x591A;&#x7EE7;&#x627F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IA &#123;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">public</span>:</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">funcA</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span> </span>= <span style="display: inline; line-height: 1.6; color: #ae81ff;">0</span>;</div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IB &#123;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">public</span>:</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">virtual</span> <span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">funcB</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span> </span>= <span style="display: inline; line-height: 1.6; color: #ae81ff;">0</span>;</div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> C : <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IA, <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IB &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">funcA</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span></span>;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">void</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">funcB</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span></span>;</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6309;&#x7167;&#x6700;&#x521D;&#x7684;&#x8BBE;&#x60F3;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x80FD;&#x591F;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #e6db74;">C</span>* c = <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">new</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">C</span>();</span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #a6e22e;">IA</span>* <span style="display: inline; line-height: 1.6; color: #a6e22e;">pA</span> = (<span style="display: inline; line-height: 1.6; color: #e6db74;">IA</span>*)<span style="display: inline; line-height: 1.6; color: #a6e22e;">c</span>;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #a6e22e;">IB</span>* <span style="display: inline; line-height: 1.6; color: #a6e22e;">pB</span> = (<span style="display: inline; line-height: 1.6; color: #e6db74;">IB</span>*)<span style="display: inline; line-height: 1.6; color: #a6e22e;">pA</span>;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #a6e22e;">pA</span>-&gt;<span style="display: inline; line-height: 1.6; color: #a6e22e;">funcA</span>(); <span style="display: inline; line-height: 1.6; color: #75715e;">// &#x8C03;&#x7528;A&#x51FD;&#x6570;</span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #a6e22e;">pB</span>-&gt;<span style="display: inline; line-height: 1.6; color: #a6e22e;">funcB</span>(); <span style="display: inline; line-height: 1.6; color: #75715e;">// &#x8C03;&#x7528;B&#x51FD;&#x6570;</span></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4F46;&#x6211;&#x53D1;&#x73B0;&#xFF0C;&#x73B0;&#x5B9E;&#x4E0E;&#x7406;&#x60F3;&#x5DEE;&#x5F97;&#x5F88;&#x8FDC;&#x3002;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">pB-&gt;funcB()</code>&#x8C03;&#x7528;&#x7684;&#x5176;&#x5B9E;&#x4E5F;&#x662F;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">funcA()</code>&#x3002;&#x539F;&#x56E0;&#x4E0E;&#x591A;&#x7EE7;&#x627F;&#x5185;&#x5B58;&#x5206;&#x5E03;&#x4E0E;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6709;&#x5173;&#x3002; <br>&#x5728;&#x53D1;&#x751F;&#x591A;&#x7EE7;&#x627F;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;C&#x5BF9;&#x8C61;&#x4E2D;&#x5185;&#x5B58;&#x5206;&#x5E03;&#x5982;&#x4E0B;&#xFF0C;&#x76D7;&#x7528;&#x9648;&#x6D69;&#x7684;&#x535A;&#x5BA2;<a href="http://blog.csdn.net/haoel/article/details/3081328" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">C++ &#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5B58;&#x5E03;&#x5C40;</a>&#x4E2D;&#x7684;&#x56FE;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/C++&#x5355;&#x7C7B;&#x5B9A;&#x4E49;&#x591A;&#x63A5;&#x53E3;/1520307655931.png" hash="07915d6e037e82a837f54b72885acd48" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">Base1* pA = (<span style="display: inline; line-height: 1.6; color: #f92672;">Base1*</span>)derive<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;">Base2* pB = (<span style="display: inline; line-height: 1.6; color: #f92672;">Base2*</span>)derive<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x53D1;&#x751F;&#x5411;&#x4E0A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5747;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x4E0D;&#x7528;&#x4F9D;&#x8D56;&#x4E8E;&#x5404;&#x79CD;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x5230;&#x6B63;&#x786E;&#x7684;&#x51FD;&#x6570;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x53D1;&#x751F;&#x975E;&#x6B63;&#x5E38;&#x7684;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x9047;&#x5230;&#x95EE;&#x9898;&#x3002;&#x4F8B;&#x5982;&#x524D;&#x6587;&#x6240;&#x8FF0;&#x7684;&#x5C06;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Base1</code>&#x578B;&#x6307;&#x9488;&#x76F4;&#x63A5;&#x8F6C;&#x578B;&#x5230;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">Base2</code>&#x5C31;&#x4F1A;&#x51FA;&#x95EE;&#x9898;&#x3002;&#x53EF;&#x53C2;&#x8003;&#x8FD9;&#x4E00;&#x7BC7;&#x535A;&#x6587;&#xFF1A;<a href="http://blog.csdn.net/smstong/article/details/24455371" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x5F53;C++&#x591A;&#x7EE7;&#x627F;&#x9047;&#x4E0A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;</a>&#x3002;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#x4E86;&#x4E09;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6211;&#x5C1D;&#x8BD5;&#x4E86;&#x524D;&#x4E24;&#x4E2A;&#xFF0C;&#x5206;&#x522B;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">static_cast</code>&#x548C;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x5747;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x3002;&#x5947;&#x602A;&#x7684;&#x662F;&#xFF0C;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x770B;&#x8D77;&#x6765;&#x5728;&#x7F51;&#x4E0A;&#x786E;&#x662F;&#x9887;&#x6709;&#x4E00;&#x4E9B;&#x652F;&#x6301;&#x8005;&#xFF0C;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x94FE;&#x63A5;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="https://stackoverflow.com/questions/15242841/multiple-inheritance-casting-from-base-class-to-a-different-derived-class" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Multiple inheritance casting from base class to a different derived class <br></a></li><li style="line-height: 1.6;"><a href="https://stackoverflow.com/questions/14121297/type-casting-to-an-interface-abstract-class-in-case-of-multiple-inheritance-in" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Type casting to an interface (Abstract class) in case of Multiple Inheritance in C++ <br></a></li><li style="line-height: 1.6;"><a href="https://stackoverflow.com/questions/5715865/how-to-perform-casting-with-multiple-inheritance" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">How to perform casting with multiple inheritance <br></a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x6211;&#x81EA;&#x5DF1;&#x7684;code&#x4E2D;&#xFF0C;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x867D;&#x7136;&#x6CA1;&#x6709;&#x629B;&#x51FA;bad cast&#x5F02;&#x5E38;&#xFF0C;&#x4F46;&#x662F;&#x8F6C;&#x6362;&#x7684;&#x7ED3;&#x6784;&#x662F;NULL&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x90FD;&#x4E0D;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x6700;&#x7EC8;&#x6211;&#x8FD8;&#x662F;&#x627E;&#x5230;&#x4E86;&#x80FD;&#x89E3;&#x51B3;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x5C3D;&#x7BA1;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x50CF;&#x60F3;&#x8C61;&#x4E2D;&#x4F18;&#x96C5;&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x65B9;&#x6848;&#x4E00;&#xFF1A;&#x91C7;&#x7528;&#x83F1;&#x5F62;&#x7EE7;&#x627F;</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6839;&#x636E;&#x67E5;&#x9605;&#x7684;&#x5404;&#x79CD;&#x7F51;&#x7AD9;&#x8D44;&#x6599;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x7EE7;&#x627F;&#x4F1A;&#x589E;&#x52A0;&#x5185;&#x5B58;&#x5E03;&#x5C40;&#xFF0C;&#x4EE5;&#x53CA;&#x8C03;&#x7528;&#x7684;&#x590D;&#x6742;&#x5EA6;&#x3002;&#x4F46;&#x786E;&#x5B9E;&#x80FD;&#x89E3;&#x51B3;&#x4E0A;&#x9762;&#x591A;&#x63A5;&#x53E3;&#x8F6C;&#x578B;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IBase</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IA : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IBase &#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IB : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IBase &#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> C : <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IA, <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IB &#123;&#125;</div><div style="line-height: 1.6;"><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">IA* pA = <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> C();</div><div style="line-height: 1.6;">IBase* base = (IBase*)pA;</div><div style="line-height: 1.6;">IB* pB = <span style="display: inline; line-height: 1.6; color: #f92672;">dynamic_cast</span>&lt;IB*&gt;(base);</div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x6837;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x8BA9;&#x4EBA;&#x5982;&#x9CA0;&#x5728;&#x5589;&#xFF0C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x641E;&#x7684;&#x8FD9;&#x4E48;&#x590D;&#x6742;&#x3002;&#x8F6C;&#x6765;&#x8F6C;&#x53BB;&#xFF0C;&#x53EF;&#x8BFB;&#x6027;&#x6781;&#x5DEE;&#xFF0C;&#x800C;&#x4E14;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x8FD8;&#x6709;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002; <br>&#x800C;&#x4E14;&#x8FD9;&#x91CC;&#x8FD8;&#x4F1A;&#x9047;&#x5230;source type is not polymorphic&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4F7F;&#x6DFB;&#x52A0;&#x865A;&#x6790;&#x6784;&#x51FD;&#x6570;&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IBase &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> ~IBase()&#123;&#125;;</div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IA : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IBase &#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> IB : <span style="display: inline; line-height: 1.6; color: #f92672;">virtual</span> <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IBase &#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">class</span> C : <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IA, <span style="display: inline; line-height: 1.6; color: #f92672;">public</span> IB &#123;&#125;</div><div style="line-height: 1.6;"><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">IA* pA = <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> C();</div><div style="line-height: 1.6;">IBase* base = (IBase*)pA;</div><div style="line-height: 1.6;">IB* pB = <span style="display: inline; line-height: 1.6; color: #f92672;">dynamic_cast</span>&lt;IB*&gt;(base);</div></div></code></pre><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x65B9;&#x6848;&#x4E8C;&#xFF1A;&#x91C7;&#x7528;&#x5355;&#x63A5;&#x53E3;</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x4E00;&#x65B9;&#x6848;&#xFF0C;&#x662F;&#x53D7;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x94FE;&#x63A5;&#x7684;&#x542F;&#x53D1;&#xFF1A;<a href="https://forums.zeroc.com/discussion/4994/implementing-multiple-interfaces-in-a-single-c-class" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Implementing multiple interfaces in a single C++ class</a></p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">As you found out, <strong style="font-weight: bold; line-height: 1.6;">you cannot implement two interfaces with one single C++ class directly</strong>. However, you could simply define a new Slice interface derived from the two other Slice interfaces, and then implement this new Slice interface with a single C++ class.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4F5C;&#x8005;&#x8BF4;C++&#x4E2D;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x591A;&#x63A5;&#x53E3;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x865A;&#x63A5;&#x53E3;&#x7C7B;&#x6765;&#x7EE7;&#x627F;&#x4E24;&#x4E2A;&#x865A;&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x7C7B;&#x76F4;&#x63A5;&#x7EE7;&#x627F;&#x81EA;&#x8FD9;&#x4E2A;&#x865A;&#x7C7B;&#x3002;&#x4EE3;&#x7801;&#x5982;&#x4E0B;:</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">class</span> <span style="display: inline; line-height: 1.6; color: #a6e22e; font-style: italic;">IA</span> </span>&#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">class</span> <span style="display: inline; line-height: 1.6; color: #a6e22e; font-style: italic;">IB</span> </span>&#123;&#125;</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">class</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2;">IAB</span> : <span style="display: inline; line-height: 1.6; color: #e6db74;">public IA</span>, <span style="display: inline; line-height: 1.6; color: #e6db74;">public IB &#123;&#125;</span></span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">class</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2;">C</span> : <span style="display: inline; line-height: 1.6; color: #e6db74;">public IAB &#123;&#125;</span></span></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x6837;&#x8F6C;&#x578B;&#x8D77;&#x6765;&#x5C31;&#x65B9;&#x4FBF;&#x591A;&#x4E86;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">C* c = new C()<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;">IA* pA = (<span style="display: inline; line-height: 1.6; color: #f92672;">IA*</span>)c<span style="display: inline; line-height: 1.6; color: #75715e;">;</span></div><div style="line-height: 1.6;">IB* pB = (<span style="display: inline; line-height: 1.6; color: #f92672;">IB*</span>)pA<span style="display: inline; line-height: 1.6; color: #75715e;">; // &#x4ECD;&#x4F1A;&#x51FA;&#x9519;&#xFF0C;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x8F6C;</span></div><div style="line-height: 1.6;">IB* pB2 = (<span style="display: inline; line-height: 1.6; color: #f92672;">IB*</span>)(<span style="display: inline; line-height: 1.6; color: #f92672;">IAB*</span>)pA<span style="display: inline; line-height: 1.6; color: #75715e;">; // &#x53EF;&#x4EE5;&#x5DE5;&#x4F5C;</span></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4F46;&#x5176;&#x5B9E;&#x4E0A;&#x5C42;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x4E8E;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IAB</code>&#xFF0C;&#x800C;&#x4E0D;&#x5E94;&#x8BE5;&#x4E5F;&#x4E0D;&#x80FD;&#x591F;&#x53EA;&#x4F9D;&#x8D56;&#x4E8E;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IA</code>, <code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IB</code>&#xFF0C;&#x800C;&#x5BF9;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IAB</code>&#x4E00;&#x65E0;&#x6240;&#x77E5;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x603B;&#x7ED3;</h2><ol style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x5728;&#x8BBE;&#x8BA1;&#x63A5;&#x53E3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x8981;&#x6307;&#x671B;&#x7528;&#x591A;&#x7EE7;&#x627F;&#x6765;&#x6A21;&#x4EFF;Java&#x91CC;&#x7684;&#x591A;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x3002;</li><li style="line-height: 1.6;">&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x5728;&#x591A;&#x7EE7;&#x627F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6CA1;&#x6709;&#x7EE7;&#x627F;&#x5173;&#x7CFB;(<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IA</code> &amp; <code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">IB</code>)&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6307;&#x9488;&#x8F6C;&#x578B;&#x3002;&#x867D;&#x7136;&#x83F1;&#x5F62;&#x7EE7;&#x627F;+<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">dynamic_cast</code>&#x53EF;&#x4EE5;&#x505A;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x8BFB;&#x6027;&#x548C;&#x6027;&#x80FD;&#x4F1A;&#x4E0B;&#x964D;&#x3002;</li><li style="line-height: 1.6;">&#x53EF;&#x4EE5;&#x7528;&#x65B9;&#x6848;&#x4E8C;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x8FD1;&#x4F3C;&#x7684;&#x591A;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x7B80;&#x4ECB;&#x6709;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#x3002;</li></ol></div><center style="display:none">%23%20C++%u5355%u7C7B%u5B9A%u4E49%u591A%u63A5%u53E3%0A@%28myblog%29%5Bc/c++%5D%0A%0A%u6700%u8FD1%u505AThoughtWorks%u7684%u9762%u8BD5%u9898%uFF0C%u7B2C%u4E00%u904D%u7528%u6700%u7B80%u5355%u7684%u65B9%u6CD5%u5B9E%u73B0%u4E86%uFF0C%u9762%u8BD5%u5B98%u8BF4%u6CA1%u6709OO%u8BBE%u8BA1%uFF0C%u4E8E%u662F%u4E4E%u60F3%u70AB%u4E00%u6CE2OO%u8BBE%u8BA1%uFF0C%u7ED3%u679C%u624D%u53D1%u73B0%uFF0C%u539F%u6765C++%u8FD8%u5DEE%u7684%u5F88%u8FDC%u3002%u5148%u6765%u8BF4%u8BF4%u8FD9%u4E2A%u591A%u63A5%u53E3%u7684%u5751%u3002%u8FD8%u4F1A%u6709%u53E6%u5916%u7684%u7B14%u8BB0%u9610%u8FF0%uFF1A%0A-%20%u8FD0%u7B97%u7B26%u91CD%u8F7D%u4E0E%u62F7%u8D1D%u6784%u9020%u51FD%u6570%0A-%20%u83F1%u5F62%u7EE7%u627F%0A-%20%u51FD%u6570%u4E2D%u7684%u6309%u5F15%u7528%u8C03%u7528%u4E0E%u8FD4%u56DE%0A-%20%u4EE5%u540E%u60F3%u5230%u518D%u52A0%0A%0A%23%23%20C++%u4E2D%u7684%u63A5%u53E3%0A%u63A5%u53E3%u662F%u9762%u5411%u5BF9%u8C61%u5F88%u91CD%u8981%u7684%u6982%u5FF5%u3002%u6309%u7167%u300A%u654F%u6377%u8F6F%u4EF6%u5F00%u53D1-%u539F%u5219%u3001%u6A21%u5F0F%u4E0E%u5B9E%u8DF5%u300B%u4E00%u4E66%u6240%u8FF0%uFF0C%u6240%u6709%u8F6F%u4EF6%u9AD8%u5C42%u4E0D%u5E94%u4F9D%u8D56%u4E8E%u4F4E%u5C42%uFF0C%u800C%u5E94%u4F9D%u8D56%u4E8E%u62BD%u8C61%u51FA%u7684%u63A5%u53E3%u3002%u8FD9%u5C31%u662F%u4F9D%u8D56%u5012%u7F6E%u539F%u5219%28DIP%29%u3002Java%u4E2D%u7684%u63A5%u53E3%u7528%60interface%60%u5B9A%u4E49%uFF0CC++%u4E2D%u6CA1%u6709%u63D0%u4F9B%u4E13%u95E8%u7684%u5173%u952E%u5B57%u3002%u800C%u662F%u7528%u7EAF%u865A%u51FD%u6570%u6765%u8868%u793A%u63A5%u53E3%u3002%u5F62%u5982%uFF1A%0A%60%60%60%0Aclass%20interface%0A%7B%0Apublic%3A%0A%09virtual%20void%20func%28%29%20%3D%200%3B%0A%7D%0A%60%60%60%0A%u63A5%u53E3%u662F%u4E0D%u80FD%u5B9E%u4F8B%u5316%u7684%uFF0C%u56E0%u4E3A%u5305%u542B%u4E86%u7EAF%u865A%u51FD%u6570%u3002%0A%0A%23%23%u5355%u7C7B%u5B9A%u4E49%u591A%u63A5%u53E3%0A%u5728Java%u4E2D%u5F88%u5BB9%u6613%u505A%u5230%uFF0C%u53EA%u9700%60class%20A%20implement%20IA%2C%20IB%7B%7D%60%u5373%u53EF%u3002%u5728C++%u4E2D%u53EF%u5426%u8FD9%u4E48%u505A%u5462%uFF1F%u5F88%u5BB9%u6613%u5C31%u60F3%u5230C++%u4E2D%u7684%u591A%u7EE7%u627F%uFF0C%u5982%u4E0B%uFF1A%0A%60%60%60%0Aclass%20IA%20%7B%0Apublic%3A%0A%09virtual%20void%20funcA%28%29%20%3D%200%3B%0A%7D%0Aclass%20IB%20%7B%0Apublic%3A%0A%09virtual%20void%20funcB%28%29%20%3D%200%3B%0A%7D%0Aclass%20C%20%3A%20public%20IA%2C%20public%20IB%20%7B%0A%09void%20funcA%28%29%3B%0A%09void%20funcB%28%29%3B%0A%7D%0A%60%60%60%0A%u6309%u7167%u6700%u521D%u7684%u8BBE%u60F3%uFF0C%u6211%u5E0C%u671B%u80FD%u591F%uFF1A%0A%60%60%60%0AC*%20c%20%3D%20new%20C%28%29%3B%0AIA*%20pA%20%3D%20%28IA*%29c%3B%0AIB*%20pB%20%3D%20%28IB*%29pA%3B%0ApA-%3EfuncA%28%29%3B%20//%20%u8C03%u7528A%u51FD%u6570%0ApB-%3EfuncB%28%29%3B%20//%20%u8C03%u7528B%u51FD%u6570%0A%60%60%60%0A%u4F46%u6211%u53D1%u73B0%uFF0C%u73B0%u5B9E%u4E0E%u7406%u60F3%u5DEE%u5F97%u5F88%u8FDC%u3002%60pB-%3EfuncB%28%29%60%u8C03%u7528%u7684%u5176%u5B9E%u4E5F%u662F%60funcA%28%29%60%u3002%u539F%u56E0%u4E0E%u591A%u7EE7%u627F%u5185%u5B58%u5206%u5E03%u4E0E%u7C7B%u578B%u8F6C%u6362%u6709%u5173%u3002%0A%u5728%u53D1%u751F%u591A%u7EE7%u627F%u65F6%uFF0C%u4E00%u4E2AC%u5BF9%u8C61%u4E2D%u5185%u5B58%u5206%u5E03%u5982%u4E0B%uFF0C%u76D7%u7528%u9648%u6D69%u7684%u535A%u5BA2%5BC++%20%u5BF9%u8C61%u7684%u5185%u5B58%u5E03%u5C40%5D%28http%3A//blog.csdn.net/haoel/article/details/3081328%29%u4E2D%u7684%u56FE%uFF1A%0A%21%5BAlt%20text%5D%28./1520307655931.png%29%20%21%5BAlt%20text%5D%28./1520307665220.png%29%0A%0A%60%60%60%0ABase1*%20pA%20%3D%20%28Base1*%29derive%3B%0ABase2*%20pB%20%3D%20%28Base2*%29derive%3B%0A%60%60%60%0A%u5F53%u53D1%u751F%u5411%u4E0A%u7C7B%u578B%u8F6C%u6362%u65F6%uFF0C%u7F16%u8BD1%u5668%u5747%u80FD%u5F88%u597D%u7684%u5DE5%u4F5C%uFF0C%u4E0D%u7528%u4F9D%u8D56%u4E8E%u5404%u79CD%u5F3A%u5236%u8F6C%u6362%uFF0C%u4E5F%u53EF%u4EE5%u8BC6%u522B%u5230%u6B63%u786E%u7684%u51FD%u6570%u3002%u4F46%u662F%u5982%u679C%u53D1%u751F%u975E%u6B63%u5E38%u7684%u7C7B%u578B%u8F6C%u6362%u65F6%uFF0C%u5C31%u4F1A%u9047%u5230%u95EE%u9898%u3002%u4F8B%u5982%u524D%u6587%u6240%u8FF0%u7684%u5C06%60Base1%60%u578B%u6307%u9488%u76F4%u63A5%u8F6C%u578B%u5230%60Base2%60%u5C31%u4F1A%u51FA%u95EE%u9898%u3002%u53EF%u53C2%u8003%u8FD9%u4E00%u7BC7%u535A%u6587%uFF1A%5B%u5F53C++%u591A%u7EE7%u627F%u9047%u4E0A%u7C7B%u578B%u8F6C%u6362%5D%28http%3A//blog.csdn.net/smstong/article/details/24455371%29%u3002%u6587%u4E2D%u63D0%u5230%u4E86%u4E09%u4E2A%u89E3%u51B3%u65B9%u6848%uFF0C%u6211%u5C1D%u8BD5%u4E86%u524D%u4E24%u4E2A%uFF0C%u5206%u522B%u7528%60static_cast%60%u548C%60dynamic_cast%60%u5747%u4E0D%u80FD%u89E3%u51B3%u3002%u5947%u602A%u7684%u662F%uFF0C%60dynamic_cast%60%u7684%u89E3%u51B3%u65B9%u6848%u770B%u8D77%u6765%u5728%u7F51%u4E0A%u786E%u662F%u9887%u6709%u4E00%u4E9B%u652F%u6301%u8005%uFF0C%u770B%u4E0B%u9762%u7684%u94FE%u63A5%uFF1A%0A-%20%5BMultiple%20inheritance%20casting%20from%20base%20class%20to%20a%20different%20derived%20class%0A%5D%28https%3A//stackoverflow.com/questions/15242841/multiple-inheritance-casting-from-base-class-to-a-different-derived-class%29%0A-%20%5BType%20casting%20to%20an%20interface%20%28Abstract%20class%29%20in%20case%20of%20Multiple%20Inheritance%20in%20C++%0A%5D%28https%3A//stackoverflow.com/questions/14121297/type-casting-to-an-interface-abstract-class-in-case-of-multiple-inheritance-in%29%0A-%20%5BHow%20to%20perform%20casting%20with%20multiple%20inheritance%0A%5D%28https%3A//stackoverflow.com/questions/5715865/how-to-perform-casting-with-multiple-inheritance%29%0A%0A%u5728%u6211%u81EA%u5DF1%u7684code%u4E2D%uFF0C%60dynamic_cast%60%u4E4B%u540E%u7684%u7ED3%u679C%u662F%u867D%u7136%u6CA1%u6709%u629B%u51FAbad%20cast%u5F02%u5E38%uFF0C%u4F46%u662F%u8F6C%u6362%u7684%u7ED3%u6784%u662FNULL%u3002%0A%0A%23%23%20%u89E3%u51B3%u65B9%u6848%0A%u4E0A%u9762%u63D0%u5230%u7684%u65B9%u6848%uFF0C%u90FD%u4E0D%u6210%u529F%uFF0C%u4F46%u6700%u7EC8%u6211%u8FD8%u662F%u627E%u5230%u4E86%u80FD%u89E3%u51B3%u7684%u529E%u6CD5%uFF0C%u5C3D%u7BA1%u770B%u8D77%u6765%u4E0D%u50CF%u60F3%u8C61%u4E2D%u4F18%u96C5%u3002%0A%23%23%23%20%u65B9%u6848%u4E00%uFF1A%u91C7%u7528%u83F1%u5F62%u7EE7%u627F%0A%u6839%u636E%u67E5%u9605%u7684%u5404%u79CD%u7F51%u7AD9%u8D44%u6599%uFF0C%u8FD9%u6837%u7684%u7EE7%u627F%u4F1A%u589E%u52A0%u5185%u5B58%u5E03%u5C40%uFF0C%u4EE5%u53CA%u8C03%u7528%u7684%u590D%u6742%u5EA6%u3002%u4F46%u786E%u5B9E%u80FD%u89E3%u51B3%u4E0A%u9762%u591A%u63A5%u53E3%u8F6C%u578B%u7684%u95EE%u9898%u3002%u5177%u4F53%u4EE3%u7801%u5982%u4E0B%uFF1A%0A%60%60%60%0Aclass%20IBase%0Aclass%20IA%20%3A%20virtual%20public%20IBase%20%7B%7D%0Aclass%20IB%20%3A%20virtual%20public%20IBase%20%7B%7D%0Aclass%20C%20%3A%20public%20IA%2C%20public%20IB%20%7B%7D%0A%0AIA*%20pA%20%3D%20new%20C%28%29%3B%0AIBase*%20base%20%3D%20%28IBase*%29pA%3B%0AIB*%20pB%20%3D%20dynamic_cast%3CIB*%3E%28base%29%3B%0A%60%60%60%20%0A%u8FD9%u6837%u7684%u505A%u6CD5%uFF0C%u8BA9%u4EBA%u5982%u9CA0%u5728%u5589%uFF0C%u4E00%u4E2A%u7B80%u5355%u7684%u8C03%u7528%uFF0C%u641E%u7684%u8FD9%u4E48%u590D%u6742%u3002%u8F6C%u6765%u8F6C%u53BB%uFF0C%u53EF%u8BFB%u6027%u6781%u5DEE%uFF0C%u800C%u4E14%60dynamic_cast%60%u8FD8%u6709%u6027%u80FD%u95EE%u9898%u3002%0A%u800C%u4E14%u8FD9%u91CC%u8FD8%u4F1A%u9047%u5230source%20type%20is%20not%20polymorphic%u7684%u95EE%u9898%uFF0C%u89E3%u51B3%u65B9%u6CD5%u4F7F%u6DFB%u52A0%u865A%u6790%u6784%u51FD%u6570%u3002%0A%60%60%60%0Aclass%20IBase%20%7B%0A%09virtual%20%7EIBase%28%29%7B%7D%3B%0A%7D%0Aclass%20IA%20%3A%20virtual%20public%20IBase%20%7B%7D%20%0Aclass%20IB%20%3A%20virtual%20public%20IBase%20%7B%7D%0Aclass%20C%20%3A%20public%20IA%2C%20public%20IB%20%7B%7D%0A%0AIA*%20pA%20%3D%20new%20C%28%29%3B%0AIBase*%20base%20%3D%20%28IBase*%29pA%3B%0AIB*%20pB%20%3D%20dynamic_cast%3CIB*%3E%28base%29%3B%0A%60%60%60%20%0A%0A%23%23%23%20%u65B9%u6848%u4E8C%uFF1A%u91C7%u7528%u5355%u63A5%u53E3%0A%u8FD9%u4E00%u65B9%u6848%uFF0C%u662F%u53D7%u4E86%u4E0B%u9762%u7684%u94FE%u63A5%u7684%u542F%u53D1%uFF1A%5BImplementing%20multiple%20interfaces%20in%20a%20single%20C++%20class%5D%28https%3A//forums.zeroc.com/discussion/4994/implementing-multiple-interfaces-in-a-single-c-class%29%0A%0A%3E%20As%20you%20found%20out%2C%20**you%20cannot%20implement%20two%20interfaces%20with%20one%20single%20C++%20class%20directly**.%20However%2C%20you%20could%20simply%20define%20a%20new%20Slice%20interface%20derived%20from%20the%20two%20other%20Slice%20interfaces%2C%20and%20then%20implement%20this%20new%20Slice%20interface%20with%20a%20single%20C++%20class.%0A%0A%u4F5C%u8005%u8BF4C++%u4E2D%u76F4%u63A5%u5B9A%u4E49%u591A%u63A5%u53E3%u5E76%u4E0D%u662F%u4E00%u4E2A%u597D%u7684%u5B9E%u73B0%uFF0C%u5B9A%u4E49%u4E00%u4E2A%u865A%u63A5%u53E3%u7C7B%u6765%u7EE7%u627F%u4E24%u4E2A%u865A%u63A5%u53E3%uFF0C%u5B9E%u73B0%u7C7B%u76F4%u63A5%u7EE7%u627F%u81EA%u8FD9%u4E2A%u865A%u7C7B%u3002%u4EE3%u7801%u5982%u4E0B%3A%0A%60%60%60%0Aclass%20IA%20%7B%7D%0Aclass%20IB%20%7B%7D%0Aclass%20IAB%20%3A%20public%20IA%2C%20public%20IB%20%7B%7D%0Aclass%20C%20%3A%20public%20IAB%20%7B%7D%0A%60%60%60%0A%u8FD9%u6837%u8F6C%u578B%u8D77%u6765%u5C31%u65B9%u4FBF%u591A%u4E86%0A%60%60%60%0AC*%20c%20%3D%20new%20C%28%29%3B%0AIA*%20pA%20%3D%20%28IA*%29c%3B%0AIB*%20pB%20%3D%20%28IB*%29pA%3B%20//%20%u4ECD%u4F1A%u51FA%u9519%uFF0C%u4E0D%u80FD%u76F4%u63A5%u8F6C%0AIB*%20pB2%20%3D%20%28IB*%29%28IAB*%29pA%3B%20//%20%u53EF%u4EE5%u5DE5%u4F5C%0A%60%60%60%0A%u4F46%u5176%u5B9E%u4E0A%u5C42%u7684%u4EE3%u7801%uFF0C%u5E94%u8BE5%u4F9D%u8D56%u4E8E%60IAB%60%uFF0C%u800C%u4E0D%u5E94%u8BE5%u4E5F%u4E0D%u80FD%u591F%u53EA%u4F9D%u8D56%u4E8E%60IA%60%2C%20%60IB%60%uFF0C%u800C%u5BF9%60IAB%60%u4E00%u65E0%u6240%u77E5%u3002%0A%0A%23%23%20%u603B%u7ED3%0A1.%20%u5728%u8BBE%u8BA1%u63A5%u53E3%u7684%u65F6%u5019%uFF0C%u4E0D%u8981%u6307%u671B%u7528%u591A%u7EE7%u627F%u6765%u6A21%u4EFFJava%u91CC%u7684%u591A%u63A5%u53E3%u5B9A%u4E49%u3002%0A2.%20%u5C3D%u91CF%u907F%u514D%u5728%u591A%u7EE7%u627F%u7684%u65F6%u5019%uFF0C%u9700%u8981%u5728%u6CA1%u6709%u7EE7%u627F%u5173%u7CFB%28%60IA%60%20%26%20%60IB%60%29%u4E4B%u95F4%u8FDB%u884C%u6307%u9488%u8F6C%u578B%u3002%u867D%u7136%u83F1%u5F62%u7EE7%u627F+%60dynamic_cast%60%u53EF%u4EE5%u505A%u5230%uFF0C%u4F46%u662F%u53EF%u8BFB%u6027%u548C%u6027%u80FD%u4F1A%u4E0B%u964D%u3002%0A3.%20%u53EF%u4EE5%u7528%u65B9%u6848%u4E8C%u4E2D%u7684%u65B9%u6CD5%u6765%u5B9E%u73B0%u8FD1%u4F3C%u7684%u591A%u63A5%u53E3%u5B9A%u4E49%u3002%u8FD9%u662F%u4E00%u4E2A%u76F8%u5BF9%u7B80%u4ECB%u6709%u6548%u7684%u65B9%u6CD5%u3002%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2018/01/17/XSharedPreference%20&%20SharedPreference%20-%20XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/01/17/XSharedPreference%20&%20SharedPreference%20-%20XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">XSharedPreference & SharedPreference - XPosed模块中的preference使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-01-17 12:39:32" itemprop="dateCreated datePublished" datetime="2018-01-17T12:39:32+08:00">2018-01-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2018-01-19 12:04:30" itemprop="dateModified" datetime="2018-01-19T12:04:30+08:00">2018-01-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <div class="enNote" style="color: #2c3f51; line-height: 1.6; display: block;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=08e07dee-5c97-456f-bc56-9bc11bb354a0&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6; display: block;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6700;&#x8FD1;&#x5728;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;Xposed&#x6A21;&#x5757;[]Niwatori-One Handed Mode](<a href="https://github.com/tkgktyk/Niwatori" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">https://github.com/tkgktyk/Niwatori</a>)&#x3002;&#x539F;&#x4F5C;&#x8005;tkgktyk&#x5DF2;&#x7ECF;&#x505C;&#x6B62;&#x66F4;&#x65B0;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;&#x6A21;&#x5757;&#x5728;Xposed Framework for Nougat&#x53D1;&#x5E03;&#x4EE5;&#x540E;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x3002;&#x4E8E;&#x662F;&#x6211;fork&#x4E86;&#x4E00;&#x4EFD;&#x4EE3;&#x7801;&#xFF0C;&#x5F00;&#x59CB;&#x505A;Android Nougat&#x4E0A;&#x7684;&#x9002;&#x914D;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E76;&#x5728;XDA&#x4E0A;&#x53D1;&#x5E03;&#x4E86;&#x66F4;&#x65B0;<a href="https://forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x94FE;&#x63A5;</a>&#x3002; <br>&#x5728;&#x9002;&#x914D;&#x4E86;Nougat&#x4E4B;&#x540E;&#xFF0C;&#x5E0C;&#x671B;&#x80FD;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x66F4;&#x597D;&#x3002;&#x76EE;&#x524D;&#x60F3;&#x505A;&#x7684;&#x662F;&#x80FD;&#x901A;&#x8FC7;fooview&#x8C03;&#x7528;Niwatori&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002;&#x5E76;&#x4E14;&#x8BE5;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F8B;&#x5982;&#x662F;small screen&#x8FD8;&#x662F;slide down&#x7B49;&#x7B49;&#xFF0C;&#x80FD;&#x901A;&#x8FC7;Niwatori&#x672C;&#x8EAB;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;&#x4F46;&#x662F;&#x5728;&#x5F00;&#x53D1;&#x8FD9;&#x4E00;&#x529F;&#x80FD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53D1;&#x73B0;&#x52A8;&#x6001;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x7684;&#x52A0;&#x8F7D;&#x9700;&#x8981;&#x4F7F;&#x7528;SDK 25&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x800C;&#x4ECE;SDK 25&#x5F00;&#x59CB;&#xFF0C;&#x539F;&#x5148;SharedPreference&#x7684;&#x6253;&#x5F00;&#x65B9;&#x5F0F;MODE_WORLD_PRIVATE&#x5DF2;&#x7ECF;&#x88AB;&#x7981;&#x6B62;&#x4E86;&#x3002;&#x4F7F;&#x7528;&#x5B83;&#x4F1A;&#x5BFC;&#x81F4;security exception&#x3002; <br>&#x6240;&#x4EE5;&#x8981;&#x5347;&#x5230;&#x4F7F;&#x7528;SDK 25&#xFF0C;&#x5FC5;&#x987B;&#x89E3;&#x51B3;preference&#x5F15;&#x7528;&#x7684;&#x95EE;&#x9898;&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x6A21;&#x5F0F;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5230;&#x5E95;&#x4F1A;&#x5728;&#x54EA;&#x91CC;&#x5F71;&#x54CD;&#x5230;&#x6211;&#x4EEC;&#x7684;Xposed&#x6A21;&#x5757;&#x5462;&#xFF1F;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">Xposed&#x4E2D;&#x7684;preference</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">Xposed&#x6A21;&#x5757;&#x4E2D;&#x4F7F;&#x7528;preference&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x901A;&#x8FC7;XSharedPreference&#x6765;&#x64CD;&#x4F5C;&#x3002;XSharedPreference&#x5728;Android&#x6807;&#x51C6;&#x7684;SharedPreference&#x7C7B;&#x4E0A;&#x5305;&#x4E86;&#x4E00;&#x5C42;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;security&#x7684;fix&#x6216;&#x8005;work around&#x3002;&#x4F8B;&#x5982;&#xFF1A;XSharedPreference.makeWorldReadable&#x3002;&#x4ED6;&#x4EEC;&#x90FD;&#x662F;&#x52A0;&#x8F7D;app data&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;xml&#x6587;&#x4EF6;&#x6765;&#x8BFB;&#x53D6;&#x3001;&#x5B58;&#x50A8;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x3002;&#x8BE5;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4E3A;&#xFF08;&#x4EE5;Niwatori&#x4E3A;&#x4F8B;&#xFF09;&#xFF1A;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml</code>&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x901A;&#x5E38;Xposed&#x4E2D;&#x5982;&#x4E0B;&#x4F7F;&#x7528;preference&#x4F1A;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x7684;&#x65F6;&#x5E8F;&#x56FE;&#xFF0C;&#x4EE5;Niwatori&#x4E3A;&#x4F8B;&#xFF1A;</p><div style="text-align: center; margin-bottom: 1.1em; line-height: 1.6; display: block;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/XSharedPreference &amp; SharedPreference - XPosed&#x6A21;&#x5757;&#x4E2D;&#x7684;preference&#x4F7F;&#x7528;/SVG78bf507dfa06d67d15e9356fa67699ec" hash="faf526b522cf280365ebea346d0a680e" align alt longdesc width="1057.2" height="454.2" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></div><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">XSharedPreference&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x5728;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">initZygote</code>&#x4E2D;</li><li style="line-height: 1.6;">&#x6570;&#x636E;&#x7684;&#x4F7F;&#x7528;&#x901A;&#x8FC7;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5404;&#x4E2A;app&#x7684;Context&#x5E95;&#x4E0B;&#x6267;&#x884C;</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E8E;&#x662F;&#x5F53;MODE_WORLD_READABLE&#x88AB;&#x5E9F;&#x6B62;&#x4EE5;&#x540E;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x51FA;&#x95EE;&#x9898;&#x4E86;&#x3002;&#x5373;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;app1&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x67E5;&#x770B;Niwatori&#x7684;preference&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x6CD5;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">Xposed&#x5B98;&#x65B9;&#x6216;&#x8005;&#x4F5C;&#x8005;rovo89&#x8FD8;&#x6CA1;&#x6709;&#x7ED9;&#x51FA;&#x5B98;&#x65B9;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x4F46;&#x603B;&#x662F;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x672A;&#x96E8;&#x7EF8;&#x7F2A;&#x7684;&#x52C7;&#x58EB;&#xFF0C;XDA&#x4E0A;&#x6709;&#x4E00;&#x4E2A;&#x5E16;&#x5B50;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;work around&#xFF1A;<a href="https://forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">MODE_WORLD_READABLE in Android N</a></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6211;&#x5728;Niwatori&#x4E2D;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x4E0D;&#x662F;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#xFF0C;&#x800C;&#x4E14;&#x76EE;&#x524D;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x6539;&#x8FDB;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x9057;&#x7559;&#x7684;&#x95EE;&#x9898;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8BE5;work around&#x548C;XSharedPreference.makeWorldReadable&#x540C;&#x7406;&#xFF0C;&#x6211;&#x5982;&#x4E0B;&#x8C03;&#x7528;preference&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6; display: block;">mPrefs.makeWorldReadable();</div><div style="line-height: 1.6; display: block;"><span style="display: inline; line-height: 1.6; color: #f92672;">Log</span>.<span style="display: inline; line-height: 1.6; color: #e6db74;">e</span>(<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;Ben&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;package:&quot;</span> + decorView.getContext().getPackageName() + <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;, &quot;</span> + decorView + <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;,&quot;</span> + mPrefs.getString(<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;key_boundary_color_ms&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;default value&quot;</span>));</div><div style="line-height: 1.6; display: block;"><span style="display: inline; line-height: 1.6; color: #f92672;">Log</span>.<span style="display: inline; line-height: 1.6; color: #e6db74;">e</span>(<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;Ben&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;file can read: &quot;</span> + mPrefs.getFile().canRead()); &lt;-- &#x6709;&#x4E9B;<span style="display: inline; line-height: 1.6; color: #f92672;">app</span>&#x4F1A;&#x662F;true&#xFF0C;&#x6709;&#x4E9B;<span style="display: inline; line-height: 1.6; color: #f92672;">app</span>&#x4F1A;&#x662F;false</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x8FD4;&#x56DE;true&#x7684;&#x65F6;&#x5019;&#xFF0C;settings&#x5C31;&#x6210;&#x529F;&#x7684;&#x4F20;&#x5230;&#x4E86;&#x5BF9;&#x5E94;app&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x800C;&#x53EF;&#x4EE5;read&#x65F6;&#x800C;&#x4E0D;&#x53EF;&#x4EE5;read&#xFF0C;&#x6211;&#x4E5F;&#x5F88;&#x82E6;&#x607C;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x600E;&#x4E48;&#x56DE;&#x4E8B;&#x513F;&#x3002;&#x7559;&#x5F85;&#x4EE5;&#x540E;&#x518D;&#x89E3;&#x51B3;&#x4E86;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x89E3;&#x51B3;&#x9057;&#x7559;&#x7684;&#x95EE;&#x9898; - 20180119</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4EE5;&#x4E0A;&#x7684;&#x95EE;&#x9898;&#x5728;&#x4E8E;&#xFF0C;Android 7.0&#x5F00;&#x59CB;&#xFF0C;&#x5373;&#x4ECE;SDK 24&#x5F00;&#x59CB;&#xFF0C;Android&#x52A0;&#x5165;&#x4E86;&#x5F88;&#x591A;security&#x65B9;&#x9762;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x53C2;&#x8003;<a href="https://blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Android 7.0 Security Features: Direct Boot</a>&#x3002;&#x8FD9;&#x548C;&#x6211;&#x4EEC;&#x7684;&#x95EE;&#x9898;&#x4E0D;&#x592A;&#x76F8;&#x5173;&#x3002;&#x76F8;&#x5173;&#x7684;&#x662F;&#x5982;&#x4E0A;&#x6240;&#x8BF4;&#xFF0C;Nougat&#x4E0D;&#x5141;&#x8BB8;world readable&#x7684;&#x6587;&#x4EF6;&#x4E86;&#x3002;&#x5982;&#x679C;&#x7528;SDK25&#x7F16;&#x8BD1;&#x7684;app&#x8FD8;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">MODE_WORLD_READABLE</code>&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x62A5;exception&#x3002; <br>Google&#x4E0A;&#x9C9C;&#x5C11;&#x6709;&#x76F8;&#x5173;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;&#x94FE;&#x63A5;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="https://github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">GravityBox commit - Use device protected storage for preferences and files</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/206" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 1 - Any place to store world readable preferences on Nougat?</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/74" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 2 - Preferences of a module cannot be read from different process on some devices running MM</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/102" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 3 - XSharedPreferences doesn&#x2019;t work</a></li><li style="line-height: 1.6;"><a href="https://forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">[Q] Xposed for nougat to read prefs ith fbe or without</a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7ECF;&#x8FC7;&#x9A8C;&#x8BC1;&#xFF0C;&#x662F;XposedBridge issue 1&#x4E2D;GravityBox&#x4F5C;&#x8005;&#x7684;&#x4E00;&#x4E2A;comment&#x63D0;&#x5230;&#x4E86;&#x6700;&#x7EC8;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;&#x8BE5;comment&#x5982;&#x4E0B;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/XSharedPreference &amp; SharedPreference - XPosed&#x6A21;&#x5757;&#x4E2D;&#x7684;preference&#x4F7F;&#x7528;/1516334231370.png" hash="4bb9cc0ad024876dd28baed5c27bad27" align alt longdesc width="792" height="382" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">setStorageDeviceProtected</code></li><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">createDeviceProtectedStorageContext</code></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5C06;preference&#x6587;&#x4EF6;&#x5B58;&#x5230;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/data/user_de/0/&lt;package name&gt;/shared_prefs</code>&#x4E0B;&#x3002;&#x5E76;&#x5728;Xposed&#x7684;context&#x7AEF;&#xFF0C;&#x76F4;&#x63A5;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002; <br>&#x4F46;&#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x5982;&#x6B64;&#x3002;&#x53EA;&#x8981;&#x4FDD;&#x8BC1;package folder&#x7684;&#x6743;&#x9650;&#x81F3;&#x5C11;&#x662F;711&#xFF0C;preference.xml&#x6587;&#x4EF6;&#x6709;&#x53EF;&#x8BFB;&#x6743;&#x9650;&#x5373;&#x53EF;&#x3002;</p></div><center style="display:none">%23%20XSharedPreference%20%26%20SharedPreference%20-%20XPosed%u6A21%u5757%u4E2D%u7684preference%u4F7F%u7528%0A@%28myblog%29%5BAndroid%2C%20xposed%5D%0A%0A%u6700%u8FD1%u5728%u7EF4%u62A4%u4E00%u4E2AXposed%u6A21%u5757%5B%5DNiwatori-One%20Handed%20Mode%5D%28https%3A//github.com/tkgktyk/Niwatori%29%u3002%u539F%u4F5C%u8005tkgktyk%u5DF2%u7ECF%u505C%u6B62%u66F4%u65B0%u4E86%uFF0C%u5BFC%u81F4%u6A21%u5757%u5728Xposed%20Framework%20for%20Nougat%u53D1%u5E03%u4EE5%u540E%uFF0C%u4E0D%u80FD%u4F7F%u7528%u3002%u4E8E%u662F%u6211fork%u4E86%u4E00%u4EFD%u4EE3%u7801%uFF0C%u5F00%u59CB%u505AAndroid%20Nougat%u4E0A%u7684%u9002%u914D%u5DE5%u4F5C%uFF0C%u5E76%u5728XDA%u4E0A%u53D1%u5E03%u4E86%u66F4%u65B0%5B%u94FE%u63A5%5D%28https%3A//forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963%29%u3002%0A%u5728%u9002%u914D%u4E86Nougat%u4E4B%u540E%uFF0C%u5E0C%u671B%u80FD%u6DFB%u52A0%u4E00%u4E9B%u65B0%u529F%u80FD%uFF0C%u8BA9%u7528%u6237%u4F53%u9A8C%u66F4%u597D%u3002%u76EE%u524D%u60F3%u505A%u7684%u662F%u80FD%u901A%u8FC7fooview%u8C03%u7528Niwatori%u7684%u5FEB%u6377%u65B9%u5F0F%u3002%u5E76%u4E14%u8BE5%u5FEB%u6377%u65B9%u5F0F%u7684%u529F%u80FD%uFF0C%u4F8B%u5982%u662Fsmall%20screen%u8FD8%u662Fslide%20down%u7B49%u7B49%uFF0C%u80FD%u901A%u8FC7Niwatori%u672C%u8EAB%u8FDB%u884C%u914D%u7F6E%u3002%u4F46%u662F%u5728%u5F00%u53D1%u8FD9%u4E00%u529F%u80FD%u7684%u65F6%u5019%uFF0C%u53D1%u73B0%u52A8%u6001%u5FEB%u6377%u65B9%u5F0F%u7684%u52A0%u8F7D%u9700%u8981%u4F7F%u7528SDK%2025%u4EE5%u4E0A%u7248%u672C%uFF0C%u800C%u4ECESDK%2025%u5F00%u59CB%uFF0C%u539F%u5148SharedPreference%u7684%u6253%u5F00%u65B9%u5F0FMODE%5C_WORLD%5C_PRIVATE%u5DF2%u7ECF%u88AB%u7981%u6B62%u4E86%u3002%u4F7F%u7528%u5B83%u4F1A%u5BFC%u81F4security%20exception%u3002%0A%u6240%u4EE5%u8981%u5347%u5230%u4F7F%u7528SDK%2025%uFF0C%u5FC5%u987B%u89E3%u51B3preference%u5F15%u7528%u7684%u95EE%u9898%u3002%u90A3%u4E48%u8FD9%u4E2A%u6A21%u5F0F%u7684%u53D8%u5316%uFF0C%u5230%u5E95%u4F1A%u5728%u54EA%u91CC%u5F71%u54CD%u5230%u6211%u4EEC%u7684Xposed%u6A21%u5757%u5462%uFF1F%0A%0A%23%23%20Xposed%u4E2D%u7684preference%0AXposed%u6A21%u5757%u4E2D%u4F7F%u7528preference%u7684%u65F6%u5019%uFF0C%u901A%u5E38%u90FD%u662F%u901A%u8FC7XSharedPreference%u6765%u64CD%u4F5C%u3002XSharedPreference%u5728Android%u6807%u51C6%u7684SharedPreference%u7C7B%u4E0A%u5305%u4E86%u4E00%u5C42%uFF0C%u63D0%u4F9B%u4E86%u4E00%u4E9Bsecurity%u7684fix%u6216%u8005work%20around%u3002%u4F8B%u5982%uFF1AXSharedPreference.makeWorldReadable%u3002%u4ED6%u4EEC%u90FD%u662F%u52A0%u8F7Dapp%20data%u6587%u4EF6%u5939%u4E0B%u7684xml%u6587%u4EF6%u6765%u8BFB%u53D6%u3001%u5B58%u50A8%u952E%u503C%u5BF9%u7684%u3002%u8BE5%u6587%u4EF6%u8DEF%u5F84%u4E3A%uFF08%u4EE5Niwatori%u4E3A%u4F8B%uFF09%uFF1A%60/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml%60%u3002%0A%0A%u901A%u5E38Xposed%u4E2D%u5982%u4E0B%u4F7F%u7528preference%u4F1A%u6309%u7167%u5982%u4E0B%u7684%u65F6%u5E8F%u56FE%uFF0C%u4EE5Niwatori%u4E3A%u4F8B%uFF1A%0A%60%60%60%20sequence%0ANote%20left%20of%20Niwatori%3A%20initZygote%0ANote%20left%20of%20Niwatori%3A%20Construct%20a%20XSharedPreference%0ANiwatori-%3EActivity.class%3A%20hook%0AActivity.class-%3Eapp1%3A%20onCreate%0ANote%20right%20of%20app1%3A%20load%20the%20XSharedPreference%0AActivity.class-%3Eapp2%3A%20onCreate%0ANote%20right%20of%20app2%3A%20load%20the%20XSharedPreference%0A%60%60%60%0A-%20XSharedPreference%u5B9E%u4F8B%u521B%u5EFA%u5728%u6A21%u5757%u52A0%u8F7D%u7684%60initZygote%60%u4E2D%0A-%20%u6570%u636E%u7684%u4F7F%u7528%u901A%u8FC7%u94A9%u5B50%u51FD%u6570%uFF0C%u5728%u5404%u4E2Aapp%u7684Context%u5E95%u4E0B%u6267%u884C%0A%0A%u4E8E%u662F%u5F53MODE%5C_WORLD%5C_READABLE%u88AB%u5E9F%u6B62%u4EE5%u540E%uFF0C%u8FD9%u91CC%u5C31%u51FA%u95EE%u9898%u4E86%u3002%u5373%u5728%u9ED8%u8BA4%u60C5%u51B5%u4E0B%uFF0Capp1%u662F%u6CA1%u6709%u6743%u9650%u67E5%u770BNiwatori%u7684preference%u6587%u4EF6%u7684%uFF0C%u4E5F%u5C31%u6CA1%u6CD5%u52A0%u8F7D%u914D%u7F6E%u6570%u636E%u3002%0A%0AXposed%u5B98%u65B9%u6216%u8005%u4F5C%u8005rovo89%u8FD8%u6CA1%u6709%u7ED9%u51FA%u5B98%u65B9%u7684%u89E3%u51B3%u529E%u6CD5%uFF0C%u4F46%u603B%u662F%u4F1A%u6709%u4E00%u4E9B%u672A%u96E8%u7EF8%u7F2A%u7684%u52C7%u58EB%uFF0CXDA%u4E0A%u6709%u4E00%u4E2A%u5E16%u5B50%u7ED9%u51FA%u4E86%u4E00%u4E2Awork%20around%uFF1A%5BMODE_WORLD_READABLE%20in%20Android%20N%5D%28https%3A//forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123%29%0A%0A%u6211%u5728Niwatori%u4E2D%u4E5F%u4F7F%u7528%u4E86%u8BE5%u65B9%u6CD5%uFF0C%u4F46%u4ECD%u7136%u4E0D%u662F%u5B8C%u7F8E%u89E3%u51B3%uFF0C%u800C%u4E14%u76EE%u524D%u8FD8%u4E0D%u77E5%u9053%u5982%u4F55%u6539%u8FDB%u3002%0A%0A%23%23%20%u9057%u7559%u7684%u95EE%u9898%0A%u8BE5work%20around%u548CXSharedPreference.makeWorldReadable%u540C%u7406%uFF0C%u6211%u5982%u4E0B%u8C03%u7528preference%uFF1A%0A%60%60%60%0AmPrefs.makeWorldReadable%28%29%3B%0ALog.e%28%22Ben%22%2C%20%22package%3A%22%20+%20decorView.getContext%28%29.getPackageName%28%29%20+%20%22%2C%20%22%20+%20decorView%20+%20%22%2C%22%20+%20mPrefs.getString%28%22key_boundary_color_ms%22%2C%20%22default%20value%22%29%29%3B%0ALog.e%28%22Ben%22%2C%20%22file%20can%20read%3A%20%22%20+%20mPrefs.getFile%28%29.canRead%28%29%29%3B%20%3C--%20%u6709%u4E9Bapp%u4F1A%u662Ftrue%uFF0C%u6709%u4E9Bapp%u4F1A%u662Ffalse%0A%60%60%60%0A%u5F53%u8FD4%u56DEtrue%u7684%u65F6%u5019%uFF0Csettings%u5C31%u6210%u529F%u7684%u4F20%u5230%u4E86%u5BF9%u5E94app%u4E86%u3002%u8FD9%u4E2A%u65F6%u800C%u53EF%u4EE5read%u65F6%u800C%u4E0D%u53EF%u4EE5read%uFF0C%u6211%u4E5F%u5F88%u82E6%u607C%uFF0C%u4E0D%u77E5%u9053%u662F%u600E%u4E48%u56DE%u4E8B%u513F%u3002%u7559%u5F85%u4EE5%u540E%u518D%u89E3%u51B3%u4E86%u3002%0A%0A%23%23%20%u89E3%u51B3%u9057%u7559%u7684%u95EE%u9898%20-%2020180119%0A%u4EE5%u4E0A%u7684%u95EE%u9898%u5728%u4E8E%uFF0CAndroid%207.0%u5F00%u59CB%uFF0C%u5373%u4ECESDK%2024%u5F00%u59CB%uFF0CAndroid%u52A0%u5165%u4E86%u5F88%u591Asecurity%u65B9%u9762%u7684%u7279%u6027%uFF0C%u53C2%u8003%5BAndroid%207.0%20Security%20Features%3A%20Direct%20Boot%5D%28https%3A//blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/%29%u3002%u8FD9%u548C%u6211%u4EEC%u7684%u95EE%u9898%u4E0D%u592A%u76F8%u5173%u3002%u76F8%u5173%u7684%u662F%u5982%u4E0A%u6240%u8BF4%uFF0CNougat%u4E0D%u5141%u8BB8world%20readable%u7684%u6587%u4EF6%u4E86%u3002%u5982%u679C%u7528SDK25%u7F16%u8BD1%u7684app%u8FD8%u7528%60MODE_WORLD_READABLE%60%uFF0C%u7CFB%u7EDF%u4F1A%u62A5exception%u3002%0AGoogle%u4E0A%u9C9C%u5C11%u6709%u76F8%u5173%u7684%u89E3%u51B3%u65B9%u6848%uFF0C%u6709%u5982%u4E0B%u51E0%u4E2A%u94FE%u63A5%u53EF%u4EE5%u53C2%u8003%uFF1A%0A-%20%5BGravityBox%20commit%20-%20Use%20device%20protected%20storage%20for%20preferences%20and%20files%5D%28https%3A//github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8%29%0A-%20%5BXposedBridge%20issue%201%20-%20Any%20place%20to%20store%20world%20readable%20preferences%20on%20Nougat%3F%5D%28https%3A//github.com/rovo89/XposedBridge/issues/206%29%0A-%20%5BXposedBridge%20issue%202%20-%20Preferences%20of%20a%20module%20cannot%20be%20read%20from%20different%20process%20on%20some%20devices%20running%20MM%5D%28https%3A//github.com/rovo89/XposedBridge/issues/74%29%0A-%20%5BXposedBridge%20issue%203%20-%20XSharedPreferences%20doesn%27t%20work%5D%28https%3A//github.com/rovo89/XposedBridge/issues/102%29%0A-%20%5B%5BQ%5D%20Xposed%20for%20nougat%20to%20read%20prefs%20ith%20fbe%20or%20without%5D%28https%3A//forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048%29%0A%0A%u7ECF%u8FC7%u9A8C%u8BC1%uFF0C%u662FXposedBridge%20issue%201%u4E2DGravityBox%u4F5C%u8005%u7684%u4E00%u4E2Acomment%u63D0%u5230%u4E86%u6700%u7EC8%u7684%u89E3%u51B3%u65B9%u6CD5%u3002%u8BE5comment%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%5D%28./1516334231370.png%29%0A%u5728%u4E0A%u9762XDA%u7684%u5E16%u5B50%uFF0C%u4EE5%u53CAGravityBox%u7684commit%u4E2D%uFF0C%u6211%u4EEC%u53EF%u4EE5%u770B%u5230GravityBox%u7684%u4F5C%u8005%u91C7%u7528%u4E86Android%207.0%u4E2D%u65B0%u7684SharedPreference%u5B58%u50A8%u65B9%u5F0F%uFF0C%u5373%u901A%u8FC7%u4E0B%u9762%u4E24%u4E2A%u51FD%u6570%uFF1A%0A-%20%60setStorageDeviceProtected%60%0A-%20%60createDeviceProtectedStorageContext%60%0A%0A%u5C06preference%u6587%u4EF6%u5B58%u5230%60/data/user_de/0/%3Cpackage%20name%3E/shared_prefs%60%u4E0B%u3002%u5E76%u5728Xposed%u7684context%u7AEF%uFF0C%u76F4%u63A5%u6253%u5F00%u6587%u4EF6%u8FDB%u884C%u64CD%u4F5C%u3002%0A%u4F46%u5176%u5B9E%u6211%u4EEC%u5E76%u4E0D%u9700%u5982%u6B64%u3002%u53EA%u8981%u4FDD%u8BC1package%20folder%u7684%u6743%u9650%u81F3%u5C11%u662F711%uFF0Cpreference.xml%u6587%u4EF6%u6709%u53EF%u8BFB%u6743%u9650%u5373%u53EF%u3002%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2018/01/17/XSharedPreference_&_SharedPreference_-_XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/01/17/XSharedPreference_&_SharedPreference_-_XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">XSharedPreference & SharedPreference - XPosed模块中的preference使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-01-17 12:39:32" itemprop="dateCreated datePublished" datetime="2018-01-17T12:39:32+08:00">2018-01-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2018-06-13 14:21:22" itemprop="dateModified" datetime="2018-06-13T14:21:22+08:00">2018-06-13</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6; background: none;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.io/#/?provider=evernote&amp;guid=08e07dee-5c97-456f-bc56-9bc11bb354a0&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6700;&#x8FD1;&#x5728;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;Xposed&#x6A21;&#x5757;[]Niwatori-One Handed Mode](<a href="https://github.com/tkgktyk/Niwatori" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">https://github.com/tkgktyk/Niwatori</a>)&#x3002;&#x539F;&#x4F5C;&#x8005;tkgktyk&#x5DF2;&#x7ECF;&#x505C;&#x6B62;&#x66F4;&#x65B0;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;&#x6A21;&#x5757;&#x5728;Xposed Framework for Nougat&#x53D1;&#x5E03;&#x4EE5;&#x540E;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x3002;&#x4E8E;&#x662F;&#x6211;fork&#x4E86;&#x4E00;&#x4EFD;&#x4EE3;&#x7801;&#xFF0C;&#x5F00;&#x59CB;&#x505A;Android Nougat&#x4E0A;&#x7684;&#x9002;&#x914D;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E76;&#x5728;XDA&#x4E0A;&#x53D1;&#x5E03;&#x4E86;&#x66F4;&#x65B0;<a href="https://forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x94FE;&#x63A5;</a>&#x3002; <br>&#x5728;&#x9002;&#x914D;&#x4E86;Nougat&#x4E4B;&#x540E;&#xFF0C;&#x5E0C;&#x671B;&#x80FD;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x66F4;&#x597D;&#x3002;&#x76EE;&#x524D;&#x60F3;&#x505A;&#x7684;&#x662F;&#x80FD;&#x901A;&#x8FC7;fooview&#x8C03;&#x7528;Niwatori&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002;&#x5E76;&#x4E14;&#x8BE5;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F8B;&#x5982;&#x662F;small screen&#x8FD8;&#x662F;slide down&#x7B49;&#x7B49;&#xFF0C;&#x80FD;&#x901A;&#x8FC7;Niwatori&#x672C;&#x8EAB;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;&#x4F46;&#x662F;&#x5728;&#x5F00;&#x53D1;&#x8FD9;&#x4E00;&#x529F;&#x80FD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53D1;&#x73B0;&#x52A8;&#x6001;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x7684;&#x52A0;&#x8F7D;&#x9700;&#x8981;&#x4F7F;&#x7528;SDK 25&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x800C;&#x4ECE;SDK 25&#x5F00;&#x59CB;&#xFF0C;&#x539F;&#x5148;SharedPreference&#x7684;&#x6253;&#x5F00;&#x65B9;&#x5F0F;MODE_WORLD_PRIVATE&#x5DF2;&#x7ECF;&#x88AB;&#x7981;&#x6B62;&#x4E86;&#x3002;&#x4F7F;&#x7528;&#x5B83;&#x4F1A;&#x5BFC;&#x81F4;security exception&#x3002; <br>&#x6240;&#x4EE5;&#x8981;&#x5347;&#x5230;&#x4F7F;&#x7528;SDK 25&#xFF0C;&#x5FC5;&#x987B;&#x89E3;&#x51B3;preference&#x5F15;&#x7528;&#x7684;&#x95EE;&#x9898;&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x6A21;&#x5F0F;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5230;&#x5E95;&#x4F1A;&#x5728;&#x54EA;&#x91CC;&#x5F71;&#x54CD;&#x5230;&#x6211;&#x4EEC;&#x7684;Xposed&#x6A21;&#x5757;&#x5462;&#xFF1F;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">Xposed&#x4E2D;&#x7684;preference</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">Xposed&#x6A21;&#x5757;&#x4E2D;&#x4F7F;&#x7528;preference&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x901A;&#x8FC7;XSharedPreference&#x6765;&#x64CD;&#x4F5C;&#x3002;XSharedPreference&#x5728;Android&#x6807;&#x51C6;&#x7684;SharedPreference&#x7C7B;&#x4E0A;&#x5305;&#x4E86;&#x4E00;&#x5C42;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;security&#x7684;fix&#x6216;&#x8005;work around&#x3002;&#x4F8B;&#x5982;&#xFF1A;XSharedPreference.makeWorldReadable&#x3002;&#x4ED6;&#x4EEC;&#x90FD;&#x662F;&#x52A0;&#x8F7D;app data&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;xml&#x6587;&#x4EF6;&#x6765;&#x8BFB;&#x53D6;&#x3001;&#x5B58;&#x50A8;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x3002;&#x8BE5;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4E3A;&#xFF08;&#x4EE5;Niwatori&#x4E3A;&#x4F8B;&#xFF09;&#xFF1A;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml</code>&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x901A;&#x5E38;Xposed&#x4E2D;&#x5982;&#x4E0B;&#x4F7F;&#x7528;preference&#x4F1A;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x7684;&#x65F6;&#x5E8F;&#x56FE;&#xFF0C;&#x4EE5;Niwatori&#x4E3A;&#x4F8B;&#xFF1A;</p><div style="text-align: center; margin-bottom: 1.1em; line-height: 1.6;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/XSharedPreference &amp; SharedPreference - XPosed&#x6A21;&#x5757;&#x4E2D;&#x7684;preference&#x4F7F;&#x7528;/SVG78bf507dfa06d67d15e9356fa67699ec" hash="faf526b522cf280365ebea346d0a680e" align alt longdesc width="870.953125" height="378.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></div><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">XSharedPreference&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x5728;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">initZygote</code>&#x4E2D;</li><li style="line-height: 1.6;">&#x6570;&#x636E;&#x7684;&#x4F7F;&#x7528;&#x901A;&#x8FC7;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5404;&#x4E2A;app&#x7684;Context&#x5E95;&#x4E0B;&#x6267;&#x884C;</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E8E;&#x662F;&#x5F53;MODE_WORLD_READABLE&#x88AB;&#x5E9F;&#x6B62;&#x4EE5;&#x540E;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x51FA;&#x95EE;&#x9898;&#x4E86;&#x3002;&#x5373;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;app1&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x67E5;&#x770B;Niwatori&#x7684;preference&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x6CD5;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">Xposed&#x5B98;&#x65B9;&#x6216;&#x8005;&#x4F5C;&#x8005;rovo89&#x8FD8;&#x6CA1;&#x6709;&#x7ED9;&#x51FA;&#x5B98;&#x65B9;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x4F46;&#x603B;&#x662F;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x672A;&#x96E8;&#x7EF8;&#x7F2A;&#x7684;&#x52C7;&#x58EB;&#xFF0C;XDA&#x4E0A;&#x6709;&#x4E00;&#x4E2A;&#x5E16;&#x5B50;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;work around&#xFF1A;<a href="https://forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">MODE_WORLD_READABLE in Android N</a></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6211;&#x5728;Niwatori&#x4E2D;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x4E0D;&#x662F;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#xFF0C;&#x800C;&#x4E14;&#x76EE;&#x524D;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x6539;&#x8FDB;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x9057;&#x7559;&#x7684;&#x95EE;&#x9898;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8BE5;work around&#x548C;XSharedPreference.makeWorldReadable&#x540C;&#x7406;&#xFF0C;&#x6211;&#x5982;&#x4E0B;&#x8C03;&#x7528;preference&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">mPrefs.makeWorldReadable();</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">Log</span>.<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">e</span>(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;Ben&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;package:&quot;</span> + decorView.getContext().getPackageName() + <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;, &quot;</span> + decorView + <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;,&quot;</span> + mPrefs.getString(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;key_boundary_color_ms&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;default value&quot;</span>));</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">Log</span>.<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">e</span>(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;Ben&quot;</span>, <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;file can read: &quot;</span> + mPrefs.getFile().canRead()); &lt;-- &#x6709;&#x4E9B;<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">app</span>&#x4F1A;&#x662F;true&#xFF0C;&#x6709;&#x4E9B;<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">app</span>&#x4F1A;&#x662F;false</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x8FD4;&#x56DE;true&#x7684;&#x65F6;&#x5019;&#xFF0C;settings&#x5C31;&#x6210;&#x529F;&#x7684;&#x4F20;&#x5230;&#x4E86;&#x5BF9;&#x5E94;app&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x800C;&#x53EF;&#x4EE5;read&#x65F6;&#x800C;&#x4E0D;&#x53EF;&#x4EE5;read&#xFF0C;&#x6211;&#x4E5F;&#x5F88;&#x82E6;&#x607C;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x600E;&#x4E48;&#x56DE;&#x4E8B;&#x513F;&#x3002;&#x7559;&#x5F85;&#x4EE5;&#x540E;&#x518D;&#x89E3;&#x51B3;&#x4E86;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x89E3;&#x51B3;&#x9057;&#x7559;&#x7684;&#x95EE;&#x9898; - 20180119</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4EE5;&#x4E0A;&#x7684;&#x95EE;&#x9898;&#x5728;&#x4E8E;&#xFF0C;Android 7.0&#x5F00;&#x59CB;&#xFF0C;&#x5373;&#x4ECE;SDK 24&#x5F00;&#x59CB;&#xFF0C;Android&#x52A0;&#x5165;&#x4E86;&#x5F88;&#x591A;security&#x65B9;&#x9762;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x53C2;&#x8003;<a href="https://blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Android 7.0 Security Features: Direct Boot</a>&#x3002;&#x8FD9;&#x548C;&#x6211;&#x4EEC;&#x7684;&#x95EE;&#x9898;&#x4E0D;&#x592A;&#x76F8;&#x5173;&#x3002;&#x76F8;&#x5173;&#x7684;&#x662F;&#x5982;&#x4E0A;&#x6240;&#x8BF4;&#xFF0C;Nougat&#x4E0D;&#x5141;&#x8BB8;world readable&#x7684;&#x6587;&#x4EF6;&#x4E86;&#x3002;&#x5982;&#x679C;&#x7528;SDK25&#x7F16;&#x8BD1;&#x7684;app&#x8FD8;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">MODE_WORLD_READABLE</code>&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x62A5;exception&#x3002; <br>Google&#x4E0A;&#x9C9C;&#x5C11;&#x6709;&#x76F8;&#x5173;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;&#x94FE;&#x63A5;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="https://github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">GravityBox commit - Use device protected storage for preferences and files</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/206" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 1 - Any place to store world readable preferences on Nougat?</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/74" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 2 - Preferences of a module cannot be read from different process on some devices running MM</a></li><li style="line-height: 1.6;"><a href="https://github.com/rovo89/XposedBridge/issues/102" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">XposedBridge issue 3 - XSharedPreferences doesn&#x2019;t work</a></li><li style="line-height: 1.6;"><a href="https://forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">[Q] Xposed for nougat to read prefs ith fbe or without</a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7ECF;&#x8FC7;&#x9A8C;&#x8BC1;&#xFF0C;&#x662F;XposedBridge issue 1&#x4E2D;GravityBox&#x4F5C;&#x8005;&#x7684;&#x4E00;&#x4E2A;comment&#x63D0;&#x5230;&#x4E86;&#x6700;&#x7EC8;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;&#x8BE5;comment&#x5982;&#x4E0B;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/XSharedPreference &amp; SharedPreference - XPosed&#x6A21;&#x5757;&#x4E2D;&#x7684;preference&#x4F7F;&#x7528;/1516334231370.png" hash="4bb9cc0ad024876dd28baed5c27bad27" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">setStorageDeviceProtected</code></li><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">createDeviceProtectedStorageContext</code></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5C06;preference&#x6587;&#x4EF6;&#x5B58;&#x5230;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/data/user_de/0/&lt;package name&gt;/shared_prefs</code>&#x4E0B;&#x3002;&#x5E76;&#x5728;Xposed&#x7684;context&#x7AEF;&#xFF0C;&#x76F4;&#x63A5;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002; <br>&#x4F46;&#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x5982;&#x6B64;&#x3002;&#x53EA;&#x8981;&#x4FDD;&#x8BC1;package folder&#x7684;&#x6743;&#x9650;&#x81F3;&#x5C11;&#x662F;711&#xFF0C;preference.xml&#x6587;&#x4EF6;&#x6709;&#x53EF;&#x8BFB;&#x6743;&#x9650;&#x5373;&#x53EF;&#x3002;</p></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20XSharedPreference%20%26%20SharedPreference%20-%20XPosed%u6A21%u5757%u4E2D%u7684preference%u4F7F%u7528%0A@%28myblog%29%5BAndroid%2C%20xposed%5D%0A%0A%u6700%u8FD1%u5728%u7EF4%u62A4%u4E00%u4E2AXposed%u6A21%u5757%5B%5DNiwatori-One%20Handed%20Mode%5D%28https%3A//github.com/tkgktyk/Niwatori%29%u3002%u539F%u4F5C%u8005tkgktyk%u5DF2%u7ECF%u505C%u6B62%u66F4%u65B0%u4E86%uFF0C%u5BFC%u81F4%u6A21%u5757%u5728Xposed%20Framework%20for%20Nougat%u53D1%u5E03%u4EE5%u540E%uFF0C%u4E0D%u80FD%u4F7F%u7528%u3002%u4E8E%u662F%u6211fork%u4E86%u4E00%u4EFD%u4EE3%u7801%uFF0C%u5F00%u59CB%u505AAndroid%20Nougat%u4E0A%u7684%u9002%u914D%u5DE5%u4F5C%uFF0C%u5E76%u5728XDA%u4E0A%u53D1%u5E03%u4E86%u66F4%u65B0%5B%u94FE%u63A5%5D%28https%3A//forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963%29%u3002%0A%u5728%u9002%u914D%u4E86Nougat%u4E4B%u540E%uFF0C%u5E0C%u671B%u80FD%u6DFB%u52A0%u4E00%u4E9B%u65B0%u529F%u80FD%uFF0C%u8BA9%u7528%u6237%u4F53%u9A8C%u66F4%u597D%u3002%u76EE%u524D%u60F3%u505A%u7684%u662F%u80FD%u901A%u8FC7fooview%u8C03%u7528Niwatori%u7684%u5FEB%u6377%u65B9%u5F0F%u3002%u5E76%u4E14%u8BE5%u5FEB%u6377%u65B9%u5F0F%u7684%u529F%u80FD%uFF0C%u4F8B%u5982%u662Fsmall%20screen%u8FD8%u662Fslide%20down%u7B49%u7B49%uFF0C%u80FD%u901A%u8FC7Niwatori%u672C%u8EAB%u8FDB%u884C%u914D%u7F6E%u3002%u4F46%u662F%u5728%u5F00%u53D1%u8FD9%u4E00%u529F%u80FD%u7684%u65F6%u5019%uFF0C%u53D1%u73B0%u52A8%u6001%u5FEB%u6377%u65B9%u5F0F%u7684%u52A0%u8F7D%u9700%u8981%u4F7F%u7528SDK%2025%u4EE5%u4E0A%u7248%u672C%uFF0C%u800C%u4ECESDK%2025%u5F00%u59CB%uFF0C%u539F%u5148SharedPreference%u7684%u6253%u5F00%u65B9%u5F0FMODE%5C_WORLD%5C_PRIVATE%u5DF2%u7ECF%u88AB%u7981%u6B62%u4E86%u3002%u4F7F%u7528%u5B83%u4F1A%u5BFC%u81F4security%20exception%u3002%0A%u6240%u4EE5%u8981%u5347%u5230%u4F7F%u7528SDK%2025%uFF0C%u5FC5%u987B%u89E3%u51B3preference%u5F15%u7528%u7684%u95EE%u9898%u3002%u90A3%u4E48%u8FD9%u4E2A%u6A21%u5F0F%u7684%u53D8%u5316%uFF0C%u5230%u5E95%u4F1A%u5728%u54EA%u91CC%u5F71%u54CD%u5230%u6211%u4EEC%u7684Xposed%u6A21%u5757%u5462%uFF1F%0A%0A%23%23%20Xposed%u4E2D%u7684preference%0AXposed%u6A21%u5757%u4E2D%u4F7F%u7528preference%u7684%u65F6%u5019%uFF0C%u901A%u5E38%u90FD%u662F%u901A%u8FC7XSharedPreference%u6765%u64CD%u4F5C%u3002XSharedPreference%u5728Android%u6807%u51C6%u7684SharedPreference%u7C7B%u4E0A%u5305%u4E86%u4E00%u5C42%uFF0C%u63D0%u4F9B%u4E86%u4E00%u4E9Bsecurity%u7684fix%u6216%u8005work%20around%u3002%u4F8B%u5982%uFF1AXSharedPreference.makeWorldReadable%u3002%u4ED6%u4EEC%u90FD%u662F%u52A0%u8F7Dapp%20data%u6587%u4EF6%u5939%u4E0B%u7684xml%u6587%u4EF6%u6765%u8BFB%u53D6%u3001%u5B58%u50A8%u952E%u503C%u5BF9%u7684%u3002%u8BE5%u6587%u4EF6%u8DEF%u5F84%u4E3A%uFF08%u4EE5Niwatori%u4E3A%u4F8B%uFF09%uFF1A%60/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml%60%u3002%0A%0A%u901A%u5E38Xposed%u4E2D%u5982%u4E0B%u4F7F%u7528preference%u4F1A%u6309%u7167%u5982%u4E0B%u7684%u65F6%u5E8F%u56FE%uFF0C%u4EE5Niwatori%u4E3A%u4F8B%uFF1A%0A%60%60%60%20sequence%0ANote%20left%20of%20Niwatori%3A%20initZygote%0ANote%20left%20of%20Niwatori%3A%20Construct%20a%20XSharedPreference%0ANiwatori-%3EActivity.class%3A%20hook%0AActivity.class-%3Eapp1%3A%20onCreate%0ANote%20right%20of%20app1%3A%20load%20the%20XSharedPreference%0AActivity.class-%3Eapp2%3A%20onCreate%0ANote%20right%20of%20app2%3A%20load%20the%20XSharedPreference%0A%60%60%60%0A-%20XSharedPreference%u5B9E%u4F8B%u521B%u5EFA%u5728%u6A21%u5757%u52A0%u8F7D%u7684%60initZygote%60%u4E2D%0A-%20%u6570%u636E%u7684%u4F7F%u7528%u901A%u8FC7%u94A9%u5B50%u51FD%u6570%uFF0C%u5728%u5404%u4E2Aapp%u7684Context%u5E95%u4E0B%u6267%u884C%0A%0A%u4E8E%u662F%u5F53MODE%5C_WORLD%5C_READABLE%u88AB%u5E9F%u6B62%u4EE5%u540E%uFF0C%u8FD9%u91CC%u5C31%u51FA%u95EE%u9898%u4E86%u3002%u5373%u5728%u9ED8%u8BA4%u60C5%u51B5%u4E0B%uFF0Capp1%u662F%u6CA1%u6709%u6743%u9650%u67E5%u770BNiwatori%u7684preference%u6587%u4EF6%u7684%uFF0C%u4E5F%u5C31%u6CA1%u6CD5%u52A0%u8F7D%u914D%u7F6E%u6570%u636E%u3002%0A%0AXposed%u5B98%u65B9%u6216%u8005%u4F5C%u8005rovo89%u8FD8%u6CA1%u6709%u7ED9%u51FA%u5B98%u65B9%u7684%u89E3%u51B3%u529E%u6CD5%uFF0C%u4F46%u603B%u662F%u4F1A%u6709%u4E00%u4E9B%u672A%u96E8%u7EF8%u7F2A%u7684%u52C7%u58EB%uFF0CXDA%u4E0A%u6709%u4E00%u4E2A%u5E16%u5B50%u7ED9%u51FA%u4E86%u4E00%u4E2Awork%20around%uFF1A%5BMODE_WORLD_READABLE%20in%20Android%20N%5D%28https%3A//forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123%29%0A%0A%u6211%u5728Niwatori%u4E2D%u4E5F%u4F7F%u7528%u4E86%u8BE5%u65B9%u6CD5%uFF0C%u4F46%u4ECD%u7136%u4E0D%u662F%u5B8C%u7F8E%u89E3%u51B3%uFF0C%u800C%u4E14%u76EE%u524D%u8FD8%u4E0D%u77E5%u9053%u5982%u4F55%u6539%u8FDB%u3002%0A%0A%23%23%20%u9057%u7559%u7684%u95EE%u9898%0A%u8BE5work%20around%u548CXSharedPreference.makeWorldReadable%u540C%u7406%uFF0C%u6211%u5982%u4E0B%u8C03%u7528preference%uFF1A%0A%60%60%60%0AmPrefs.makeWorldReadable%28%29%3B%0ALog.e%28%22Ben%22%2C%20%22package%3A%22%20+%20decorView.getContext%28%29.getPackageName%28%29%20+%20%22%2C%20%22%20+%20decorView%20+%20%22%2C%22%20+%20mPrefs.getString%28%22key_boundary_color_ms%22%2C%20%22default%20value%22%29%29%3B%0ALog.e%28%22Ben%22%2C%20%22file%20can%20read%3A%20%22%20+%20mPrefs.getFile%28%29.canRead%28%29%29%3B%20%3C--%20%u6709%u4E9Bapp%u4F1A%u662Ftrue%uFF0C%u6709%u4E9Bapp%u4F1A%u662Ffalse%0A%60%60%60%0A%u5F53%u8FD4%u56DEtrue%u7684%u65F6%u5019%uFF0Csettings%u5C31%u6210%u529F%u7684%u4F20%u5230%u4E86%u5BF9%u5E94app%u4E86%u3002%u8FD9%u4E2A%u65F6%u800C%u53EF%u4EE5read%u65F6%u800C%u4E0D%u53EF%u4EE5read%uFF0C%u6211%u4E5F%u5F88%u82E6%u607C%uFF0C%u4E0D%u77E5%u9053%u662F%u600E%u4E48%u56DE%u4E8B%u513F%u3002%u7559%u5F85%u4EE5%u540E%u518D%u89E3%u51B3%u4E86%u3002%0A%0A%23%23%20%u89E3%u51B3%u9057%u7559%u7684%u95EE%u9898%20-%2020180119%0A%u4EE5%u4E0A%u7684%u95EE%u9898%u5728%u4E8E%uFF0CAndroid%207.0%u5F00%u59CB%uFF0C%u5373%u4ECESDK%2024%u5F00%u59CB%uFF0CAndroid%u52A0%u5165%u4E86%u5F88%u591Asecurity%u65B9%u9762%u7684%u7279%u6027%uFF0C%u53C2%u8003%5BAndroid%207.0%20Security%20Features%3A%20Direct%20Boot%5D%28https%3A//blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/%29%u3002%u8FD9%u548C%u6211%u4EEC%u7684%u95EE%u9898%u4E0D%u592A%u76F8%u5173%u3002%u76F8%u5173%u7684%u662F%u5982%u4E0A%u6240%u8BF4%uFF0CNougat%u4E0D%u5141%u8BB8world%20readable%u7684%u6587%u4EF6%u4E86%u3002%u5982%u679C%u7528SDK25%u7F16%u8BD1%u7684app%u8FD8%u7528%60MODE_WORLD_READABLE%60%uFF0C%u7CFB%u7EDF%u4F1A%u62A5exception%u3002%0AGoogle%u4E0A%u9C9C%u5C11%u6709%u76F8%u5173%u7684%u89E3%u51B3%u65B9%u6848%uFF0C%u6709%u5982%u4E0B%u51E0%u4E2A%u94FE%u63A5%u53EF%u4EE5%u53C2%u8003%uFF1A%0A-%20%5BGravityBox%20commit%20-%20Use%20device%20protected%20storage%20for%20preferences%20and%20files%5D%28https%3A//github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8%29%0A-%20%5BXposedBridge%20issue%201%20-%20Any%20place%20to%20store%20world%20readable%20preferences%20on%20Nougat%3F%5D%28https%3A//github.com/rovo89/XposedBridge/issues/206%29%0A-%20%5BXposedBridge%20issue%202%20-%20Preferences%20of%20a%20module%20cannot%20be%20read%20from%20different%20process%20on%20some%20devices%20running%20MM%5D%28https%3A//github.com/rovo89/XposedBridge/issues/74%29%0A-%20%5BXposedBridge%20issue%203%20-%20XSharedPreferences%20doesn%27t%20work%5D%28https%3A//github.com/rovo89/XposedBridge/issues/102%29%0A-%20%5B%5BQ%5D%20Xposed%20for%20nougat%20to%20read%20prefs%20ith%20fbe%20or%20without%5D%28https%3A//forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048%29%0A%0A%u7ECF%u8FC7%u9A8C%u8BC1%uFF0C%u662FXposedBridge%20issue%201%u4E2DGravityBox%u4F5C%u8005%u7684%u4E00%u4E2Acomment%u63D0%u5230%u4E86%u6700%u7EC8%u7684%u89E3%u51B3%u65B9%u6CD5%u3002%u8BE5comment%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%5D%28./1516334231370.png%29%0A%u5728%u4E0A%u9762XDA%u7684%u5E16%u5B50%uFF0C%u4EE5%u53CAGravityBox%u7684commit%u4E2D%uFF0C%u6211%u4EEC%u53EF%u4EE5%u770B%u5230GravityBox%u7684%u4F5C%u8005%u91C7%u7528%u4E86Android%207.0%u4E2D%u65B0%u7684SharedPreference%u5B58%u50A8%u65B9%u5F0F%uFF0C%u5373%u901A%u8FC7%u4E0B%u9762%u4E24%u4E2A%u51FD%u6570%uFF1A%0A-%20%60setStorageDeviceProtected%60%0A-%20%60createDeviceProtectedStorageContext%60%0A%0A%u5C06preference%u6587%u4EF6%u5B58%u5230%60/data/user_de/0/%3Cpackage%20name%3E/shared_prefs%60%u4E0B%u3002%u5E76%u5728Xposed%u7684context%u7AEF%uFF0C%u76F4%u63A5%u6253%u5F00%u6587%u4EF6%u8FDB%u884C%u64CD%u4F5C%u3002%0A%u4F46%u5176%u5B9E%u6211%u4EEC%u5E76%u4E0D%u9700%u5982%u6B64%u3002%u53EA%u8981%u4FDD%u8BC1package%20folder%u7684%u6743%u9650%u81F3%u5C11%u662F711%uFF0Cpreference.xml%u6587%u4EF6%u6709%u53EF%u8BFB%u6743%u9650%u5373%u53EF%u3002%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2017/12/15/Deep_Learning_(1)_-_Neural_Network_with_1_Hidden_Layer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/12/15/Deep_Learning_(1)_-_Neural_Network_with_1_Hidden_Layer/" class="post-title-link" itemprop="url">Deep Learning (1) - Neural Network with 1 Hidden Layer</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-12-15 18:03:02" itemprop="dateCreated datePublished" datetime="2017-12-15T18:03:02+08:00">2017-12-15</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2017-12-18 14:38:31" itemprop="dateModified" datetime="2017-12-18T14:38:31+08:00">2017-12-18</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=b68156bd-5d81-456f-bd99-0014780e4c30&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x4E4B;&#x524D;&#x5B66;&#x4E60;Andrew NG&#x7684;Coursera&#x8BFE;&#x7A0B;&#x300A;Machine Learning&#x300B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9488;&#x5BF9;Neural Network&#x505A;&#x8FC7;&#x4E00;&#x7BC7;&#x7B14;&#x8BB0;&#xFF1A;<a href="https://zhougy0717.github.io/2017/04/03/Machine%20Learning%20%282%29%20-%20Neural%20Network/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Machine Learning (2) - Neural Network</a>&#x3002;&#x5F53;&#x65F6;&#x901A;&#x8FC7;&#x5B66;&#x4E60;&#x77E5;&#x9053;&#x4E86;&#x5982;&#x4F55;&#x8BA1;&#x7B97;2&#x5C42;&#xFF08;1&#x4E2A;&#x9690;&#x85CF;&#x5C42;&#xFF09;Neural Network&#x7684;&#x504F;&#x5BFC;&#x6570;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x662F;&#x7406;&#x89E3;&#x53EA;&#x662F;&#x5C40;&#x9650;&#x4E8E;&#x4E00;&#x5806;&#x516C;&#x5F0F;&#xFF0C;&#x4E0D;&#x591F;&#x6DF1;&#x523B;&#x3002;&#x8FD9;&#x6B21;&#x5728;&#x5B66;&#x4E60;Andrew NG&#x7684;Deep Learning&#x8BFE;&#x7A0B;&#x65F6;&#xFF0C;Andrew&#x5728;&#x4ECB;&#x7ECD;&#x6DF1;&#x5C42;&#x7F51;&#x7EDC;&#x4E4B;&#x524D;&#x4E5F;&#x4ECB;&#x7ECD;&#x4E86;&#x6D45;&#x5C42;&#x7F51;&#x7EDC;&#x7684;&#x57FA;&#x672C;&#x539F;&#x7406;&#xFF0C;&#x5305;&#x62EC;&#x5BFC;&#x6570;&#x516C;&#x5F0F;&#x7684;&#x63A8;&#x5BFC;&#x3002;&#x6211;&#x73B0;&#x5728;&#x7EC8;&#x4E8E;&#x7406;&#x89E3;&#x4E86;&#x8FD9;&#x4E9B;&#x516C;&#x5F0F;&#x662F;&#x5982;&#x4F55;&#x6765;&#x7684;&#x4E86;&#x3002;&#x5BF9;&#x6BD4;&#x4E86;&#x4E4B;&#x524D;Machine Learning&#x7684;&#x8BFE;&#x4EF6;&#x548C;&#x7B14;&#x8BB0;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;&#x6B64;&#x6B21;&#x8BFE;&#x7A0B;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x7B26;&#x53F7;&#x6807;&#x8BB0;&#x65B9;&#x5F0F;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x548C;&#x63A8;&#x5BFC;&#x3002; <br>&#x5728;&#x8FD9;&#x4E00;&#x7BC7;&#x7B14;&#x8BB0;&#x4E2D;&#xFF0C;&#x6211;&#x4F1A;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x6D45;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;forward propagation &amp; backward propagation&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">Forward Propagation</h2><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513332445189.png" hash="a19d01fd8218f1fa43e2bc5ac9e005fe" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513574653750.png" hash="b2787370a3e845cb36dae20fe30c9544" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">Backward Propagation</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x5B66;&#x4E60;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x80FD;&#x542C;&#x5230;&#x8FD9;&#x4E2A;&#x8BCD;&#x6C47;&#x3002;&#x542C;&#x8D77;&#x6765;&#x5F88;&#x7384;&#x4E4E;&#xFF0C;&#x5176;&#x5B9E;&#x4ED6;&#x5E76;&#x4E0D;&#x795E;&#x79D8;&#x3002; <br>Backward Propagation&#xFF0C;&#x4E2D;&#x6587;&#x7FFB;&#x8BD1;&#x4E3A;&#x53CD;&#x5411;&#x4F20;&#x64AD;&#x3002;&#x5B83;&#x662F;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5BFC;&#x6570;&#x7684;&#x3002;&#x4E0B;&#x56FE;&#x4E3A;Logistic Regression&#x7684;&#x8BA1;&#x7B97;&#x56FE;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513330613563.png" hash="5db66989c81e26953da1719e8011064e" align alt longdesc width="500" height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG0a9d36bdc92107a586a6705d25f19755" hash="096f99e552604312b1dccb241336b25e" align alt longdesc width="135.652125" height="34.125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x4E0A;&#x5F0F;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x5728;&#x6C42;&#x5BFC;&#x6570;&#x65F6;&#x6700;&#x5E38;&#x7528;&#x5230;&#x7684;&#x94FE;&#x5F0F;&#x6CD5;&#x5219;(chain rule)&#x3002;&#x82E5; <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGea2aeaa23f8de9572c82b934924c0d60" hash="ae7a27f7cfffa4d940d3a795b07f0fa2" align alt longdesc width="58.638650000000005" height="33.25" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG7ca739c2073c82a9874af215e39dcbbc" hash="959c09f8ba3cc0b0d70d6fa7bf8b81fe" align alt longdesc width="126.02712500000001" height="34.125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG9cb8bcc157d76bcc3a24b44ceb6f92d7" hash="810e2984085697242b3e02b90763c674" align alt longdesc width="133.902125" height="33.25" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br>&#x5219;&#x6709;&#x4E0B;&#x56FE;&#xFF1A;<p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513331905347.png" hash="b22b7b49220a9e81725cbe605436b29c" align alt longdesc width="550" height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513332172423.png" hash="915ffb47c1050b36dfc7f1ec42cd2617" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">&#x7EA0;&#x9519;</strong></p><ul style="margin-top: 0; margin-bottom: 0; line-height: 1.6;"><li style="line-height: 1.6;">&#x4E0A;&#x56FE;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGab417fa2ae91dbc9948a205e0f494598" hash="57a41c679293be7bb61585e49665645f" align alt longdesc width="21" height="15.75" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x5E94;&#x4E3A;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG95e77edfb43fee5d95a8aafbb926839b" hash="854e2ffda2615f1b22574f06fc7fd327" align alt longdesc width="90.13900000000001" height="14.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></li><li style="line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGf4618219d74df976852f2fc1ec71831e" hash="2f1198c2266d325a78865b9df22836fe" align alt longdesc width="22.75" height="14" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x5E94;&#x4E3A;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG473f367c8d678ace34730f5fd876d063" hash="2d29f3a17107d2c88dcde0c17fef9266" align alt longdesc width="55.13865" height="17.5" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></li></ul></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5148;&#x770B;Andrew&#x7ED9;&#x51FA;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513332236320.png" hash="af2c35cddb2117e5d92b220830c3dfa4" align alt longdesc width="280" height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513332445189.png" hash="a19d01fd8218f1fa43e2bc5ac9e005fe" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG298b7cd275695999d721560026fbb88d" hash="410b0ffa522281f1758b224935fd8ee1" align alt longdesc width="165.30675" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>sigmoid&#x51FD;&#x6570;&#x7684;&#x5BFC;&#x6570;&#x4E3A;: <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG0818eb557f7a225d498d1b3f61dc186d" hash="be3ccb86acdd864826561253b8160447" align alt longdesc width="367.3495" height="39.36135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x800C;&#x5176;&#x4ED6;&#x7684;&#x9690;&#x85CF;&#x5C42;&#x91C7;&#x7528;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG1e1bf6e817497f674b673c1c242a4768" hash="03a0d64e89e7858e87192336cb77603c" align alt longdesc width="33.2227" height="18.36135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x4E3A;&#x5176;&#x6FC0;&#x6D3B;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x6709;&#x53EF;&#x80FD;&#x662F;tanh&#x6216;&#x8005;ReLU&#xFF0C;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;sigmoid&#x3002;<p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x5206;&#x6B65;&#x6C42;&#x5BFC;</h3><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGd691d4fe08bc6a1efb594193b7ee2a03" hash="8b6ec1dcd708d6a21ee79fd887f9eb9a" align alt longdesc width="53.38865" height="28.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x635F;&#x5931;&#x51FD;&#x6570; <br></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG235f64aa63502a5396eaaf71e0ac44e3" hash="27e53825f5117be49fd67b87fac2a38a" align alt longdesc width="258.015625" height="19.23635" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x5176;&#x5BFC;&#x6570;&#x4E3A;&#xFF1A; <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG6bbfffddd936ab0f3a5824fddda6150e" hash="7b545c41c97cbe59668fbd4fb938d6b1" align alt longdesc width="166.18175" height="36.7227" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x4EE3;&#x5165;&#xFF1A; <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG4ca95f09a9c523e806ee989a04764828" hash="62fe99a7956e59c6fcb7fc8cf4020d3e" align alt longdesc width="425.086375" height="36.7227" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGbf6b1aea722db553b9536ca6af9ad73c" hash="729c7085482335c68071851b405475ad" align alt longdesc width="84.957075" height="22.5176" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></h4><p style="margin: 0 0 1.1em; line-height: 1.6;"><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG5d4e27dae31153e2446dcca72ab8d41a" hash="4872fc44dfa64e0d724886a12ff9fafa" align alt longdesc width="231.683375" height="40.769575" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG7c9c3edbe6c45c2e38531cf4b90859e3" hash="1ed4ed66826be2159033745dec7b6f8b" align alt longdesc width="193.68912500000002" height="40.769575" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div></p><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG27b2563b9f6112dfce5cd92b8671e97e" hash="aa500cd5ff88d335093275ba43902982" align alt longdesc width="41.6992625" height="19.6875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></h4><p style="margin: 0 0 1.1em; line-height: 1.6;"><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGbd3c81ecbc1535793a4fd87ae7d91819" hash="2506337f81e392aa8a3e00d6cf4a5009" align alt longdesc width="136.22699999999998" height="38.92385" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x4EE3;&#x5165;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG175ab85c14c754ba3b0d00da0f3e92c3" hash="fbb5ecfba0f5ea2227ba13e97129b280" align alt longdesc width="94.52712500000001" height="38.92385" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#xFF0C;&#x53EF;&#x5F97;&#xFF1A; <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG35138ddc409ac05bbb67351bc8ad8213" hash="72603d1e1139181b06501eb0576604c0" align alt longdesc width="120.47699999999999" height="17.609375" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div></p><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG1fcc3b28b4e66baeb28d29473bf50933" hash="a5feb4b3b24708464baf1044bd59e442" align alt longdesc width="39.251975" height="21.2324" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></h4><p style="margin: 0 0 1.1em; line-height: 1.6;"><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG85dd46e254704069a8104143cb59ddf4" hash="f6b9870fb166060f1e376172e9d26d31" align alt longdesc width="134.38075" height="37.9941625" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x4EE3;&#x5165;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGf74fb0b5ff743eaaf995eec0887da58f" hash="d76fc26186449b4af2662a3f85d00124" align alt longdesc width="120.47699999999999" height="37.9941625" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#xFF0C;&#x53EF;&#x5F97;&#xFF1A; <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGa62701bb1ea92d3e305a30dbdbe5c1fe" hash="baaf226e27f32869d5a829f2cbf61589" align alt longdesc width="198.324" height="19.4551" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div></p><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG5ca35637be8ce8855fe187021b8dc9d5" hash="e49dbf24d544c7401e339bf678bc18ed" align alt longdesc width="96.291125" height="21.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x4E2A;&#x5C31;&#x5F88;&#x7B80;&#x5355;&#x4E86; <br></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG8f8e8d0b3cf753ada328a659d15dd042" hash="e027cecc90ebca00d3d8667f65463efc" align alt longdesc width="96.208875" height="17.48635" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG1b08373df40c57b4fd4237ffb9102920" hash="c5d73aa8dc42e1e2ea5132c2e3253e52" align alt longdesc width="85.70896250000001" height="17.48635" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x81F3;&#x6B64;&#x5168;&#x90E8;&#x5F97;&#x8BC1;&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x77E9;&#x9635;&#x6C42;&#x5BFC;</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x8BA1;&#x7B97;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG27b2563b9f6112dfce5cd92b8671e97e" hash="aa500cd5ff88d335093275ba43902982" align alt longdesc width="33.359375" height="15.75" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x6C42;&#x5BFC;&#x7684;&#x95EE;&#x9898;&#x3002;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGab417fa2ae91dbc9948a205e0f494598" hash="57a41c679293be7bb61585e49665645f" align alt longdesc width="22.230512500000003" height="16.6796875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x662F;&#x5217;&#x5411;&#x91CF;&#xFF0C;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG6c2719c6c4bca24f5a21af44f0ba2c3e" hash="5689b0aa4bc649e1a86504e80a5bd737" align alt longdesc width="27.7949" height="14.8203125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x662F;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGe071e66eba60d69689c1b24840a8a1f6" hash="925516386c134837d8ba70c42a4ef474" align alt longdesc width="66.71875" height="15.75" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x578B;&#x77E9;&#x9635;&#xFF0C;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGf4618219d74df976852f2fc1ec71831e" hash="2f1198c2266d325a78865b9df22836fe" align alt longdesc width="24.089887500000003" height="14.8203125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x662F;&#x5217;&#x5411;&#x91CF;&#x3002; <br>&#x7F51;&#x4E0A;&#x641C;&#x5230;&#x7684;&#x77E9;&#x9635;&#x6C42;&#x5BFC;&#x65B9;&#x6CD5;&#x7684;&#x5E16;&#x5B50;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x90FD;&#x6CA1;&#x6709;&#x5F88;&#x597D;&#x7684;&#x89E3;&#x91CA;&#x4E3A;&#x4EC0;&#x4E48;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG5c6bc7d572d90a91463b5fcb06bdf684" hash="70a5aadc06ffc6bb84df385f38eda66f" align alt longdesc width="94.52712500000001" height="38.92385" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x3002; <br>&#x6839;&#x636E;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x7406;&#x89E3;&#xFF0C;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG6c2719c6c4bca24f5a21af44f0ba2c3e" hash="5689b0aa4bc649e1a86504e80a5bd737" align alt longdesc width="27.7949" height="14.8203125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x53EF;&#x4EE5;&#x770B;&#x4F5C;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG49ea3fbf9d60a6ca507c4688ac08afd1" hash="f904513001af8c3916c9da3b04f5a944" align alt longdesc width="24.089887500000003" height="14.8203125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x4E2A;&#x5217;&#x5411;&#x91CF;&#x3002;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGab417fa2ae91dbc9948a205e0f494598" hash="57a41c679293be7bb61585e49665645f" align alt longdesc width="22.230512500000003" height="16.6796875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x5173;&#x4E8E;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG6c2719c6c4bca24f5a21af44f0ba2c3e" hash="5689b0aa4bc649e1a86504e80a5bd737" align alt longdesc width="27.7949" height="14.8203125" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x7684;&#x5BFC;&#x6570;&#x5C31;&#x662F;&#x5BF9;&#x6240;&#x6709;&#x5217;&#x5411;&#x91CF;&#x7684;&#x5BFC;&#x6570;&#x7684;stack&#x3002; <br>&#x56E0;&#x4E3A; <br></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG925a8b5b9e2bda7d803336f977dbb2b3" hash="47c6b441e17ae3d3fb38472af70c0216" align alt longdesc width="142.72037500000002" height="25.019575000000003" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x6240;&#x4EE5; <br><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG35f57b65df7453f4c429e175af65866a" hash="fd273095ca7c67b9b1f9afb696db8738" align alt longdesc width="81.55271250000001" height="42.62895" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>stack&#x5230;&#x4E00;&#x5757;&#x513F;&#x5C31;&#x662F;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG14f1a538dd7a94c809af79384dc2afb2" hash="ca7ff61ddb8e3d40308e9e54387222b8" align alt longdesc width="165.88075" height="19.4551" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br>&#x6240;&#x4EE5;&#x5F97;&#x8BC1;&#x3002; <p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Vectorization</h3><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Forward propagation</h4><p style="margin: 0 0 1.1em; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGbfb8eb6acd38d589557b77b537f9a84d" hash="06657f3bd58f0d946ba8608048a736ed" align alt longdesc width="126.02712500000001" height="14.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG7ff7f8e9abca0348c3b42d7cda3764bc" hash="67fe95acb06133b4a64119c7e6f8270b" align alt longdesc width="104.13900000000001" height="17.5" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG3a5bcfdd2b503051b0752095feba5e17" hash="e1f4e7251dbeef116ba9e1dfad96475a" align alt longdesc width="140.027125" height="14.875" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGd4c492d0f5132680ff5543ae1a3f701d" hash="f8238e83cedd8f4be038f2c6ff6df02d" align alt longdesc width="168.041125" height="17.5" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Backward propagation</h4><p style="margin: 0 0 1.1em; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG1847ef9499adae576ca251ad5938b0e5" hash="3107427a19db04184a1a095678cca1e0" align alt longdesc width="111.958875" height="15.736350000000002" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG826dbd11a656188944056fac42891808" hash="07b0faad88dbc1f8903c5439eaaaaa06" align alt longdesc width="151.30675" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGe682c7859d843472228ed4cbd382abca" hash="ad3524a29689fefaabfa4a2f98548b39" align alt longdesc width="363.8495" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGe87b78cdf3f9e3d7526e93b5ed97f59a" hash="31adfb04569a4933be3d29d5f5517699" align alt longdesc width="212.54275" height="18.36135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG9cc450e351afbce452e9e7ccc2b71ba8" hash="0fb4dc2beb18d15ec22e0564f1e2e3e9" align alt longdesc width="138.19574999999998" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG82489d20cc2f03239a3d22853132b0c6" hash="e43b383fcdf8bf6c83cb089175d843d5" align alt longdesc width="363.8495" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span></p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">np.sum</strong>(A, axis=1, keepdims=True) &#x6C42;&#x53D6;&#x77E9;&#x9635;A&#x5404;&#x884C;&#x7684;&#x548C; <br><strong style="font-weight: bold; line-height: 1.6;">axis</strong>: =1 &#x6309;&#x884C;&#x6C42;&#x548C;&#xFF0C;=0 &#x6309;&#x5217;&#x6C42;&#x548C;&#xFF0C;&#x6CA1;&#x6709;axis&#x5219;&#x5168;&#x77E9;&#x9635;&#x6C42;&#x548C; <br><strong style="font-weight: bold; line-height: 1.6;">keepdims</strong>: =True &#x6C42;&#x548C;&#x51FA;&#x6765;&#x540E;&#x4ECD;&#x7136;&#x4FDD;&#x5B58;&#x77E9;&#x9635;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x6309;&#x884C;&#x6C42;&#x548C;&#xFF0C;&#x5219;&#x5F97;&#x5230;&#x5217;&#x5411;&#x91CF;&#xFF0C;&#x6309;&#x5217;&#x6C42;&#x548C;&#x5F97;&#x5230;&#x884C;&#x5411;&#x91CF;&#xFF0C;&#x5168;&#x77E9;&#x9635;&#x6C42;&#x548C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;1x1&#x77E9;&#x9635;&#x3002;</p></blockquote><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x5206;&#x6790;</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5148;&#x770B;single training example: </p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513575221043.png" hash="2415dfd31acb7dc208d9cb6aebae67bf" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513577070931.png" hash="b1d7dc6e1907b30d9dd55627f9ed19b0" align alt longdesc width height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8BAD;&#x7EC3;&#x6837;&#x672C;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;stack&#xFF0C;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGb9feec4b9dbf507e05a4da3aee588d61" hash="73231e4473e17addfb766c1bc5321777" align alt longdesc width="27.11135" height="14.861350000000002" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x4E5F;&#x7C7B;&#x4F3C;&#x53EF;&#x5F97;&#x5982;&#x4E0B;&#xFF1A;</p><p style="margin: 0 0 1.1em; line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/1513576811182.png" hash="412965745799530892990e66f052e312" align alt longdesc width="250" height border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%;" title lang xml:lang dir></p><div style="line-height: 1.6;"><div style="max-width: none; position: relative; width: 100%; text-indent: 0; margin: 1em 0; max-height: none; min-width: 0; min-height: 0; line-height: 1.6; text-align: center; display: block;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG466ed18d857b630940d2f92e9c35f6ae" hash="bcbad21e3d87f2f118a18a83a2202f54" align alt longdesc width="152.18175" height="16.61135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></div></div>&#x4E3A;&#x4EC0;&#x4E48;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVGc88ac5f5d76e9948c0f14f9664403b60" hash="be29e499553a5701f7f386f586a66763" align alt longdesc width="21.86135" height="14.861350000000002" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x662F;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG560dd9e09f175881f18eea936dd21df9" hash="82281ccbe86b2b516d41ffc7366f94db" align alt longdesc width="358.6135" height="35.86135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>? <br>&#x6700;&#x76F4;&#x89C2;&#x7684;b&#x5E94;&#x8BE5;&#x662F;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG608c94f32ae2f4b9ff76402fe4cb1ae5" hash="d894b74ed93e042d7dc4089a05e53973" align alt longdesc width="146.93175" height="18.36135" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#xFF0C;&#x56E0;&#x4E3A;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG2a273a12a7d3893eecd1e3c430172658" hash="00ff0ec326d10c1ce72d929aaead587d" align alt longdesc width="369.9745" height="19.23635" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span> <br>&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6309;&#x7167;&#x884C;&#x6C42;&#x548C;&#x518D;&#x6309;m&#x6C42;&#x5747;&#x503C;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;<span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/Deep Learning (1) - Neural Network with 1 Hidden Layer/SVG8e4d9a650044aba34f45b6c6d880945b" hash="3c432839aa7f5a2a66e7be8b7e15f60d" align alt longdesc width="57.7227" height="17.48635" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span></span>&#x4E3A;&#x6A21;&#x578B;&#x53C2;&#x6570;&#xFF0C;&#x4E0E;&#x6837;&#x672C;&#x65E0;&#x5173;&#x3002;&#x9488;&#x5BF9;&#x6BCF;&#x4E2A;&#x6837;&#x672C;b, db&#x5E94;&#x5F53;&#x76F8;&#x540C;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x6309;&#x4E0A;&#x9762;&#x8FD9;&#x4E48;&#x7B97;&#x3002;<p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x603B;&#x7ED3;</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x6D45;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x4E2D;&#xFF0C;&#x6B63;&#x5411;&#x4F20;&#x64AD;&#x6C42;&#x8282;&#x70B9;&#x503C;&#xFF0C;&#x53CD;&#x5411;&#x4F20;&#x64AD;&#x5229;&#x7528;&#x94FE;&#x5F0F;&#x6CD5;&#x5219;&#x6C42;&#x5BFC;&#x6570;&#x3002;&#x5728;&#x5411;&#x91CF;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9488;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x6837;&#x672C;&#xFF0C;&#x5411;&#x91CF;&#x6309;&#x7167;&#x5217;&#x7EC4;&#x5408;&#x6210;&#x77E9;&#x9635;&#xFF0C;&#x5373;&#x77E9;&#x9635;&#x7684;&#x4E00;&#x5217;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6837;&#x672C;&#x3002;</p></div><center style="display:none">%23%20Deep%20Learning%20%281%29%20-%20Neural%20Network%20with%201%20Hidden%20Layer%0A@%28myblog%29%5Bdeep%20learning%2C%20neural%20network%5D%0A%0A%u5728%u4E4B%u524D%u5B66%u4E60Andrew%20NG%u7684Coursera%u8BFE%u7A0B%u300AMachine%20Learning%u300B%u7684%u65F6%u5019%uFF0C%u9488%u5BF9Neural%20Network%u505A%u8FC7%u4E00%u7BC7%u7B14%u8BB0%uFF1A%5BMachine%20Learning%20%282%29%20-%20Neural%20Network%5D%28https%3A//zhougy0717.github.io/2017/04/03/Machine%2520Learning%2520%282%29%2520-%2520Neural%2520Network/%29%u3002%u5F53%u65F6%u901A%u8FC7%u5B66%u4E60%u77E5%u9053%u4E86%u5982%u4F55%u8BA1%u7B972%u5C42%uFF081%u4E2A%u9690%u85CF%u5C42%uFF09Neural%20Network%u7684%u504F%u5BFC%u6570%u95EE%u9898%u3002%u4F46%u662F%u7406%u89E3%u53EA%u662F%u5C40%u9650%u4E8E%u4E00%u5806%u516C%u5F0F%uFF0C%u4E0D%u591F%u6DF1%u523B%u3002%u8FD9%u6B21%u5728%u5B66%u4E60Andrew%20NG%u7684Deep%20Learning%u8BFE%u7A0B%u65F6%uFF0CAndrew%u5728%u4ECB%u7ECD%u6DF1%u5C42%u7F51%u7EDC%u4E4B%u524D%u4E5F%u4ECB%u7ECD%u4E86%u6D45%u5C42%u7F51%u7EDC%u7684%u57FA%u672C%u539F%u7406%uFF0C%u5305%u62EC%u5BFC%u6570%u516C%u5F0F%u7684%u63A8%u5BFC%u3002%u6211%u73B0%u5728%u7EC8%u4E8E%u7406%u89E3%u4E86%u8FD9%u4E9B%u516C%u5F0F%u662F%u5982%u4F55%u6765%u7684%u4E86%u3002%u5BF9%u6BD4%u4E86%u4E4B%u524DMachine%20Learning%u7684%u8BFE%u4EF6%u548C%u7B14%u8BB0%uFF0C%u6211%u8BA4%u4E3A%u6B64%u6B21%u8BFE%u7A0B%u4E2D%u4F7F%u7528%u7684%u7B26%u53F7%u6807%u8BB0%u65B9%u5F0F%u66F4%u5BB9%u6613%u7406%u89E3%u548C%u63A8%u5BFC%u3002%0A%u5728%u8FD9%u4E00%u7BC7%u7B14%u8BB0%u4E2D%uFF0C%u6211%u4F1A%u4E3B%u8981%u8BB0%u5F55%u6D45%u5C42%u795E%u7ECF%u7F51%u7EDC%u7684forward%20propagation%20%26%20backward%20propagation%u8BA1%u7B97%u65B9%u6CD5%u3002%0A%0A%23%23%20Forward%20Propagation%0A%21%5BAlt%20text%5D%28./1513332445189.png%29%0A%u524D%u5411%u4F20%u64AD%u8BA1%u7B97%u6BCF%u4E2A%u8282%u70B9%u7684%u503C%uFF0C%u540E%u9762%u7684%u53CD%u5411%u4F20%u64AD%u4E2D%u4F1A%u7528%u5230%u3002%0A%21%5BAlt%20text%5D%28./1513574653750.png%29%0A%23%23%20Backward%20Propagation%0A%u5728%u795E%u7ECF%u7F51%u7EDC%u7684%u5B66%u4E60%u4E2D%uFF0C%u6211%u4EEC%u5F80%u5F80%u80FD%u542C%u5230%u8FD9%u4E2A%u8BCD%u6C47%u3002%u542C%u8D77%u6765%u5F88%u7384%u4E4E%uFF0C%u5176%u5B9E%u4ED6%u5E76%u4E0D%u795E%u79D8%u3002%0ABackward%20Propagation%uFF0C%u4E2D%u6587%u7FFB%u8BD1%u4E3A%u53CD%u5411%u4F20%u64AD%u3002%u5B83%u662F%u7528%u6765%u8BA1%u7B97%u5BFC%u6570%u7684%u3002%u4E0B%u56FE%u4E3ALogistic%20Regression%u7684%u8BA1%u7B97%u56FE%uFF1A%0A%21%5BAlt%20text%7C500x0%5D%28./1513330613563.png%29%0A%u6309%u7167%u6C42%u5BFC%u516C%u5F0F%u53EF%u77E5%uFF1A%0A%24%24%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Comega%7D%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20a%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20z%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20z%7D%7B%5Cpartial%20%5Comega%7D%24%24%0A%u4E0A%u5F0F%u4E5F%u662F%u6211%u4EEC%u5728%u6C42%u5BFC%u6570%u65F6%u6700%u5E38%u7528%u5230%u7684%u94FE%u5F0F%u6CD5%u5219%28chain%20rule%29%u3002%u82E5%0A%24da%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20a%7D%24%0A%24dz%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20z%7D%20%3D%20da%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20z%7D%24%0A%24d%20%5Comega%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20%5Comega%7D%20%3D%20dz%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20%5Comega%7D%24%0A%u5219%u6709%u4E0B%u56FE%uFF1A%0A%21%5BAlt%20text%7C550x0%5D%28./1513331905347.png%29%0A%u8FD9%u5C31%u662F%u6240%u8C13%u7684%u53CD%u5411%u4F20%u64AD%28Backward%20Propagation%29%u3002%u524D%u4E00%u5C42%u4E3A%u540E%u4E00%u5C42%u63D0%u4F9B%u8FDB%u4E00%u6B65%u8BA1%u7B97%u5BFC%u6570%u7684%u4FE1%u606F%u3002%0A%u63A8%u8FDB%u52302%u5C42%u795E%u7ECF%u7F51%u7EDC%uFF0C%u5C31%u8981%u591A%u7B97%u4E00%u5C42%uFF1A%0A%21%5BAlt%20text%5D%28./1513332172423.png%29%0A%0A%3E**%u7EA0%u9519**%0A-%20%u4E0A%u56FE%24z%5E%7B%5B2%5D%7D%24%u5E94%u4E3A%24%5Comega%5E%7B%5B2%5D%7Da%5E%7B%5B1%5D%7D%20+%20b%5E%7B%5B2%5D%7D%24%0A-%20%24a%5E%7B%5B1%5D%7D%24%u5E94%u4E3A%24g%5E%7B%5B1%5D%7D%28z%5E%7B%5B1%5D%7D%29%24%0A%0A%u5148%u770BAndrew%u7ED9%u51FA%u7684%u8BA1%u7B97%u7ED3%u679C%uFF1A%0A%21%5BAlt%20text%7C280x0%5D%28./1513332236320.png%29%0A%u5982%u679C%u76F4%u63A5%u81EA%u5DF1%u53BB%u7B97%u4F1A%u6709%u4E00%u4E9B%u7591%u95EE%u3002%u8981%u7B97%u51FA%u8FD9%u4E2A%u7ED3%u679C%uFF0C%u5176%u5B9E%u662F%u6709%u4E00%u4E9B%u524D%u63D0%u7684%u3002%0A%21%5BAlt%20text%5D%28./1513332445189.png%29%0A%u5728%u8F93%u51FA%u5C42%uFF0C%u5373%24a%5E%7B%5B2%5D%7D%24%u5C42%uFF0C%u91C7%u7528sigmoid%u6FC0%u6D3B%u51FD%u6570%uFF0C%u5373%0A%24%24a%5E%7B%5B2%5D%7D%20%3D%20%5Csigma%28z%5E%7B%5B2%5D%7D%29%20%3D%20%5Cdfrac%20%7B1%7D%7B1+e%5E%7B-z%7D%7D%24%24%0Asigmoid%u51FD%u6570%u7684%u5BFC%u6570%u4E3A%3A%0A%24%24%5Cdfrac%20%7Bda%7D%7Bdz%7D%20%3D%20%5Cdfrac%20%7Be%5E%7B-z%7D%7D%7B%281+e%5E%7B-z%7D%29%5E2%7D%20%3D%20%5Cdfrac%20%7B1%7D%7B1+e%5E%7B-z%7D%7D%20-%20%5Cdfrac%20%7B1%7D%7B%281+e%5E%7B-z%7D%29%5E2%7D%20%3D%20a%281-a%29%24%24%0A%u800C%u5176%u4ED6%u7684%u9690%u85CF%u5C42%u91C7%u7528%24g%5E%7B%5Bi%5D%7D%28%29%24%u4E3A%u5176%u6FC0%u6D3B%u51FD%u6570%uFF0C%u5373%u6709%u53EF%u80FD%u662Ftanh%u6216%u8005ReLU%uFF0C%u4E5F%u6709%u53EF%u80FD%u662Fsigmoid%u3002%0A%0A%23%23%23%20%u5206%u6B65%u6C42%u5BFC%0A%23%23%23%20%24dz%5E%7B%5B2%5D%7D%24%0A%u635F%u5931%u51FD%u6570%0A%24%24L%20%3D%20-%28ylog%20a%5E%7B%5B2%5D%7D%20+%20%281-y%29log%20%281-a%5E%7B%5B2%5D%7D%29%29%24%24%0A%u5176%u5BFC%u6570%u4E3A%uFF1A%0A%24%24%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20a%7D%20%3D%20-%5Cdfrac%20%7By%7D%7Ba%5E%7B%5B2%5D%7D%7D%20-%20%5Cdfrac%20%7B1-y%7D%7B1-a%5E%7B%5B2%5D%7D%7D%24%24%0A%u4EE3%u5165%uFF1A%0A%24%24dz%5E%7B%5B2%5D%7D%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20a%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20z%7D%20%3D%20a%5E%7B%5B2%5D%7D%281-a%5E%7B%5B2%5D%7D%29%28-%5Cdfrac%20%7By%7D%7Ba%5E%7B%5B2%5D%7D%7D%20-%20%5Cdfrac%20%7B1-y%7D%7B1-a%5E%7B%5B2%5D%7D%7D%29%20%3D%20a%5E%7B%5B2%5D%7D%20-%20y%24%24%0A%0A%0A%0A%23%23%23%23%20%24d%5Comega%5E%7B%5B2%5D%7D%20%2C%20b%5E%7B%5B2%5D%7D%24%0A%24%24d%5Comega%5E%7B%5B2%5D%7D%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20%5Comega%5E%7B%5B2%5D%7D%7D%20%3D%20dz%5E%7B%5B2%5D%7Da%5E%7B%5B1%5DT%7D%24%24%0A%24%24db%5E%7B%5B2%5D%7D%20%3D%20%5Cdfrac%20%7B%5Cpartial%20L%7D%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20b%5E%7B%5B2%5D%7D%7D%20%3D%20dz%5E%7B%5B2%5D%7D%24%24%0A%0A%23%23%23%23%20%24da%5E%7B%5B1%5D%7D%24%0A%24%24da%5E%7B%5B1%5D%7D%20%3D%20dz%5E%7B%5B2%5D%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20a%5E%7B%5B1%5D%7D%7D%24%24%0A%u4EE3%u5165%24%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20a%5E%7B%5B1%5D%7D%7D%20%3D%20%5Comega%5E%7B%5B2%5DT%7D%24%uFF0C%u53EF%u5F97%uFF1A%0A%24%24da%5E%7B%5B1%5D%7D%20%3D%20%5Comega%5E%7B%5B2%5DT%7D%20dz%5E%7B%5B2%5D%7D%24%24%0A%0A%0A%23%23%23%23%20%24dz%5E%7B%5B1%5D%7D%24%0A%24%24dz%5E%7B%5B1%5D%7D%20%3D%20da%5E%7B%5B1%5D%7D%20%5Ccenterdot%20%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20z%5E%7B%5B1%5D%7D%7D%24%24%0A%u4EE3%u5165%24%5Cdfrac%20%7B%5Cpartial%20a%7D%7B%5Cpartial%20z%5E%7B%5B1%5D%7D%7D%20%3D%20g%5E%7B%5B1%5D%7D%5Cprime%20%28z%5E%7B%5B1%5D%7D%29%24%uFF0C%u53EF%u5F97%uFF1A%0A%24%24dz%5E%7B%5B1%5D%7D%20%3D%20%5Comega%5E%7B%5B2%5DT%7D%20dz%5E%7B%5B2%5D%7D%20*g%5E%7B%5B1%5D%7D%5Cprime%20%28z%5E%7B%5B1%5D%7D%29%24%24%0A%0A%23%23%23%23%20%24d%5Comega%5E%7B%5B1%5D%7D%20%2C%20db%5E%7B%5B1%5D%7D%24%0A%u8FD9%u4E2A%u5C31%u5F88%u7B80%u5355%u4E86%0A%24%24d%5Comega%5E%7B%5B1%5D%7D%20%3D%20dz%5E%7B%5B1%5D%7Dx%24%24%0A%24%24db%5E%7B%5B1%5D%7D%20%3D%20dz%5E%7B%5B1%5D%7D%24%24%0A%0A%u81F3%u6B64%u5168%u90E8%u5F97%u8BC1%u3002%0A%0A%23%23%23%20%u77E9%u9635%u6C42%u5BFC%0A%u5728%u8BA1%u7B97%24da%5E%7B%5B1%5D%7D%24%u7684%u65F6%u5019%uFF0C%u4F1A%u53D1%u73B0%u8FD9%u91CC%u6709%u4E00%u4E2A%u77E9%u9635%u6C42%u5BFC%u7684%u95EE%u9898%u3002%24z%5E%7B%5B2%5D%7D%24%u662F%u5217%u5411%u91CF%uFF0C%24%5Comega%20%5E%7B%5B2%5D%7D%24%u662F%24n%5E%7B%5B2%5D%7D%5Ctimes%20n%5E%7B%5B1%5D%7D%24%u578B%u77E9%u9635%uFF0C%24a%5E%7B%5B1%5D%7D%24%u662F%u5217%u5411%u91CF%u3002%0A%u7F51%u4E0A%u641C%u5230%u7684%u77E9%u9635%u6C42%u5BFC%u65B9%u6CD5%u7684%u5E16%u5B50%u6709%u5F88%u591A%uFF0C%u4F46%u90FD%u6CA1%u6709%u5F88%u597D%u7684%u89E3%u91CA%u4E3A%u4EC0%u4E48%24%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20%5Comega%5E%7B%5B2%5D%7D%7D%20%3D%20a%5E%7B%5B1%5DT%7D%24%u3002%0A%u6839%u636E%u6211%u81EA%u5DF1%u7684%u7406%u89E3%uFF0C%24%5Comega%20%5E%7B%5B2%5D%7D%24%u53EF%u4EE5%u770B%u4F5C%24n%5E%7B%5B1%5D%7D%24%u4E2A%u5217%u5411%u91CF%u3002%24z%5E%7B%5B2%5D%7D%24%u5173%u4E8E%24%5Comega%5E%7B%5B2%5D%7D%24%u7684%u5BFC%u6570%u5C31%u662F%u5BF9%u6240%u6709%u5217%u5411%u91CF%u7684%u5BFC%u6570%u7684stack%u3002%0A%u56E0%u4E3A%0A%24%24z_%7B%28i%29%7D%20%3D%20%5CSigma_%7Bj%3D0%7D%5E%7Bn%5E%7B%5B1%5D%7D-1%7D%20%5Comega_%7B%28i%29%28j%29%7Da_%7B%28j%29%7D%24%24%0A%u6240%u4EE5%0A%24%24%5Cdfrac%20%7B%5Cpartial%20z%5E%7B%5B2%5D%7D%7D%7B%5Cpartial%20%5Comega_%7B%28j%29%7D%7D%20%3D%20a_%7B%28j%29%7D%24%24%0Astack%u5230%u4E00%u5757%u513F%u5C31%u662F%24%5Ba_%7B%280%29%7D%2C%20a_%7B%281%29%7D...a_%7B%28n-1%29%7D%5D%20%3D%20a%5ET%24%0A%u6240%u4EE5%u5F97%u8BC1%u3002%20%0A%0A%23%23%23%20Vectorization%0A%0A%0A%0A%0A%23%23%23%23%20Forward%20propagation%0A%24Z%5E%7B%5B1%5D%7D%20%3D%20W%5E%7B%5B1%5D%7DX%20+%20b%5E%7B%5B1%5D%7D%24%0A%24A%5E%7B%5B1%5D%7D%20%3D%20g%5E%7B%5B1%5D%7D%28Z%5E%7B%5B1%5D%7D%29%24%0A%24Z%5E%7B%5B2%5D%7D%20%3D%20W%5E%7B%5B2%5D%7DA%5E%7B%5B1%5D%7D%20+%20b%5E%7B%5B2%5D%7D%24%0A%24A%5E%7B%5B2%5D%7D%20%3D%20g%5E%7B%5B2%5D%7D%28Z%5E%7B%5B2%5D%7D%29%20%3D%20%5Csigma%28Z%5E%7B%5B2%5D%7D%29%24%0A%23%23%23%23%20Backward%20propagation%0A%24dZ%5E%7B%5B2%5D%7D%20%3D%20A%5E%7B%5B2%5D%7D%20-%20Y%24%0A%24dW%5E%7B%5B2%5D%7D%20%3D%20%5Cdfrac%20%7B1%7D%7Bm%7D%20dZ%5E%7B%5B2%5D%7DA%5E%7B%5B1%5DT%7D%24%0A%24db%5E%7B%5B2%5D%7D%20%3D%20%5Cdfrac%20%7B1%7D%7Bm%7D%20np.sum%28dZ%5E%7B%5B2%5D%7D%2C%20axis%3D1%2C%20keepdims%3DTrue%29%24%0A%24dZ%5E%7B%5B1%5D%7D%20%3D%20W%5E%7B%5B2%5DT%7DdZ%5E%7B%5B2%5D%7D%20*%20g%5E%7B%5B1%5D%5Cprime%7D%28Z%5E%7B%5B1%5D%7D%29%24%0A%24dW%5E%7B%5B1%5D%7D%20%3D%20%5Cdfrac%20%7B1%7D%7Bm%7D%20dZ%5E%7B%5B1%5D%7DX%5ET%24%0A%24db%5E%7B%5B1%5D%7D%20%3D%20%5Cdfrac%20%7B1%7D%7Bm%7D%20np.sum%28dZ%5E%7B%5B1%5D%7D%2C%20axis%3D1%2C%20keepdims%3DTrue%29%24%0A%0A%3E%20**np.sum**%28A%2C%20axis%3D1%2C%20keepdims%3DTrue%29%20%u6C42%u53D6%u77E9%u9635A%u5404%u884C%u7684%u548C%0A%3E%20**axis**%3A%20%3D1%20%u6309%u884C%u6C42%u548C%uFF0C%3D0%20%u6309%u5217%u6C42%u548C%uFF0C%u6CA1%u6709axis%u5219%u5168%u77E9%u9635%u6C42%u548C%0A%3E%20**keepdims**%3A%20%3DTrue%20%u6C42%u548C%u51FA%u6765%u540E%u4ECD%u7136%u4FDD%u5B58%u77E9%u9635%u7ED3%u6784%uFF0C%u5373%u6309%u884C%u6C42%u548C%uFF0C%u5219%u5F97%u5230%u5217%u5411%u91CF%uFF0C%u6309%u5217%u6C42%u548C%u5F97%u5230%u884C%u5411%u91CF%uFF0C%u5168%u77E9%u9635%u6C42%u548C%u5F97%u5230%u4E00%u4E2A1x1%u77E9%u9635%u3002%0A%0A%23%23%23%23%20%u5206%u6790%0A%u5148%u770Bsingle%20training%20example%3A%20%0A%21%5BAlt%20text%5D%28./1513575221043.png%29%0A%u518D%u770Bvectorized%u7248%u672C%uFF1A%0A%21%5BAlt%20text%5D%28./1513577070931.png%29%0A%0A%u8BAD%u7EC3%u6837%u672C%u6309%u7167%u4E0B%u9762%u7684%u65B9%u6CD5stack%uFF0C%24A%5E%7B%5B1%5D%7D%24%u4E5F%u7C7B%u4F3C%u53EF%u5F97%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%7C250x0%5D%28./1513576811182.png%29%0A%u5176%u4F59%u77E9%u9635%24Z%5E%7B%5Bi%5D%7D%2C%20A%5E%7B%5Bi%5D%7D%2C%20W%5E%7B%5Bi%5D%7D%2C%20dZ%5E%7B%5Bi%5D%7D%2C%20dW%5E%7B%5Bi%5D%7D%24%u4E5F%u53EF%u7C7B%u4F3C%u5F97%u5230%u3002%0A%u7A0D%u7A0D%u9700%u8981%u6CE8%u610F%u7684%u662F%u5411%u91CF%24b%5E%7B%5Bi%5D%7D%24%uFF0CAndrew%u5728%u8BFE%u7A0B%u4E2D%u4E5F%u6CA1%u6709%u8FC7%u591A%u7684%u63D0%u5230%u3002%u8FD9%u91CC%u5199%u51FA%u6211%u7684%u7406%u89E3%u3002%0A%u9996%u5148%uFF1A%0A%24%24Z%5E%7B%5Bi%5D%7D%20%3D%20W%5E%7B%5Bi%5D%7DA%5E%7B%5Bi-1%5D%7D%20+%20b%5E%7B%5Bi%5D%7D%24%24%0A%u4E3A%u4EC0%u4E48%24b%5E%7B%5Bi%5D%7D%24%u662F%24db%5E%7B%5Bi%5D%7D%20%3D%20%5Cdfrac%20%7B1%7D%7Bm%7D%20np.sum%28dZ%5E%7B%5Bi%5D%7D%2C%20axis%3D1%2C%20keepdims%3DTrue%29%24%3F%0A%u6700%u76F4%u89C2%u7684b%u5E94%u8BE5%u662F%24b%5E%7B%5Bi%5D%7D%2C%20db%5E%7B%5Bi%5D%7D%20%5Cin%20%28n%5E%7B%5Bi-1%5D%7D%2C%20m%29%24%uFF0C%u56E0%u4E3A%24A%5E%7B%5Bi-1%5D%7D%20%5Cin%20%28n%5E%7B%5Bi-1%5D%7D%2C%20m%29%uFF0C%20W%5E%7B%5Bi%5D%7D%20%5Cin%20%28n%5E%7B%5Bi%5D%7D%2C%20n%5E%7B%5Bi-1%5D%7D%29%2C%20Z%5E%7B%5Bi%5D%7D%20%5Cin%20%28n%5E%7B%5Bi%5D%7D%2Cm%29%24%0A%u90A3%u4E3A%u4EC0%u4E48%u8981%u6309%u7167%u884C%u6C42%u548C%u518D%u6309m%u6C42%u5747%u503C%u5462%uFF1F%u56E0%u4E3A%24W%5E%7B%5Bi%5D%7D%2C%20b%5E%7B%5Bi%5D%7D%24%u4E3A%u6A21%u578B%u53C2%u6570%uFF0C%u4E0E%u6837%u672C%u65E0%u5173%u3002%u9488%u5BF9%u6BCF%u4E2A%u6837%u672Cb%2C%20db%u5E94%u5F53%u76F8%u540C%u3002%u6240%u4EE5%u8981%u6309%u4E0A%u9762%u8FD9%u4E48%u7B97%u3002%0A%0A%23%23%20%u603B%u7ED3%0A%u5728%u6D45%u5C42%u795E%u7ECF%u7F51%u7EDC%u4E2D%uFF0C%u6B63%u5411%u4F20%u64AD%u6C42%u8282%u70B9%u503C%uFF0C%u53CD%u5411%u4F20%u64AD%u5229%u7528%u94FE%u5F0F%u6CD5%u5219%u6C42%u5BFC%u6570%u3002%u5728%u5411%u91CF%u5316%u7684%u65F6%u5019%uFF0C%u9488%u5BF9%u6240%u6709%u7684%u6837%u672C%uFF0C%u5411%u91CF%u6309%u7167%u5217%u7EC4%u5408%u6210%u77E9%u9635%uFF0C%u5373%u77E9%u9635%u7684%u4E00%u5217%u5BF9%u5E94%u4E00%u4E2A%u6837%u672C%u3002%0A%0A%0A%0A%0A%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2017/10/27/Angular_JS_-_service,_factory_&_provider/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/10/27/Angular_JS_-_service,_factory_&_provider/" class="post-title-link" itemprop="url">Angular JS - service, factory & provider</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-27 12:49:28" itemprop="dateCreated datePublished" datetime="2017-10-27T12:49:28+08:00">2017-10-27</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=98a9f39c-bf75-4d9a-ba82-3f3d3a625f52&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">service</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;AngularJS&#x4E2D;service&#x662F;&#x5355;&#x4F8B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x5E38;&#x7528;service&#x5728;controller&#x4E4B;&#x95F4;&#xFF0C;&#x751A;&#x81F3;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x6765;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">angular.module(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;app&apos;</span>, [])</div><div style="line-height: 1.6;">  .controller(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;ctrl&apos;</span>, Ctrl)</div><div style="line-height: 1.6;">  .service(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;CustomService&apos;</span>, CustomService);</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">CustomService</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2;">)</span>&#123;</span></div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">const</span> service = <span style="display: inline; line-height: 1.6; color: #f92672;">this</span></div><div style="line-height: 1.6;">    service.a = <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;test&quot;</span></div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">Ctrl.$inject = [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;CustomService&apos;</span>]</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">Ctrl</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2;">CustomService</span>)</span>&#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #e6db74;">console</span>.log(CustomService.a)</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x524D;&#x9762;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x8FD9;&#x4E2A;service&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x540E;&#x9762;&#x4E00;&#x4E2A;&#x662F;&#x8FD9;&#x4E2A;service&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x53EF;&#x4EE5;&#x5982;&#x4E0A;&#x5728;controller&#x4E2D;&#x4F7F;&#x7528;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">factory</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5DE5;&#x5382;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x751F;&#x6210;&#x4EFB;&#x610F;&#x60F3;&#x8981;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5F53;&#x5176;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;service&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x548C;.service&#x4F5C;&#x7528;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x5982;&#x4E0B;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">ShoppingListController2.$inject = [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;ShoppingListFactory&apos;</span>];</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">ShoppingListController2</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(ShoppingListFactory)</span> </span>&#123;</div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> list2 = <span style="display: inline; line-height: 1.6; color: #f92672;">this</span>;</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #75715e;">// Use factory to create new shopping list service</span></div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> shoppingList = ShoppingListFactory(<span style="display: inline; line-height: 1.6; color: #ae81ff;">3</span>);</div><div style="line-height: 1.6;">  ...</div><div style="line-height: 1.6;">&#125;</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">ShoppingListFactory</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span> </span>&#123;</div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> factory = <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2;">(maxItems)</span> </span>&#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">return</span> <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> ShoppingListService(maxItems);</div><div style="line-height: 1.6;">  &#125;;</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">return</span> factory;</div><div style="line-height: 1.6;">&#125;</div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">provider</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">factory&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;provider&#x3002;&#x770B;Angular JS&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">factory</span>(name, factoryFn, enforce) &#123;</div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">return</span> <span style="display: inline; line-height: 1.6;">provider(name,</span> &#123;</div><div style="line-height: 1.6;">    $get: enforce !== <span style="display: inline; line-height: 1.6; color: #ae81ff;">false</span> ? enforceReturnValue(name, factoryFn) : <span style="display: inline; line-height: 1.6;">factoryFn</span></div><div style="line-height: 1.6;">  &#125;);</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">factory&#x51FD;&#x6570;&#x90FD;&#x662F;&#x7528;provider&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002; <br>&#x4E00;&#x4E2A;provider&#x51FD;&#x6570;&#x901A;&#x5E38;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">ServiceProvider</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span> </span>&#123;</div><div style="line-height: 1.6;">  <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> provider = <span style="display: inline; line-height: 1.6; color: #f92672;">this</span>;</div><div style="line-height: 1.6;">  provider.config = &#123;&#x2026;&#125;;</div><div style="line-height: 1.6;">  provider.$<span style="display: inline; line-height: 1.6; color: #f92672;">get</span> = <span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2;">()</span> </span>&#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> service =</div><div style="line-height: 1.6;">      <span style="display: inline; line-height: 1.6; color: #f92672;">new</span> Service(provider.config.prop);</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">return</span> service;</div><div style="line-height: 1.6;">  &#125;;</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">provider.<span style="line-height: 1.6;">$</span>get&#x6765;&#x63D0;&#x4F9B;factory&#x529F;&#x80FD;&#x3002;&#x5B83;&#x8FD8;&#x80FD;&#x63D0;&#x4F9B;&#x5176;&#x4ED6;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x3002;&#x7136;&#x540E;provider&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x5728;module.config&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x53EA;&#x80FD;inject provider&#x3002;.config&#x662F;&#x5728;module&#x5B9A;&#x4E49;&#x4EE5;&#x540E;&#xFF0C;&#x5148;&#x4E8E;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#xFF0C;&#x7ACB;&#x5373;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">angular.module(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;app&apos;</span>, [])</div><div style="line-height: 1.6;">  .controller(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;ctrl&apos;</span>, Ctrl)</div><div style="line-height: 1.6;">  .provider(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;Service&apos;</span>, ServiceProvider)</div><div style="line-height: 1.6;">  .config(Config);</div><div style="line-height: 1.6;">Config.$inject = [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;ServiceProvider&apos;</span>];</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">Config</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2;">ServiceProvider</span>) </span>&#123;</div><div style="line-height: 1.6;">  ServiceProvider.config.prop = <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;value&apos;</span>;</div><div style="line-height: 1.6;">&#125;;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5728;<span style="line-height: 1.6;">$</span>get&#x5B9E;&#x4F8B;&#x5316;&#x7684;service&#x5C31;&#x80FD;&#x6839;&#x636E;&#x6A21;&#x5757;&#x7684;&#x4E0D;&#x540C;&#x6765;&#x5B9A;&#x5236;&#x4E0D;&#x540C;&#x7684;&#x529F;&#x80FD;&#x3002;</p></div><center style="display:none">%23%20Angular%20JS%20-%20service%2C%20factory%20%26%20provider%0A@%28myblog%29%5Bangular%5D%0A%0A%0A%23%23%20service%0A%u5728AngularJS%u4E2Dservice%u662F%u5355%u4F8B%u7684%uFF0C%u6240%u4EE5%u901A%u5E38%u7528service%u5728controller%u4E4B%u95F4%uFF0C%u751A%u81F3%u6A21%u5757%u4E4B%u95F4%u6765%u5171%u4EAB%u6570%u636E%u3002%0A%60%60%60%0Aangular.module%28%27app%27%2C%20%5B%5D%29%0A%20%20.controller%28%27ctrl%27%2C%20Ctrl%29%0A%20%20.service%28%27CustomService%27%2C%20CustomService%29%3B%0A%0Afunction%20CustomService%28%29%7B%0A%09const%20service%20%3D%20this%0A%09service.a%20%3D%20%22test%22%0A%7D%0A%0ACtrl.%24inject%20%3D%20%5B%27CustomService%27%5D%0Afunction%20Ctrl%28CustomService%29%7B%0A%09console.log%28CustomService.a%29%0A%7D%0A%60%60%60%0A%u524D%u9762%u4E00%u4E2A%u5B57%u7B26%u4E32%u662F%u8FD9%u4E2Aservice%u7684%u540D%u5B57%uFF0C%u540E%u9762%u4E00%u4E2A%u662F%u8FD9%u4E2Aservice%u7684%u6784%u9020%u51FD%u6570%u3002%u53EF%u4EE5%u5982%u4E0A%u5728controller%u4E2D%u4F7F%u7528%u3002%0A%0A%23%23%20factory%0A%u5DE5%u5382%u51FD%u6570%uFF0C%u53EF%u4EE5%u7528%u6765%u751F%u6210%u4EFB%u610F%u60F3%u8981%u7684%u4E1C%u897F%uFF0C%u5F53%u5176%u8FD4%u56DE%u4E00%u4E2Aservice%u5B9E%u4F8B%u65F6%uFF0C%u548C.service%u4F5C%u7528%u662F%u76F8%u540C%u7684%uFF0C%u5982%u4E0B%0A%60%60%60%0AShoppingListController2.%24inject%20%3D%20%5B%27ShoppingListFactory%27%5D%3B%0Afunction%20ShoppingListController2%28ShoppingListFactory%29%20%7B%0A%20%20var%20list2%20%3D%20this%3B%0A%0A%20%20//%20Use%20factory%20to%20create%20new%20shopping%20list%20service%0A%20%20var%20shoppingList%20%3D%20ShoppingListFactory%283%29%3B%0A%20%20...%0A%7D%0A%0Afunction%20ShoppingListFactory%28%29%20%7B%0A%20%20var%20factory%20%3D%20function%20%28maxItems%29%20%7B%0A%20%20%20%20return%20new%20ShoppingListService%28maxItems%29%3B%0A%20%20%7D%3B%0A%0A%20%20return%20factory%3B%0A%7D%0A%60%60%60%0A%0A%23%23%20provider%0Afactory%u5176%u5B9E%u662F%u4E00%u79CD%u7279%u6B8A%u7684provider%u3002%u770BAngular%20JS%u7684%u5B9E%u73B0%uFF1A%0A%60%60%60%0Afunction%20factory%28name%2C%20factoryFn%2C%20enforce%29%20%7B%0A%20%20return%20provider%28name%2C%20%7B%0A%20%20%20%20%24get%3A%20enforce%20%21%3D%3D%20false%20%3F%20enforceReturnValue%28name%2C%20factoryFn%29%20%3A%20factoryFn%0A%20%20%7D%29%3B%0A%7D%0A%60%60%60%0Afactory%u51FD%u6570%u90FD%u662F%u7528provider%u6765%u5B9E%u73B0%u7684%u3002%0A%u4E00%u4E2Aprovider%u51FD%u6570%u901A%u5E38%u5982%u4E0B%u5B9A%u4E49%uFF1A%0A%60%60%60%0Afunction%20ServiceProvider%28%29%20%7B%0A%20%20var%20provider%20%3D%20this%3B%0A%20%20provider.config%20%3D%20%7B%u2026%7D%3B%0A%20%20provider.%24get%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20service%20%3D%0A%20%20%20%20%20%20new%20Service%28provider.config.prop%29%3B%0A%20%20%20%20return%20service%3B%0A%20%20%7D%3B%0A%7D%0A%60%60%60%0Aprovider.%5C%24get%u6765%u63D0%u4F9Bfactory%u529F%u80FD%u3002%u5B83%u8FD8%u80FD%u63D0%u4F9B%u5176%u4ED6%u7684%u914D%u7F6E%u9879%u3002%u7136%u540Eprovider%u8FD8%u6709%u4E00%u4E2A%u597D%u5904%u662F%uFF0C%u5728module.config%u51FD%u6570%u4E2D%uFF0C%u53EA%u80FDinject%20provider%u3002.config%u662F%u5728module%u5B9A%u4E49%u4EE5%u540E%uFF0C%u5148%u4E8E%u5176%u4ED6%u670D%u52A1%uFF0C%u7ACB%u5373%u8FD0%u884C%u7684%u3002%u5982%u4E0B%uFF1A%0A%60%60%60javascript%0Aangular.module%28%27app%27%2C%20%5B%5D%29%0A%20%20.controller%28%27ctrl%27%2C%20Ctrl%29%0A%20%20.provider%28%27Service%27%2C%20ServiceProvider%29%0A%20%20.config%28Config%29%3B%0AConfig.%24inject%20%3D%20%5B%27ServiceProvider%27%5D%3B%0Afunction%20Config%28ServiceProvider%29%20%7B%0A%20%20ServiceProvider.config.prop%20%3D%20%27value%27%3B%0A%7D%3B%0A%60%60%60%0A%u8FD9%u6837%u7684%u8BDD%uFF0C%u5728%5C%24get%u5B9E%u4F8B%u5316%u7684service%u5C31%u80FD%u6839%u636E%u6A21%u5757%u7684%u4E0D%u540C%u6765%u5B9A%u5236%u4E0D%u540C%u7684%u529F%u80FD%u3002</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2017/10/27/Angular_JS_-_unit_test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/10/27/Angular_JS_-_unit_test/" class="post-title-link" itemprop="url">Angular JS - unit test</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-27 06:33:17" itemprop="dateCreated datePublished" datetime="2017-10-27T06:33:17+08:00">2017-10-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2018-06-13 14:18:51" itemprop="dateModified" datetime="2018-06-13T14:18:51+08:00">2018-06-13</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6; background: none;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.io/#/?provider=evernote&amp;guid=699f9e35-a583-4840-9b52-844d2fe42a40&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"> <br>&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x505A;unit testing&#xFF0C;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x505A;&#x3002;&#x5728;Yaakov Chaikin&#x7684;<a href="https://www.coursera.org/learn/single-page-web-apps-with-angularjs/home/week/5" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Coursera&#x8BFE;&#x7A0B;</a>&#x4E2D;&#xFF0C;&#x7B2C;&#x4E94;&#x7AE0;&#x6B63;&#x597D;&#x4ECB;&#x7ECD;&#x4E86;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x987A;&#x4FBF;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x5B9E;&#x8DF5;&#x4E86;&#x4E00;&#x628A;&#x3002;&#x65E0;&#x6570;&#x6B21;&#x7684;&#x5B9E;&#x8DF5;&#x8BC1;&#x660E;&#xFF0C;&#x770B;&#x5F97;&#x5934;&#x5934;&#x662F;&#x9053;&#xFF0C;&#x5199;&#x8D77;&#x6765;&#x5C31;&#x5230;&#x5904;&#x662F;&#x5751;&#x3002;&#x5C0F;&#x5C0F;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7740;&#x5B9E;&#x82B1;&#x4E86;&#x4E0D;&#x5C11;&#x65F6;&#x95F4;&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x9488;&#x5BF9;&#x524D;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x7F51;&#x4E0A;&#x91C7;&#x7528;&#x7684;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#x5927;&#x591A;&#x662F;karma + jasmine + chai&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x4E4B;&#x524D;&#x5728;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x7684;&#x6D4B;&#x8BD5;&#x4E2D;&#x591A;&#x91C7;&#x7528;mocha + should + sinon&#x3002;&#x6240;&#x4EE5;&#x672C;&#x6B21;&#x5B9E;&#x8DF5;&#xFF0C;&#x4ECD;&#x7136;&#x7231;&#x91C7;&#x7528;mocha&#x6846;&#x67B6;&#xFF0C;&#x6765;&#x642D;&#x914D;karma&#x4F7F;&#x7528;&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">karma&#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#x3002;&#x56E0;&#x5176;&#x4E30;&#x5BCC;&#x7684;&#x914D;&#x7F6E;&#x9009;&#x9879;&#xFF0C;&#x826F;&#x597D;&#x7684;&#x6269;&#x5C55;&#x6027;&#x80FD;&#xFF0C;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x524D;&#x7AEF;&#x3002;&#x56E0;&#x4E3A;&#x524D;&#x7AEF;&#x8981;&#x9488;&#x5BF9;&#x5404;&#x79CD;&#x7248;&#x672C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x5404;&#x79CD;&#x6846;&#x67B6;&#xFF0C;&#x5982;&#x679C;&#x5168;&#x90E8;&#x9760;&#x624B;&#x52A8;&#x53BB;&#x9002;&#x914D;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x592A;&#x53EF;&#x80FD;&#x3002;&#x6240;&#x4EE5;&#x5927;&#x5BB6;&#x90FD;&#x7528;karma&#x4E86;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">karma setup</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x53C2;&#x8003;<a href="https://segmentfault.com/a/1190000006895064" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">&#x524D;&#x7AEF;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4E4B;Karma&#x73AF;&#x5883;&#x642D;&#x5EFA;</a></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7B80;&#x5355;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>.exports = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">config</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  config.set(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// base path that will be used to resolve all patterns (eg. files, exclude)</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    basePath: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// frameworks to use</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// available frameworks: https://npmjs.org/browse/keyword/karma-adapter</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    frameworks: [...],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// list of files / patterns to load in the browser</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    files: [</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;...&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#123;<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">pattern</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;...&apos;</span>&#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    ],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// list of files to exclude</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    exclude: [</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    ],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// preprocess matching files before serving them to the browser</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    preprocessors: &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// test results reporter to use</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// possible values: &apos;dots&apos;, &apos;progress&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// available reporters: https://npmjs.org/browse/keyword/karma-reporter</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    reporters: [<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;progress&apos;</span>],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// web server port</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    port: <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">9876</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// enable / disable colors in the output (reporters and logs)</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    colors: <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">true</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// level of logging</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    logLevel: config.LOG_INFO,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// enable / disable watching file and executing tests whenever any file changes</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    autoWatch: <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">true</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// start these browsers</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// available browser launchers: https://npmjs.org/browse/keyword/karma-launcher</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    browsers: [<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;...&apos;</span>],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// Continuous Integration mode</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// if true, Karma captures browsers, runs the tests and exits</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    singleRun: <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">false</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// Concurrency level</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// how many browser should be started simultaneous</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    concurrency: <span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">Infinity</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// Which plugins to enable</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    plugins: []</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7B80;&#x5355;&#x7684;&#x89E3;&#x91CA;&#x76EE;&#x524D;&#x7528;&#x5230;&#x7684;&#x9009;&#x9879;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">frameworks: &#x4F7F;&#x7528;&#x5230;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x6240;&#x6709;&#x4F7F;&#x7528;&#x5230;&#x7684;&#xFF0C;&#x8981;&#x5728;&#x4E0B;&#x9762;plugins&#x4E2D;&#x5217;&#x660E;&#x3002;&#x6BD4;&#x5982;&#xFF1A;frameworks&#x4E2D;&#x5305;&#x542B;mocha&#xFF0C;&#x5219;plugins&#x4E0B;&#x5C31;&#x8981;&#x5305;&#x542B;karma-mocha</li><li style="line-height: 1.6;">basePath, files, exclude: &#x8FD9;&#x4E09;&#x4E2A;&#x6307;&#x660E;&#x4E86;karma&#x8981;&#x52A0;&#x8F7D;&#x7684;JS&#x6587;&#x4EF6; <br><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">basePath&#xFF1A;&#x57FA;&#x7840;&#x76EE;&#x5F55;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x5230;files&#xFF0C;exclude&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x524D;&#x9762;</li><li style="line-height: 1.6;">files&#xFF1A;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x652F;&#x6301;&#x901A;&#x914D;&#x7B26;&#x548C;&#x6B63;&#x5219;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x5927;&#x62EC;&#x53F7;&#x8FD8;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x3002;&#x901A;&#x914D;&#x7B26;&#x2019;**&#x2019;&#x8868;&#x793A;&#x6240;&#x6709;&#x76EE;&#x5F55;&#xFF0C;&#x2019;*&#x2019;&#x8868;&#x793A;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF0C;&#x2019;**/*&#x2019;&#x8868;&#x793A;&#x5176;&#x4E0B;&#x6240;&#x6709;&#x76EE;&#x5F55;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;</li><li style="line-height: 1.6;">exclude: &#x53EF;&#x4EE5;&#x5254;&#x9664;files&#x4E2D;&#x4E0D;&#x60F3;&#x8981;&#x7684;&#x6587;&#x4EF6;</li></ul></li><li style="line-height: 1.6;">browsers&#xFF1A;&#x4F7F;&#x7528;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;headless&#x6D4B;&#x8BD5;&#x5219;&#x53EF;&#x7528;PhantomJS</li></ul><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">karma with ES6</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x56E0;&#x4E3A;PhantomJS&#x4E0D;&#x652F;&#x6301;ES6&#x8BED;&#x6CD5;(&#x7F51;&#x4E0A;&#x8BF4;&#xFF0C;PhantomJS&#x751A;&#x81F3;&#x5BF9;ES5&#x7684;&#x652F;&#x6301;&#x90FD;&#x4E0D;&#x662F;&#x5F88;&#x597D;)&#xFF0C;&#x6240;&#x4EE5;karma&#x8981;&#x6D4B;&#x8BD5;&#x5305;&#x542B;ES6&#x8BED;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x756A;&#x914D;&#x7F6E;&#x3002;&#x7F51;&#x4E0A;&#x76F8;&#x5173;&#x7684;&#x5E16;&#x5B50;&#x5F88;&#x591A;&#xFF0C;&#x5217;&#x4E3E;&#x5982;&#x4E0B;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="http://radify.io/blog/announcing-karma-es6-shim/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Testing ES6 with Karma, RequireJS, and Angular</a>  - karma-es6-shim </li><li style="line-height: 1.6;"><a href="https://www.barbarianmeetscoding.com/blog/2015/11/16/how-to-start-writing-your-angular-js-tests-in-es6/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">How to Start Writing Your AngularJS Tests in ES6</a> - karma-babel-preprocessor</li><li style="line-height: 1.6;"><a href="http://www.syntaxsuccess.com/viewarticle/writing-jasmine-unit-tests-in-es6" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Writing Jasmine Unit Tests In ES6</a> - webpack</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6709;&#x8FD9;&#x4E48;&#x51E0;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">karma-es6-shim</li><li style="line-height: 1.6;">karma-babel-preprocessor</li><li style="line-height: 1.6;">webpack</li><li style="line-height: 1.6;">SlimerJS <br>&#x524D;&#x4E09;&#x79CD;&#x6709;&#x70B9;&#x590D;&#x6742;&#xFF0C;&#x76EE;&#x524D;&#x7684;&#x6211;&#x7684;&#x6280;&#x672F;&#x6808;&#x8FD8;&#x65E0;&#x6CD5;&#x7406;&#x89E3;&#x3002;&#x6700;&#x7EC8;&#x9009;&#x62E9;&#x6700;&#x7B80;&#x5355;&#x7684;SlimerJS&#x3002;&#x5728;Linux&#x4E0A;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Xvfb&#x505A;&#x5230;headless&#x6D4B;&#x8BD5;&#xFF0C;Windows&#x4E0A;&#x5C31;&#x8FD9;&#x6837;&#x5427;&#xFF0C;&#x8DF3;&#x4E2A;&#x7A97;&#x53E3;&#x4E5F;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x5927;&#x4E8B;&#x3002;</li></ul><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Debug karma test using Chrome</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x4E2A;&#x5728;&#x521D;&#x5B66;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x6050;&#x6015;&#x6211;&#x4E5F;&#x8DF3;&#x4E0D;&#x51FA;&#x81EA;&#x5DF1;&#x7ED9;&#x81EA;&#x5DF1;&#x6316;&#x7684;&#x5927;&#x5751;&#x3002; <br>&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;<a href="https://glebbahmutov.com/blog/debugging-karma-unit-tests/index.html" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Debugging Karma Unit Tests</a> <br>&#x6309;&#x7167;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#x6253;&#x5F00;&#x8C03;&#x8BD5;&#x9875;&#x9762;&#x548C;Chrome Dev Tool&#x9875;&#x9762;&#xFF0C;&#x5237;&#x65B0;&#x9875;&#x9762;&#x5373;&#x53EF;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x4EE3;&#x7801;&#x5E76;&#x89E6;&#x53D1;&#x65AD;&#x70B9;&#x3002; <br>&#x5C06;&#x547D;&#x4EE4;&#x884C;&#x5199;&#x5165;package.json&#xFF0C;&#x4EE5;&#x540E;&#x8C03;&#x7528;npm&#x5C31;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x6253;&#x5F00;&#x8BE5;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">...</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;scripts&quot;</span>: &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;start&quot;</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;node ./bin/www&quot;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;karma-debug&quot;</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&quot;cd public/js &amp;&amp; karma start --browsers=Chrome --single-run=false --debug&quot;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  ...</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;</div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">ngMock</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">ngMock&#x4E2D;&#x4E24;&#x4E2A;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x8BCD;&#x5C31;&#x662F;&#xFF1A;module, inject&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x4E2A;&#x4EBA;&#x7684;&#x535A;&#x5BA2;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="http://www.bradoncode.com/blog/2015/05/27/ngmock-fundamentals-angularjs-testing-inject/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">ngMock Fundamentals for AngularJS - Understanding Inject</a></li><li style="line-height: 1.6;"><a href="http://www.bradoncode.com/blog/2015/05/24/ngmock-fundamentals-angularjs-unit-testing/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">ngMock Fundamentals for AngularJS Unit Testing - Understanding Module</a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">ngMock&#x901A;&#x8FC7;module&#x52A0;&#x8F7D;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x4E86;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x6216;&#x8005;&#x5B9A;&#x4E49;&#x533F;&#x540D;module&#x5E76;&#x63D0;&#x4F9B;&#x65B0;&#x7684;service&#xFF0C;&#x6216;&#x8005;&#x590D;&#x5199;&#x5DF2;&#x5B58;&#x5728;&#x7684;service&#x3002;module&#x53EA;&#x662F;&#x5C06;&#x540D;&#x5B57;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;&#x5B58;&#x5165;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x3002;inject&#x5C06;&#x771F;&#x6B63;&#x7684;&#x52A0;&#x8F7D;&#x6240;&#x6709;module&#x63D0;&#x4F9B;&#x7684;service&#xFF0C;&#x5E76;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5C06;&#x76F8;&#x5E94;&#x7684;service&#x5BFC;&#x51FA;&#x5230;test case&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5176;&#x5B9E;ngMock&#x4E5F;&#x5C31;&#x662F;&#x505A;&#x4E86;&#x8FD9;&#x4E24;&#x4EF6;&#x4E8B;&#x60C5;&#x3002; <br>&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E00;&#x4E9B;&#x6709;&#x52A9;&#x4E8E;&#x7406;&#x89E3;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">angular.mock.module</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">module&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x662F;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">angular.mock.module(alias, obj, func)</code> <br>module&#x63A5;&#x53D7;&#x4E09;&#x79CD;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#xFF0C;&#x6BCF;&#x4E00;&#x79CD;&#x90FD;&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x6216;&#x52A0;&#x8F7D;&#x5BF9;&#x5E94;&#x6A21;&#x5757;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">alias: &#x662F;module&#x540D;&#x5B57;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x5728;&#x5F85;&#x6D4B;&#x4EE3;&#x7801;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5728;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;</li><li style="line-height: 1.6;">obj: &#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x5B57;&#x5178;&#x7ED3;&#x6784;&#xFF0C;&#x4ED6;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x533F;&#x540D;module&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x6210;&#x5458;&#x4F1A;&#x88AB;&#x5B9A;&#x4E49;&#x6210;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$provide.value()</code></li><li style="line-height: 1.6;">function: &#x540C;&#x6837;&#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x533F;&#x540D;module&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;function&#x53EF;&#x4EE5;&#x7528;$provide&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x6765;&#x5B9A;&#x4E49;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;service&#x3002;</li></ul><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">function() vs Object</strong></p><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">The examples we used were similar, so what&#x2019;s the key difference between the function() and Object form? As the Object type gets added as a $provider.value, it is therefore restricted to the capabilities of the value service, most importantly that a value service cannot be injected with other services.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5173;&#x4E8E;$provide&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;<a href="https://docs.angularjs.org/api/auto/service/\%24provide" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Angular&#x5B98;&#x65B9;&#x6587;&#x6863;</a></p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">The <strong style="font-weight: bold; line-height: 1.6;"><span style="line-height: 1.6;">$</span>provide</strong> service has a number of methods for registering components with the <strong style="font-weight: bold; line-height: 1.6;"><span style="line-height: 1.6;">$</span>injector</strong>. Many of these functions are also exposed on angular.Module.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x4E9B;service</p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">provider</strong>(name, provider) - registers a service provider with the <span style="line-height: 1.6;">$</span>injector <br><strong style="font-weight: bold; line-height: 1.6;">constant</strong>(name, obj) - registers a value/object that can be accessed by providers and services. <br><strong style="font-weight: bold; line-height: 1.6;">value</strong>(name, obj) - registers a value/object that can only be accessed by services, not providers. <br><strong style="font-weight: bold; line-height: 1.6;">factory</strong>(name, fn) - registers a service factory function that will be wrapped in a service provider object, whose <span style="line-height: 1.6;">$</span>get property will contain the given factory function. <br><strong style="font-weight: bold; line-height: 1.6;">service</strong>(name, Fn) - registers a constructor function that will be wrapped in a service provider object, whose <span style="line-height: 1.6;">$</span>get property will instantiate a new object using the given constructor function. <br><strong style="font-weight: bold; line-height: 1.6;">decorator</strong>(name, decorFn) - registers a decorator function that will be able to modify or replace the implementation of another service.</p></blockquote><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">angular.mock.inject</h3><p style="margin: 0 0 1.1em; line-height: 1.6;"><span style="line-height: 1.6;">$</span>inject&#x662F;ngMock&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x770B;&#x770B;&#x5B98;&#x65B9;&#x7684;&#x5B9A;&#x4E49;</p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">The inject function wraps a function into an injectable function. The inject() creates new instance of $injector per test, which is then used for resolving references.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">inject&#x5C31;&#x662F;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;injector&#xFF0C;&#x90A3;injector&#x53C8;&#x662F;&#x4EC0;&#x4E48;</p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;"><span style="line-height: 1.6;">$</span>injector is used to retrieve object instances as defined by provider, instantiate types, invoke methods, and load modules.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;"><span style="line-height: 1.6;">$</span>injector&#x4E5F;&#x5C31;&#x662F;AngularJS&#x7684;&#x6838;&#x5FC3;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x6240;&#x8C13;&#x7684;&#x201C;DI&#x201D; (Dependency Injection)&#x6A21;&#x5F0F;&#x3002;Angular&#x7684;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x901A;&#x8FC7;<span style="line-height: 1.6;">$</span>injector&#x6765;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;service&#x7684;reference&#x3002; <br>&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x5C06;inject&#x653E;&#x5728;beforeEach&#x91CC;&#xFF0C;&#x8FD9;&#x6837;inject&#x5C31;&#x4E3A;&#x6BCF;&#x4E2A;&#x6D4B;&#x8BD5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;injector&#xFF0C;&#x4E3A;&#x8FD9;&#x4E2A;injector&#x51C6;&#x5907;&#x597D;&#x6240;&#x6709;&#x7684;service&#xFF0C;&#x5E76;&#x80FD;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x5C06;&#x4EFB;&#x610F;&#x5DF2;&#x6709;&#x7684;service&#x5BFC;&#x51FA;&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Test controllers</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E86;&#x89E3;&#x4E86;&#x4E0A;&#x9762;&#x7684;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7EC4;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x6D4B;&#x8BD5;&#x7EC4;&#x4EF6;&#x5C31;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E86;&#x3002; <br>&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">describe(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;main controller&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> $controller</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> mainCtrl</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  beforeEach(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;set up module&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$provide</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      $provide.service(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;MockDataService&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> service = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        service.data = <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test data&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;MainModule&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  beforeEach(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;set up controller&apos;</span>, inject(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">_$controller_, MockDataService</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $controller = _$controller_</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    mainCtrl = $controller(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;MainController&apos;</span>, &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">          <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">DataService</span>: MockDataService</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;))</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  it(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;should assemble print page URL correctly&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    mainCtrl.getData().should.equal(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test data&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;);</div></div></div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x91CC;&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5176;&#x5B9E;&#x524D;&#x6587;&#x4E5F;&#x90FD;&#x6709;&#x63D0;&#x53CA;&#x3002;</p><ol style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x7B2C;&#x4E00;&#x4E2A;module&#x4E2D;&#x901A;&#x8FC7;<span style="line-height: 1.6;">$</span>provide&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5047;&#x7684;service&#xFF0C;&#x8FD9;&#x4E2A;service&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5176;&#x540D;&#x5B57;&#x88AB;inject&#x3002;</li><li style="line-height: 1.6;">inject&#x4E2D;&#x901A;&#x8FC7;_<span style="line-height: 1.6;">$</span>controller_&#x6765;&#x5BFC;&#x51FA;controller&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6765;&#x6784;&#x9020;&#x76F8;&#x5E94;&#x7684;&#x5F85;&#x6D4B;controller&#xFF0C;&#x5E76;&#x4F20;&#x5165;&#x5047;&#x7684;service&#x8FBE;&#x5230;mock&#x7684;&#x76EE;&#x7684;&#x3002;</li></ol><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Test services</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4ECD;&#x7136;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">angular.module(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;PrinterData&apos;</span>, [])</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">.config([<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$locationProvider&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$locationProvider</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  $locationProvider.html5Mode(<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">true</span>);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;]);</div></code></pre><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">describe(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;printer data service&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> $httpBackend</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> PrinterDataService</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  beforeEach(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">)</span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$provide</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      $provide.provider(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$location&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> provider = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> location = &#123;&#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        location.search = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">)</span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">          <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">            <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">id</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test id&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">          &#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        &#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        provider.html5Mode = sinon.stub()</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        provider.$get = sinon.stub().returns(location)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  beforeEach(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;Data&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    inject(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$injector</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      $httpBackend = $injector.get(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$httpBackend&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      DataService = $injector.get(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;DataService&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  it(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;should update if succeeds&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">done</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $httpBackend.whenGET(<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">/.*/</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      .respond(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">status</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;ready&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    DataService.getStatus().then(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">data</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      data.should.deepEqual(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">status</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;ready&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      done()</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;).catch(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">err</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      should.not.exist(err)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $httpBackend.flush();</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E0B;&#x9762;&#x7F57;&#x5217;&#x4E00;&#x4E9B;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#x78B0;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x4EE5;&#x53CA;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E9B;&#x7406;&#x89E3;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x4F7F;&#x7528;<span style="line-height: 1.6;">$</span>injector</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6211;&#x4EEC;&#x8BF4;&#x8FC7;inject&#x51FD;&#x6570;&#x5C31;&#x662F;&#x7528;&#x6765;&#x521B;&#x5EFA;<span style="line-height: 1.6;">$</span>injector&#xFF0C;&#x6240;&#x4EE5;<span style="line-height: 1.6;">$</span>injector&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x88AB;&#x5BFC;&#x51FA;&#x4F7F;&#x7528;&#x7684;&#x3002;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x4EC0;&#x4E48;service&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;<span style="line-height: 1.6;">$</span>injector.get&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x6765;inject&#x5462;&#xFF1F;&#x5F53;&#x7136;&#x662F;&#x56E0;&#x4E3A;&#x53C2;&#x6570;&#x592A;&#x957F;&#x4E86;&#xFF0C;&#x4E0D;&#x597D;&#x770B;&#x3002;&#x3002;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">mock <span style="line-height: 1.6;">$</span>http</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E3A;&#x4E86;&#x6D4B;&#x8BD5;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x5728;unit test&#x4E2D;&#x5E76;&#x4E0D;&#x771F;&#x6B63;&#x7684;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C;&#x901A;&#x5E38;&#x91C7;&#x7528;&#x5047;&#x7684;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x6765;mock&#x3002;&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;<span style="line-height: 1.6;">$</span>httpBackend service&#x3002;&#x90A3;&#x4E48;<span style="line-height: 1.6;">$</span>http&#x548C;<span style="line-height: 1.6;">$</span>httpBackend&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;">HTTP backend used by the service that delegates to XMLHttpRequest object or JSONP and deals with browser incompatibilities. <br>You should never need to use this service directly, instead use the higher-level abstractions: <span style="line-height: 1.6;">$</span>http or <span style="line-height: 1.6;">$</span>resource. <br>During testing this implementation is swapped with mock $httpBackend which can be trained with responses.</p></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5177;&#x4F53;&#x505A;&#x6CD5;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x5DF2;&#x6709;&#xFF0C;&#x8282;&#x5F55;&#x5982;&#x4E0B;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">beforeEach(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;Data&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    inject(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$injector</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      $httpBackend = $injector.get(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$httpBackend&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      DataService = $injector.get(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;DataService&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  it(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;should update if succeeds&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">done</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $httpBackend.whenGET(<span style="display: inline; line-height: 1.6; color: #ae81ff; background-color: transparent;">/.*/</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      .respond(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">status</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;ready&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    DataService.getStatus().then(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">data</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      data.should.deepEqual(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">        <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">status</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;ready&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      done()</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;).catch(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">err</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      should.not.exist(err)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $httpBackend.flush();</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;);</div></div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x901A;&#x8FC7;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$httpBackend.wheGET(...).respond(...)</code>&#x6765;&#x8BBE;&#x7F6E;mock response&#x3002;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">whenGET</code>&#x8FD8;&#x652F;&#x6301;&#x6B63;&#x5219;&#x5F0F;&#x3002; <br>&#x8C03;&#x7528;&#x5B8C;&#x8BF7;&#x6C42;&#x51FD;&#x6570;&#x540E;&#x8981;&#x8BB0;&#x5F97;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$httpBackend.flush()</code>&#x5C06;&#x8BF7;&#x6C42;&#x771F;&#x6B63;&#x7684;&#x53D1;&#x51FA;&#x3002;&#x5426;&#x5219;&#x8BF7;&#x6C42;&#x5E76;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;&#xFF0C;&#x76F4;&#x5230;&#x8C03;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">flush()</code>&#x51FD;&#x6570;&#xFF0C;&#x6216;&#x8005;&#x6D4B;&#x8BD5;&#x8D85;&#x65F6;&#x5931;&#x8D25;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x5982;&#x4F55;mock <span style="line-height: 1.6;">$</span>location &amp; <span style="line-height: 1.6;">$</span>locationProvider</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F88;&#x60ED;&#x6127;&#x7684;&#x8BF4;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E0A;&#x6211;&#x82B1;&#x4E86;&#x5F88;&#x4E45;&#x5F88;&#x4E45;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x641C;&#x7D22;&#x4E86;&#x5927;&#x91CF;&#x7684;google&#x7F51;&#x9875;&#xFF0C;&#x6700;&#x540E;&#x8FD8;&#x662F;&#x4F9D;&#x9760;chrome&#x8FFD;&#x8E2A;angular&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x624D;&#x53D1;&#x73B0;&#x539F;&#x6765;&#x662F;&#x81EA;&#x5DF1;&#x7ED9;&#x81EA;&#x5DF1;&#x6316;&#x7684;&#x5751;&#xFF0C;&#x5BF9;service, factory&#x548C;provider&#x7406;&#x89E3;&#x4E0D;&#x900F;&#x5F7B;&#x3002; <br>&#x9996;&#x5148;&#x6765;&#x5C31;&#x4E8B;&#x8BBA;&#x4E8B;&#xFF0C;&#x8BF4;&#x4E00;&#x4E0B;&#x5230;&#x5E95;&#x600E;&#x4E48;&#x5B8C;&#x6210;&#x6211;&#x7684;&#x8FD9;&#x4E2A;&#x6D4B;&#x8BD5;&#x3002;</p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x56E0;&#x4E3A;&#x6211;&#x8981;&#x6D4B;&#x8BD5;DataService&#xFF0C;&#x800C;DataService&#x5B9A;&#x4E49;&#x5728;Data moduleDataService&#x8C03;&#x7528;&#x4E86;<span style="line-height: 1.6;">$</span>location service&#x3002;&#x9700;&#x8981;&#x5C06;&#x4E4B;mock&#x6389;&#x3002;&#x6700;&#x7B80;&#x5355;&#x7684;&#x60F3;&#x6CD5;&#x5C31;&#x662F;&#x901A;&#x8FC7;inject&#x6765;&#x83B7;&#x5F97;<span style="line-height: 1.6;">$</span>location service reference&#x3002;&#x5E76;&#x901A;&#x8FC7;sinon.stub&#x6765;&#x8BBE;&#x7F6E;&#x9700;&#x8981;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">inject(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">($injector, $location)</span> </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  sinon.stub($location, <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;search&apos;</span>).returns(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    id: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test id&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  DataService = $injector.get(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;DataService&apos;</span>)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4F46;&#x662F;&#x6211;&#x5012;&#x9709;&#x50AC;&#x7684;&#xFF0C;&#x7ADF;&#x7136;&#x662F;&#x7528;<span style="line-height: 1.6;">$</span>provide&#x505A;&#x4E86;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$provide</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  $provide.service(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$location&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> location = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    location.search = sinon.stub().returns(&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">device_id</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test id&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x5F53;ngMock&#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<span style="line-height: 1.6;">$</span>locationProvider&#xFF0C;&#x8FD9;&#x5C31;&#x4F1A;&#x8986;&#x76D6;&#x5176;&#x81EA;&#x5E26;&#x7684;<span style="line-height: 1.6;">$</span>locationProvider&#x3002;&#x800C;&#x5982;&#x4E0B;&#x7684;module.config&#x65B9;&#x6CD5;&#x4E2D;&#x5BF9;<span style="line-height: 1.6;">$</span>locationProvider&#x7684;&#x64CD;&#x4F5C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">angular.module(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;PrinterData&apos;</span>, [])</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">.config([<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$locationProvider&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span><span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">($locationProvider)</span> </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  $locationProvider.html5Mode(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">true</span>);</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;]);</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x56E0;&#x4E3A;&#x65B0;&#x5B9A;&#x4E49;&#x7684;<span style="line-height: 1.6;">$</span>locationProvider&#x4E2D;&#x6CA1;&#x6709;html5Mode&#x6210;&#x5458;&#x3002;&#x4E8E;&#x662F;&#x60F3;&#x4E86;&#x5404;&#x79CD;&#x529E;&#x6CD5;&#x6765;mock <span style="line-height: 1.6;">$</span>locationProvider&#x3002;&#x7ED3;&#x679C;&#x56E0;&#x4E3A;&#x5BF9;service&#xFF0C;factory&#xFF0C;provider&#x7684;&#x7406;&#x89E3;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x90FD;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x653E;&#x4E00;&#x6BB5;&#x9519;&#x8BEF;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">beforeEach(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">)</span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">module</span>(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$provide</span>) </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $provide.service(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$locationProvider&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> location = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      location.html5Mode = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">)</span>&#123;&#125;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    $provide.factory(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$location&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> (<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">) </span>&#123;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> locationProvider = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">      locationProvider.html5Mode = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span>(<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">)</span>&#123;&#125;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7B2C;&#x4E00;&#x4E2A;&#x7528;<span style="line-height: 1.6;">$</span>provide.service&#x4F1A;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<span style="line-height: 1.6;">$</span>locationProviderProvider <br>&#x7B2C;&#x4E8C;&#x4E2A;&#x7528;<span style="line-height: 1.6;">$</span>provide.factory&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;<span style="line-height: 1.6;">$</span>locationProvider&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#xFF0C;&#x6240;&#x4EE5;<span style="line-height: 1.6;">$</span>location service&#x4E0D;&#x4F1A;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;<span style="line-height: 1.6;">$</span>location service&#x4E86;&#x3002; <br>&#x5982;&#x679C;&#x60F3;&#x901A;&#x8FC7;mock <span style="line-height: 1.6;">$</span>locationProvider&#x6765;mock <span style="line-height: 1.6;">$</span>location service&#x7684;&#x8BDD;&#xFF0C;&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#x5E94;&#x5F53;&#x662F;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">$provide.provider(<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;$location&apos;</span>, <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">()</span> </span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> provider = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">this</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">const</span> location = &#123;&#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  location.search = <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">function</span> <span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">()</span></span>&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">return</span> &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">       device_id: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;test id&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">    &#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  &#125;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  provider.html5Mode = sinon.stub()</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  provider.$<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">get</span> = sinon.stub().returns(location)</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">mock&#x6389;provider.<span style="line-height: 1.6;">$</span>get&#x51FD;&#x6570;&#xFF0C;&#x63D0;&#x4F9B;&#x5047;&#x7684;location&#x670D;&#x52A1;&#x3002;&#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x529E;&#x6CD5;&#xFF0C;&#x4F8B;&#x5982;&#x83B7;&#x5F97;<span style="line-height: 1.6;">$</span>locationProvider&#x518D;&#x5BF9;<span style="line-height: 1.6;">$</span>get&#x51FD;&#x6570;&#x8FDB;&#x884C;stub&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x3002;&#x6CA1;&#x6709;&#x518D;&#x4E00;&#x4E00;&#x5C1D;&#x8BD5;&#x4E86;&#x3002;&#x7406;&#x89E3;&#x4E86;&#x9519;&#x8BEF;&#x548C;&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x60F3;&#x518D;&#x53BB;&#x5B9E;&#x73B0;&#x5C31;&#x5F97;&#x5FC3;&#x5E94;&#x624B;&#x4E86;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x6D4B;&#x8BD5;.config/.run&#x5757;</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">Data module&#x6709;&#x4E00;&#x4E2A;.config&#x5757;&#xFF0C;&#x56E0;&#x4E3A;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5148;&#x8FD0;&#x884C;&#x5176;.config&#x5757;&#xFF0C;&#x7136;&#x540E;&#x662F;.run&#x5757;&#x3002;&#x56E0;&#x5176;&#x7279;&#x6B8A;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5BF9;&#x5176;&#x4E2D;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;mock&#x8981;&#x6CE8;&#x610F;&#x987A;&#x5E8F;&#x3002;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x4E2A;&#x94FE;&#x63A5;&#xFF1A;<a href="https://medium.com/@a_eife/testing-config-and-run-blocks-in-angularjs-1809bd52977e" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Testing config and run blocks in AngularJS <br>How to easily test an often neglected part of your application</a></p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x5982;&#x4F55;mock $interval</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x8981;&#x91C7;&#x7528;mock&#x7684;&#x624B;&#x6BB5;&#xFF0C;&#x800C;&#x4E0D;&#x771F;&#x6B63;&#x7684;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x670D;&#x52A1;&#x3002;&#x5728;sinon&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;fake timer&#x6765;&#x53D6;&#x4EE3;JS&#x4E2D;&#x6807;&#x51C6;&#x7684;setTimeout&#x548C;setInterval&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x5728;Angular JS&#x4E2D;&#x5E76;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;<span style="line-height: 1.6;">$</span>interval&#x670D;&#x52A1;&#x7684;&#x8BDD;&#x3002; <br>&#x56E0;&#x4E3A;&#x5728;&#x5BF9;Angular JS&#x505A;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#xFF0C;<span style="line-height: 1.6;">$</span>interval&#x5E76;&#x4E0D;&#x4F1A;&#x8C03;&#x7528;setInterval&#x3002;&#x539F;&#x56E0;&#x662F;&#x8FD9;&#x91CC;&#x7684;<span style="line-height: 1.6;">$</span>interval&#x5176;&#x5B9E;&#x662F;ngMock&#x4E2D;&#x7684;<span style="line-height: 1.6;">$</span>interval&#x3002;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$interval.flush(ms)</code>&#x6765;&#x5C06;&#x65F6;&#x949F;&#x63A8;&#x8FDB;&#x82E5;&#x5E72;&#x65F6;&#x95F4;&#x3002;&#x5F53;&#x7136;&#x5982;&#x679C;&#x613F;&#x610F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;sinon&#x6765;mock&#x4ECE;<span style="line-height: 1.6;">$</span>injector&#x4E2D;get&#x51FA;&#x6765;&#x7684;<span style="line-height: 1.6;">$</span>interval service&#x3002;<span style="line-height: 1.6;">$</span>timeout service&#x4E5F;&#x7C7B;&#x4F3C;&#xFF0C;&#x6709;&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x5BF9;&#x4ED8;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">Promise not resolve</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;Angular JS&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x8C03;&#x7528;<span style="line-height: 1.6;">$</span>q service&#x6765;&#x4F7F;&#x7528;Promise&#xFF0C;&#x800C;<span style="line-height: 1.6;">$</span>q.defer().promise&#x53EA;&#x5728;<span style="line-height: 1.6;">$</span>scope&#x7684;digest cycle&#x624D;&#x4F1A;&#x5224;&#x5B9A;resolve&#x8FD8;&#x662F;reject&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x89E6;&#x53D1;<span style="line-height: 1.6;">$</span>q&#x4EA7;&#x751F;&#x7684;promise&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x8C03;&#x7528;&#x5BF9;&#x5E94;&#x7684;<span style="line-height: 1.6;">$</span>scope.<span style="line-height: 1.6;">$</span>apply()&#x6216;&#x8005;<span style="line-height: 1.6;">$</span>scope.<span style="line-height: 1.6;">$</span>digest()&#x3002;stack overflow&#x4E2D;&#x4E5F;&#x6709;&#x5927;&#x628A;&#x7C7B;&#x4F3C;&#x95EE;&#x9898;&#x7684;&#x89E3;&#x7B54;&#x3002;&#x5177;&#x4F53;&#x4E5F;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#xFF0C;&#x8BB2;&#x5F97;&#x5F88;&#x900F;&#x5F7B;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="http://www.bradoncode.com/blog/2015/07/13/unit-test-promises-angualrjs-q/" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Unit Testing with $q Promises in AngularJS</a></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5728;Angular JS&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7684;Promise&#xFF0C;&#x4F8B;&#x5982;: <code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">var promise = new Promise(resolve, reject)</code>&#x3002;&#x4F46;&#x662F;&#x8C8C;&#x4F3C;&#xFF0C;&#x6807;&#x51C6;&#x7684;Promise&#x548C;\q&#x517C;&#x5BB9;&#x7684;&#x5E76;&#x4E0D;&#x5F88;&#x597D;&#xFF0C;&#x4E0B;&#x9762;&#x7684;code&#x5E76;&#x4E0D;&#x4F1A;&#x5DE5;&#x4F5C;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">var</span> promise = <span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$q</span>.all([promise1, promise2])</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$scope</span>.<span style="display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;">$apply</span>()</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">promise&#x5E76;&#x4E0D;&#x4F1A;&#x5728;promise1&#x548C;promise2&#x8FD4;&#x56DE;&#x4E4B;&#x540E;&#x8FD4;&#x56DE;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4ED6;&#x6839;&#x672C;&#x5C31;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#xFF0C;&#x76F4;&#x5230;&#x6D4B;&#x8BD5;&#x8D85;&#x65F6;&#x5931;&#x8D25;&#x3002;</p><h4 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 10.5px; margin-bottom: 10.5px; font-size: 20px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">&#x201C;Unexpected request: GET &#x2026;/.html&#x201D; on Karma tests</h4><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x662F;Yaakov&#x5728;&#x89C6;&#x9891;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x9700;&#x8981;&#x4F7F;&#x7528;<span style="line-height: 1.6;">$</span>templateCache&#x7684;&#x60C5;&#x5F62;&#x3002;Yaakov&#x63D0;&#x5230;&#x7528;karma&#x662F;&#x89E3;&#x51B3;&#x8BE5;&#x95EE;&#x9898;&#x6700;&#x597D;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x89C6;&#x9891;&#x5E76;&#x4E0D;&#x6D89;&#x53CA;&#x4ECB;&#x7ECD;karma&#xFF0C;&#x6240;&#x4EE5;&#x5E76;&#x6CA1;&#x6709;&#x8BF4;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#x3002; <br>&#x5F53;&#x6211;&#x4EEC;&#x7684;karma test&#x52A0;&#x8F7D;&#x4E86;route.js&#xFF0C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;component&#xFF0C;&#x5219;&#x6D4B;&#x8BD5;&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x8BE5;Angular component&#x7684;&#x65F6;&#x5019;&#x56DE;&#x53BB;&#x7528;<span style="line-height: 1.6;">$</span>http service&#x6765;GET&#x8BE5;template html&#x6587;&#x4EF6;&#xFF0C;&#x4E8E;&#x662F;&#x4EA7;&#x751F;&#x4E86;&#x8BE5;unexpected request&#x9519;&#x8BEF;&#x3002;Yaakov&#x5728;&#x6559;&#x7A0B;&#x4E2D;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x6B21;&#x771F;&#x6B63;&#x7684;AJAX&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BF7;&#x6C42;&#x8BE5;html&#xFF0C;&#x5E76;&#x5C06;&#x4E4B;&#x5B58;&#x5165;<span style="line-height: 1.6;">$</span>templateCache&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x6709;&#x771F;&#x6B63;&#x7684;GET AJAX&#x4EA7;&#x751F;&#x4E86;&#x3002;&#x5176;&#x5B9E;&#x8FD9;&#x4E00;&#x6BB5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x914D;&#x7F6E;karma&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5177;&#x4F53;&#x505A;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x5B89;&#x88C5;ng-html2js&#xFF0C;karma-ng-html2js-preprocessor</li><li style="line-height: 1.6;">&#x4F7F;&#x7528;ng-html2js&#x5C06;&#x5BF9;&#x5E94;&#x7684;template html&#x8F6C;&#x6210;js&#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x5728;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x4E2D;&#x5F15;&#x5165;&#x3002;</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x770B;&#x4E0B;&#x9762;&#x5177;&#x4F53;&#x4EE3;&#x7801; <br>karma.conf.js</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// list of files / patterns to load in the browser</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">files</span>: [</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;../html/templates/*.html&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  ...</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">],</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// preprocess matching files before serving them to the browser</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #75715e; background-color: transparent;">// available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">preprocessors</span>: &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;../html/templates/home.template.html&apos;</span>: [<span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;ng-html2js&apos;</span>]</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><div style="line-height: 1.6;"></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">ngHtml2JsPreprocessor</span>: &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">moduleName</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;templates&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">stripPrefix</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;.*/&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">prependPrefix</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;/html/templates/&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;,</div></div></div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">test.js</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">describe(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">function</span>()&#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  beforeEach(<span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">module</span>(&apos;templates&apos;))</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x7279;&#x522B;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x5BF9;ng-html2js&#x7684;&#x914D;&#x7F6E;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;"><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;"><span style="display: inline; line-height: 1.6; color: #f92672; background-color: transparent;">ngHtml2JsPreprocessor</span>: &#123;</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  <span style="display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;">moduleName</span>: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;templates&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  stripPrefix: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;.*/&apos;</span>,</div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">  prependPrefix: <span style="display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;">&apos;/html/templates/&apos;</span></div><div style="min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;">&#125;,</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x5F53;&#x6CA1;&#x6709;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">stripPrefix</code>&#x9009;&#x9879;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;Chrome debug&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6240;&#x6709;&#x7684;template&#x90FD;&#x88AB;&#x8F6C;&#x5316;&#x6210;&#x4E86;js&#x6A21;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x6A21;&#x5757;&#x540D;&#x662F;&#x7C7B;&#x4F3C;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">c:\path\to\template\template.html</code>&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x800C;&#x6211;&#x5728;route&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x662F;web&#x8DEF;&#x5F84;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">templateUrl: &apos;/html/templates/home.template.html&apos;</code>&#x3002;&#x5C31;&#x5BF9;&#x4E0D;&#x4E0A;&#x53F7;&#x4E86;&#x3002;&#x505A;&#x6CD5;&#x662F;&#x901A;&#x8FC7;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">stripPrefix</code>&#x5C06;&#x6240;&#x6709;&#x7684;&#x524D;&#x7F00;&#x5168;&#x90E8;&#x5265;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x7528;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">prependPrefix</code>&#x52A0;&#x4E0A;&#x9700;&#x8981;&#x7684;&#x524D;&#x7F00;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5DE5;&#x4F5C;&#x4E86;&#x3002;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x5E16;&#x5B50;&#x8BA8;&#x8BBA;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x5217;&#x4E24;&#x4E2A;&#x6709;&#x542F;&#x53D1;&#x6027;&#x7684;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;"><a href="https://stackoverflow.com/questions/15214760/unit-testing-angularjs-directive-with-templateurl" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Unit Testing AngularJS directive with templateUrl</a></li><li style="line-height: 1.6;"><a href="https://stackoverflow.com/questions/22869668/karma-unexpected-request-when-testing-angular-directive-even-with-ng-html2js" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">Karma &#x2018;Unexpected Request&#x2019; when testing angular directive, even with ng-html2js</a></li></ul></div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20Angular%20JS%20-%20unit%20test%0A@%28myblog%29%5Bangular%2C%20unittest%5D%0A%u524D%u7AEF%u4EE3%u7801%u4E00%u76F4%u6CA1%u6709%u505Aunit%20testing%uFF0C%u4E5F%u4E0D%u77E5%u9053%u600E%u4E48%u505A%u3002%u5728Yaakov%20Chaikin%u7684%5BCoursera%u8BFE%u7A0B%5D%28https%3A//www.coursera.org/learn/single-page-web-apps-with-angularjs/home/week/5%29%u4E2D%uFF0C%u7B2C%u4E94%u7AE0%u6B63%u597D%u4ECB%u7ECD%u4E86%u76F8%u5173%u5185%u5BB9%u3002%u6240%u4EE5%u5C31%u987A%u4FBF%u5728%u81EA%u5DF1%u7684%u9879%u76EE%u4E2D%u5B9E%u8DF5%u4E86%u4E00%u628A%u3002%u65E0%u6570%u6B21%u7684%u5B9E%u8DF5%u8BC1%u660E%uFF0C%u770B%u5F97%u5934%u5934%u662F%u9053%uFF0C%u5199%u8D77%u6765%u5C31%u5230%u5904%u662F%u5751%u3002%u5C0F%u5C0F%u7684%u5185%u5BB9%uFF0C%u7740%u5B9E%u82B1%u4E86%u4E0D%u5C11%u65F6%u95F4%u3002%0A%0A%u9488%u5BF9%u524D%u7AEF%u7684%u4EE3%u7801%uFF0C%u7F51%u4E0A%u91C7%u7528%u7684%u6D4B%u8BD5%u6846%u67B6%u5927%u591A%u662Fkarma%20+%20jasmine%20+%20chai%u3002%u56E0%u4E3A%u6211%u4E4B%u524D%u5728%u540E%u7AEF%u4EE3%u7801%u7684%u6D4B%u8BD5%u4E2D%u591A%u91C7%u7528mocha%20+%20should%20+%20sinon%u3002%u6240%u4EE5%u672C%u6B21%u5B9E%u8DF5%uFF0C%u4ECD%u7136%u7231%u91C7%u7528mocha%u6846%u67B6%uFF0C%u6765%u642D%u914Dkarma%u4F7F%u7528%u3002%0A%0Akarma%u662F%u4E00%u4E2A%u81EA%u52A8%u5316%u6D4B%u8BD5%u6846%u67B6%u3002%u56E0%u5176%u4E30%u5BCC%u7684%u914D%u7F6E%u9009%u9879%uFF0C%u826F%u597D%u7684%u6269%u5C55%u6027%u80FD%uFF0C%u88AB%u5E7F%u6CDB%u5E94%u7528%uFF0C%u5C24%u5176%u662F%u5728%u524D%u7AEF%u3002%u56E0%u4E3A%u524D%u7AEF%u8981%u9488%u5BF9%u5404%u79CD%u7248%u672C%u7684%u6D4F%u89C8%u5668%uFF0C%u5404%u79CD%u6846%u67B6%uFF0C%u5982%u679C%u5168%u90E8%u9760%u624B%u52A8%u53BB%u9002%u914D%uFF0C%u57FA%u672C%u4E0D%u592A%u53EF%u80FD%u3002%u6240%u4EE5%u5927%u5BB6%u90FD%u7528karma%u4E86%u3002%0A%23%23%20karma%20setup%0A%u57FA%u672C%u914D%u7F6E%u53C2%u8003%5B%u524D%u7AEF%u5355%u5143%u6D4B%u8BD5%u4E4BKarma%u73AF%u5883%u642D%u5EFA%5D%28https%3A//segmentfault.com/a/1190000006895064%29%0A%0A%u914D%u7F6E%u6587%u4EF6%u7B80%u5355%u5982%u4E0B%uFF1A%0A%60%60%60javascript%0Amodule.exports%20%3D%20function%28config%29%20%7B%0A%20%20config.set%28%7B%0A%0A%20%20%20%20//%20base%20path%20that%20will%20be%20used%20to%20resolve%20all%20patterns%20%28eg.%20files%2C%20exclude%29%0A%20%20%20%20basePath%3A%20%27%27%2C%0A%0A%0A%20%20%20%20//%20frameworks%20to%20use%0A%20%20%20%20//%20available%20frameworks%3A%20https%3A//npmjs.org/browse/keyword/karma-adapter%0A%20%20%20%20frameworks%3A%20%5B...%5D%2C%0A%0A%0A%20%20%20%20//%20list%20of%20files%20/%20patterns%20to%20load%20in%20the%20browser%0A%20%20%20%20files%3A%20%5B%0A%20%20%20%20%20%20%27...%27%2C%0A%20%20%20%20%20%20%7Bpattern%3A%20%27...%27%7D%0A%20%20%20%20%5D%2C%0A%0A%0A%20%20%20%20//%20list%20of%20files%20to%20exclude%0A%20%20%20%20exclude%3A%20%5B%0A%20%20%20%20%5D%2C%0A%0A%0A%20%20%20%20//%20preprocess%20matching%20files%20before%20serving%20them%20to%20the%20browser%0A%20%20%20%20//%20available%20preprocessors%3A%20https%3A//npmjs.org/browse/keyword/karma-preprocessor%0A%20%20%20%20preprocessors%3A%20%7B%0A%20%20%20%20%7D%2C%0A%0A%0A%20%20%20%20//%20test%20results%20reporter%20to%20use%0A%20%20%20%20//%20possible%20values%3A%20%27dots%27%2C%20%27progress%27%0A%20%20%20%20//%20available%20reporters%3A%20https%3A//npmjs.org/browse/keyword/karma-reporter%0A%20%20%20%20reporters%3A%20%5B%27progress%27%5D%2C%0A%0A%0A%20%20%20%20//%20web%20server%20port%0A%20%20%20%20port%3A%209876%2C%0A%0A%0A%20%20%20%20//%20enable%20/%20disable%20colors%20in%20the%20output%20%28reporters%20and%20logs%29%0A%20%20%20%20colors%3A%20true%2C%0A%0A%0A%20%20%20%20//%20level%20of%20logging%0A%20%20%20%20//%20possible%20values%3A%20config.LOG_DISABLE%20%7C%7C%20config.LOG_ERROR%20%7C%7C%20config.LOG_WARN%20%7C%7C%20config.LOG_INFO%20%7C%7C%20config.LOG_DEBUG%0A%20%20%20%20logLevel%3A%20config.LOG_INFO%2C%0A%0A%0A%20%20%20%20//%20enable%20/%20disable%20watching%20file%20and%20executing%20tests%20whenever%20any%20file%20changes%0A%20%20%20%20autoWatch%3A%20true%2C%0A%0A%0A%20%20%20%20//%20start%20these%20browsers%0A%20%20%20%20//%20available%20browser%20launchers%3A%20https%3A//npmjs.org/browse/keyword/karma-launcher%0A%20%20%20%20browsers%3A%20%5B%27...%27%5D%2C%0A%0A%0A%20%20%20%20//%20Continuous%20Integration%20mode%0A%20%20%20%20//%20if%20true%2C%20Karma%20captures%20browsers%2C%20runs%20the%20tests%20and%20exits%0A%20%20%20%20singleRun%3A%20false%2C%0A%0A%20%20%20%20//%20Concurrency%20level%0A%20%20%20%20//%20how%20many%20browser%20should%20be%20started%20simultaneous%0A%20%20%20%20concurrency%3A%20Infinity%2C%0A%0A%20%20%20%20//%20Which%20plugins%20to%20enable%0A%20%20%20%20plugins%3A%20%5B%5D%0A%20%20%7D%29%0A%7D%20%0A%60%60%60%0A%0A%u7B80%u5355%u7684%u89E3%u91CA%u76EE%u524D%u7528%u5230%u7684%u9009%u9879%uFF1A%0A-%20frameworks%3A%20%u4F7F%u7528%u5230%u7684%u6846%u67B6%uFF0C%u6240%u6709%u4F7F%u7528%u5230%u7684%uFF0C%u8981%u5728%u4E0B%u9762plugins%u4E2D%u5217%u660E%u3002%u6BD4%u5982%uFF1Aframeworks%u4E2D%u5305%u542Bmocha%uFF0C%u5219plugins%u4E0B%u5C31%u8981%u5305%u542Bkarma-mocha%0A-%20basePath%2C%20files%2C%20exclude%3A%20%u8FD9%u4E09%u4E2A%u6307%u660E%u4E86karma%u8981%u52A0%u8F7D%u7684JS%u6587%u4EF6%0A%09-%20basePath%uFF1A%u57FA%u7840%u76EE%u5F55%uFF0C%u4F1A%u76F4%u63A5%u63D2%u5165%u5230files%uFF0Cexclude%u6307%u5B9A%u7684%u8DEF%u5F84%u524D%u9762%0A%09-%20files%uFF1A%u52A0%u8F7D%u6587%u4EF6%uFF0C%u652F%u6301%u901A%u914D%u7B26%u548C%u6B63%u5219%u5F0F%uFF0C%u901A%u8FC7%u5927%u62EC%u53F7%u8FD8%u53EF%u4EE5%u6DFB%u52A0%u914D%u7F6E%u9009%u9879%u3002%u901A%u914D%u7B26%27%5C*%5C*%27%u8868%u793A%u6240%u6709%u76EE%u5F55%uFF0C%27%5C*%27%u8868%u793A%u6240%u6709%u6587%u4EF6%uFF0C%27%5C*%5C*/*%27%u8868%u793A%u5176%u4E0B%u6240%u6709%u76EE%u5F55%u6240%u6709%u6587%u4EF6%u3002%0A%09-%20exclude%3A%20%u53EF%u4EE5%u5254%u9664files%u4E2D%u4E0D%u60F3%u8981%u7684%u6587%u4EF6%0A-%20browsers%uFF1A%u4F7F%u7528%u7684%u6D4F%u89C8%u5668%uFF0C%u5982%u679C%u60F3%u8981headless%u6D4B%u8BD5%u5219%u53EF%u7528PhantomJS%0A%0A%23%23%23%20karma%20with%20ES6%0A%u56E0%u4E3APhantomJS%u4E0D%u652F%u6301ES6%u8BED%u6CD5%28%u7F51%u4E0A%u8BF4%uFF0CPhantomJS%u751A%u81F3%u5BF9ES5%u7684%u652F%u6301%u90FD%u4E0D%u662F%u5F88%u597D%29%uFF0C%u6240%u4EE5karma%u8981%u6D4B%u8BD5%u5305%u542BES6%u8BED%u6CD5%u7684%u4EE3%u7801%uFF0C%u8FD8%u9700%u8981%u4E00%u756A%u914D%u7F6E%u3002%u7F51%u4E0A%u76F8%u5173%u7684%u5E16%u5B50%u5F88%u591A%uFF0C%u5217%u4E3E%u5982%u4E0B%uFF1A%0A-%20%5BTesting%20ES6%20with%20Karma%2C%20RequireJS%2C%20and%20Angular%5D%28http%3A//radify.io/blog/announcing-karma-es6-shim/%29%20%20-%20karma-es6-shim%20%0A-%20%5BHow%20to%20Start%20Writing%20Your%20AngularJS%20Tests%20in%20ES6%5D%28https%3A//www.barbarianmeetscoding.com/blog/2015/11/16/how-to-start-writing-your-angular-js-tests-in-es6/%29%20-%20karma-babel-preprocessor%0A-%20%5BWriting%20Jasmine%20Unit%20Tests%20In%20ES6%5D%28http%3A//www.syntaxsuccess.com/viewarticle/writing-jasmine-unit-tests-in-es6%29%20-%20webpack%0A%0A%u603B%u7684%u6765%u8BF4%uFF0C%u6709%u8FD9%u4E48%u51E0%u79CD%u89E3%u51B3%u65B9%u6848%uFF1A%0A-%20karma-es6-shim%0A-%20karma-babel-preprocessor%0A-%20webpack%0A-%20SlimerJS%0A%u524D%u4E09%u79CD%u6709%u70B9%u590D%u6742%uFF0C%u76EE%u524D%u7684%u6211%u7684%u6280%u672F%u6808%u8FD8%u65E0%u6CD5%u7406%u89E3%u3002%u6700%u7EC8%u9009%u62E9%u6700%u7B80%u5355%u7684SlimerJS%u3002%u5728Linux%u4E0A%u53EF%u4EE5%u901A%u8FC7Xvfb%u505A%u5230headless%u6D4B%u8BD5%uFF0CWindows%u4E0A%u5C31%u8FD9%u6837%u5427%uFF0C%u8DF3%u4E2A%u7A97%u53E3%u4E5F%u4E0D%u662F%u4EC0%u4E48%u5927%u4E8B%u3002%0A%0A%23%23%23%20Debug%20karma%20test%20using%20Chrome%0A%u8FD9%u4E2A%u5728%u521D%u5B66%u7684%u65F6%u5019%u8FD8%u662F%u5F88%u91CD%u8981%u7684%uFF0C%u5982%u679C%u6CA1%u6709%u8FD9%u4E2A%u5DE5%u5177%uFF0C%u6050%u6015%u6211%u4E5F%u8DF3%u4E0D%u51FA%u81EA%u5DF1%u7ED9%u81EA%u5DF1%u6316%u7684%u5927%u5751%u3002%0A%u53C2%u8003%u94FE%u63A5%uFF1A%5BDebugging%20Karma%20Unit%20Tests%5D%28https%3A//glebbahmutov.com/blog/debugging-karma-unit-tests/index.html%29%0A%u6309%u7167%u4E0A%u9762%u7684%u6B65%u9AA4%u6253%u5F00%u8C03%u8BD5%u9875%u9762%u548CChrome%20Dev%20Tool%u9875%u9762%uFF0C%u5237%u65B0%u9875%u9762%u5373%u53EF%u91CD%u65B0%u52A0%u8F7D%u4EE3%u7801%u5E76%u89E6%u53D1%u65AD%u70B9%u3002%0A%u5C06%u547D%u4EE4%u884C%u5199%u5165package.json%uFF0C%u4EE5%u540E%u8C03%u7528npm%u5C31%u53EF%u4EE5%u65B9%u4FBF%u7684%u6253%u5F00%u8BE5%u8C03%u8BD5%u5DE5%u5177%u3002%0A%60%60%60%0A%7B%0A...%0A%20%20%22scripts%22%3A%20%7B%0A%20%20%20%20%22start%22%3A%20%22node%20./bin/www%22%2C%0A%20%20%20%20%22karma-debug%22%3A%20%22cd%20public/js%20%26%26%20karma%20start%20--browsers%3DChrome%20--single-run%3Dfalse%20--debug%22%0A%20%20%7D%2C%20%0A%20%20...%0A%7D%0A%60%60%60%0A%23%23%20ngMock%0AngMock%u4E2D%u4E24%u4E2A%u6700%u91CD%u8981%u7684%u5173%u952E%u8BCD%u5C31%u662F%uFF1Amodule%2C%20inject%u3002%u53EF%u4EE5%u53C2%u8003%u8FD9%u4E2A%u4EBA%u7684%u535A%u5BA2%uFF1A%0A-%20%5BngMock%20Fundamentals%20for%20AngularJS%20-%20Understanding%20Inject%5D%28http%3A//www.bradoncode.com/blog/2015/05/27/ngmock-fundamentals-angularjs-testing-inject/%29%0A-%20%5BngMock%20Fundamentals%20for%20AngularJS%20Unit%20Testing%20-%20Understanding%20Module%5D%28http%3A//www.bradoncode.com/blog/2015/05/24/ngmock-fundamentals-angularjs-unit-testing/%29%0A%0AngMock%u901A%u8FC7module%u52A0%u8F7D%u5DF2%u7ECF%u5B9A%u4E49%u4E86%u7684%u6A21%u5757%uFF0C%u6216%u8005%u5B9A%u4E49%u533F%u540Dmodule%u5E76%u63D0%u4F9B%u65B0%u7684service%uFF0C%u6216%u8005%u590D%u5199%u5DF2%u5B58%u5728%u7684service%u3002module%u53EA%u662F%u5C06%u540D%u5B57%uFF0C%u4EE5%u53CA%u5BF9%u5E94%u4F4D%u7F6E%u5B58%u5165%u4E00%u4E2A%u6570%u7EC4%u3002inject%u5C06%u771F%u6B63%u7684%u52A0%u8F7D%u6240%u6709module%u63D0%u4F9B%u7684service%uFF0C%u5E76%u89E3%u51B3%u4F9D%u8D56%u5173%u7CFB%uFF0C%u8FD8%u53EF%u4EE5%u5C06%u76F8%u5E94%u7684service%u5BFC%u51FA%u5230test%20case%u4E2D%u4F7F%u7528%u3002%u5176%u5B9EngMock%u4E5F%u5C31%u662F%u505A%u4E86%u8FD9%u4E24%u4EF6%u4E8B%u60C5%u3002%0A%u4E0B%u9762%u7B80%u5355%u4ECB%u7ECD%u4E00%u4E9B%u6709%u52A9%u4E8E%u7406%u89E3%u7684%u77E5%u8BC6%u70B9%u3002%0A%23%23%23%20angular.mock.module%0Amodule%u51FD%u6570%u7684%u539F%u578B%u662F%60angular.mock.module%28alias%2C%20obj%2C%20func%29%60%0Amodule%u63A5%u53D7%u4E09%u79CD%u53C2%u6570%u7C7B%u578B%uFF0C%u6BCF%u4E00%u79CD%u90FD%u53EF%u4EE5%u5355%u72EC%u4F7F%u7528%uFF0C%u7528%u6765%u5B9A%u4E49%u6216%u52A0%u8F7D%u5BF9%u5E94%u6A21%u5757%0A-%20alias%3A%20%u662Fmodule%u540D%u5B57%u5B57%u7B26%u4E32%uFF0C%u53EF%u4EE5%u662F%u5728%u5F85%u6D4B%u4EE3%u7801%u4E2D%u5B9A%u4E49%u7684%uFF0C%u4E5F%u53EF%u4EE5%u662F%u5728%u6D4B%u8BD5%u6587%u4EF6%u4E2D%u5B9A%u4E49%u7684%0A-%20obj%3A%20%u4E00%u4E2A%u666E%u901A%u7684%u5B57%u5178%u7ED3%u6784%uFF0C%u4ED6%u4F1A%u751F%u6210%u4E00%u4E2A%u533F%u540Dmodule%uFF0C%u5176%u4E2D%u7684%u6210%u5458%u4F1A%u88AB%u5B9A%u4E49%u6210%60%24provide.value%28%29%60%0A-%20function%3A%20%u540C%u6837%u662F%u5B9A%u4E49%u4E00%u4E2A%u533F%u540Dmodule%uFF0C%u4E0D%u540C%u7684%u662F%uFF0Cfunction%u53EF%u4EE5%u7528%24provide%u4F5C%u4E3A%u53C2%u6570%uFF0C%u6765%u5B9A%u4E49%u5404%u79CD%u5404%u6837%u7684service%u3002%0A%0A%3E**function%28%29%20vs%20Object**%0A%0A%3EThe%20examples%20we%20used%20were%20similar%2C%20so%20what%u2019s%20the%20key%20difference%20between%20the%20function%28%29%20and%20Object%20form%3F%20As%20the%20Object%20type%20gets%20added%20as%20a%20%24provider.value%2C%20it%20is%20therefore%20restricted%20to%20the%20capabilities%20of%20the%20value%20service%2C%20most%20importantly%20that%20a%20value%20service%20cannot%20be%20injected%20with%20other%20services.%0A%0A%u5173%u4E8E%24provide%uFF0C%u53EF%u4EE5%u53C2%u8003%5BAngular%u5B98%u65B9%u6587%u6863%5D%28https%3A//docs.angularjs.org/api/auto/service/%5C%24provide%29%0A%3EThe%20**%5C%24provide**%20service%20has%20a%20number%20of%20methods%20for%20registering%20components%20with%20the%20**%5C%24injector**.%20Many%20of%20these%20functions%20are%20also%20exposed%20on%20angular.Module.%0A%0A%u5B83%u63D0%u4F9B%u4E86%u4E0B%u9762%u7684%u8FD9%u4E9Bservice%0A%0A%3E**provider**%28name%2C%20provider%29%20-%20registers%20a%20service%20provider%20with%20the%20%5C%24injector%0A**constant**%28name%2C%20obj%29%20-%20registers%20a%20value/object%20that%20can%20be%20accessed%20by%20providers%20and%20services.%0A**value**%28name%2C%20obj%29%20-%20registers%20a%20value/object%20that%20can%20only%20be%20accessed%20by%20services%2C%20not%20providers.%0A**factory**%28name%2C%20fn%29%20-%20registers%20a%20service%20factory%20function%20that%20will%20be%20wrapped%20in%20a%20service%20provider%20object%2C%20whose%20%5C%24get%20property%20will%20contain%20the%20given%20factory%20function.%0A**service**%28name%2C%20Fn%29%20-%20registers%20a%20constructor%20function%20that%20will%20be%20wrapped%20in%20a%20service%20provider%20object%2C%20whose%20%5C%24get%20property%20will%20instantiate%20a%20new%20object%20using%20the%20given%20constructor%20function.%0A**decorator**%28name%2C%20decorFn%29%20-%20registers%20a%20decorator%20function%20that%20will%20be%20able%20to%20modify%20or%20replace%20the%20implementation%20of%20another%20service.%0A%0A%23%23%23%20angular.mock.inject%0A%5C%24inject%u662FngMock%u7684%u6838%u5FC3%uFF0C%u770B%u770B%u5B98%u65B9%u7684%u5B9A%u4E49%0A%3EThe%20inject%20function%20wraps%20a%20function%20into%20an%20injectable%20function.%20The%20inject%28%29%20creates%20new%20instance%20of%20%24injector%20per%20test%2C%20which%20is%20then%20used%20for%20resolving%20references.%0A%0Ainject%u5C31%u662F%u5B9A%u4E49%u4E86%u4E00%u4E2Ainjector%uFF0C%u90A3injector%u53C8%u662F%u4EC0%u4E48%0A%3E%5C%24injector%20is%20used%20to%20retrieve%20object%20instances%20as%20defined%20by%20provider%2C%20instantiate%20types%2C%20invoke%20methods%2C%20and%20load%20modules.%0A%0A%5C%24injector%u4E5F%u5C31%u662FAngularJS%u7684%u6838%u5FC3%u3002%u5B83%u63D0%u4F9B%u4E86%u6240%u8C13%u7684%u201CDI%22%20%28Dependency%20Injection%29%u6A21%u5F0F%u3002Angular%u7684%u6838%u5FC3%u4EE3%u7801%u901A%u8FC7%5C%24injector%u6765%u83B7%u53D6%u5BF9%u5E94service%u7684reference%u3002%0A%u6211%u4EEC%u901A%u5E38%u5C06inject%u653E%u5728beforeEach%u91CC%uFF0C%u8FD9%u6837inject%u5C31%u4E3A%u6BCF%u4E2A%u6D4B%u8BD5%u5B9A%u4E49%u4E00%u4E2Ainjector%uFF0C%u4E3A%u8FD9%u4E2Ainjector%u51C6%u5907%u597D%u6240%u6709%u7684service%uFF0C%u5E76%u80FD%u901A%u8FC7%u53C2%u6570%u5C06%u4EFB%u610F%u5DF2%u6709%u7684service%u5BFC%u51FA%u3002%0A%0A%23%23%23%20Test%20controllers%0A%u4E86%u89E3%u4E86%u4E0A%u9762%u7684%u4E24%u4E2A%u91CD%u8981%u7EC4%u4EF6%u4E4B%u540E%uFF0C%u9488%u5BF9%u4E0D%u540C%u7684%u6D4B%u8BD5%u7EC4%u4EF6%u5C31%u5BB9%u6613%u7406%u89E3%u4E86%u3002%0A%u76F4%u63A5%u4E0A%u4EE3%u7801%uFF1A%0A%60%60%60javascript%0Adescribe%28%27main%20controller%27%2C%20function%28%29%20%7B%0A%20%20var%20%24controller%0A%20%20var%20mainCtrl%0A%20%20beforeEach%28%27set%20up%20module%27%2C%20function%28%29%20%7B%0A%20%20%20%20module%28function%20%28%24provide%29%20%7B%0A%20%20%20%20%20%20%24provide.service%28%27MockDataService%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20service%20%3D%20this%0A%20%20%20%20%20%20%20%20service.data%20%3D%20%27test%20data%27%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%7D%29%0A%0A%20%20%20%20module%28%27MainModule%27%29%0A%20%20%7D%29%3B%0A%0A%20%20beforeEach%28%27set%20up%20controller%27%2C%20inject%28function%20%28_%24controller_%2C%20MockDataService%29%20%7B%0A%20%20%20%20%24controller%20%3D%20_%24controller_%0A%20%20%20%20mainCtrl%20%3D%20%24controller%28%27MainController%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20DataService%3A%20MockDataService%0A%20%20%20%20%7D%29%0A%20%20%7D%29%29%20%0A%0A%20%20it%28%27should%20assemble%20print%20page%20URL%20correctly%27%2C%20function%28%29%20%7B%0A%20%20%20%20mainCtrl.getData%28%29.should.equal%28%27test%20data%27%29%0A%20%20%7D%29%3B%0A%7D%29%3B%0A%60%60%60%0A%u8FD9%u91CC%u53EA%u6709%u4E24%u4E2A%u503C%u5F97%u6CE8%u610F%u7684%u5730%u65B9%uFF0C%u5176%u5B9E%u524D%u6587%u4E5F%u90FD%u6709%u63D0%u53CA%u3002%0A1.%20%u7B2C%u4E00%u4E2Amodule%u4E2D%u901A%u8FC7%5C%24provide%u63D0%u4F9B%u4E86%u4E00%u4E2A%u5047%u7684service%uFF0C%u8FD9%u4E2Aservice%u53EF%u4EE5%u901A%u8FC7%u5176%u540D%u5B57%u88ABinject%u3002%0A2.%20inject%u4E2D%u901A%u8FC7%5C_%5C%24controller%5C_%u6765%u5BFC%u51FAcontroller%u7684%u6784%u9020%u51FD%u6570%u3002%u901A%u8FC7%u8FD9%u4E2A%u6784%u9020%u51FD%u6570%u6765%u6784%u9020%u76F8%u5E94%u7684%u5F85%u6D4Bcontroller%uFF0C%u5E76%u4F20%u5165%u5047%u7684service%u8FBE%u5230mock%u7684%u76EE%u7684%u3002%0A%0A%23%23%23%20Test%20services%0A%u4ECD%u7136%u76F4%u63A5%u4E0A%u4EE3%u7801%uFF1A%0A%60%60%60%20javascript%0Aangular.module%28%27PrinterData%27%2C%20%5B%5D%29%0A.config%28%5B%27%24locationProvider%27%2C%20function%28%24locationProvider%29%20%7B%0A%20%20%24locationProvider.html5Mode%28true%29%3B%0A%7D%5D%29%3B%0A%60%60%60%0A%60%60%60javascript%0Adescribe%28%27printer%20data%20service%27%2C%20function%28%29%20%7B%0A%20%20var%20%24httpBackend%0A%20%20var%20PrinterDataService%0A%20%20beforeEach%28function%28%29%7B%0A%20%20%20%20module%28function%20%28%24provide%29%20%7B%0A%20%20%20%20%20%20%24provide.provider%28%27%24location%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20const%20provider%20%3D%20this%0A%20%20%20%20%20%20%20%20const%20location%20%3D%20%7B%7D%0A%20%20%20%20%20%20%20%20location.search%20%3D%20function%20%28%29%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%27test%20id%27%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20provider.html5Mode%20%3D%20sinon.stub%28%29%0A%20%20%20%20%20%20%20%20provider.%24get%20%3D%20sinon.stub%28%29.returns%28location%29%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%7D%29%0A%20%20%7D%29%3B%0A%20%20beforeEach%28function%28%29%20%7B%0A%20%20%20%20module%28%27Data%27%29%0A%20%20%20%20inject%28function%20%28%24injector%29%20%7B%0A%20%20%20%20%20%20%24httpBackend%20%3D%20%24injector.get%28%27%24httpBackend%27%29%0A%20%20%20%20%20%20DataService%20%3D%20%24injector.get%28%27DataService%27%29%0A%20%20%20%20%7D%29%0A%20%20%7D%29%3B%0A%0A%20%20it%28%27should%20update%20if%20succeeds%27%2C%20function%28done%29%20%7B%0A%20%20%20%20%24httpBackend.whenGET%28/.*/%29%0A%20%20%20%20%20%20.respond%28%7B%0A%20%20%20%20%20%20%20%20status%3A%20%27ready%27%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20DataService.getStatus%28%29.then%28function%20%28data%29%20%7B%0A%20%20%20%20%20%20data.should.deepEqual%28%7B%0A%20%20%20%20%20%20%20%20status%3A%20%27ready%27%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20done%28%29%0A%20%20%20%20%7D%29.catch%28function%20%28err%29%20%7B%0A%20%20%20%20%20%20should.not.exist%28err%29%0A%20%20%20%20%7D%29%0A%20%20%20%20%0A%20%20%20%20%24httpBackend.flush%28%29%3B%0A%20%20%7D%29%3B%0A%7D%29%0A%60%60%60%0A%u4E0B%u9762%u7F57%u5217%u4E00%u4E9B%u5B9E%u9645%u4F7F%u7528%u4E2D%u78B0%u5230%u7684%u4E00%u4E9B%u95EE%u9898%uFF0C%u4EE5%u53CA%u81EA%u5DF1%u7684%u4E00%u4E9B%u7406%u89E3%u3002%0A%0A%23%23%23%23%20%u4F7F%u7528%5C%24injector%0A%u6211%u4EEC%u8BF4%u8FC7inject%u51FD%u6570%u5C31%u662F%u7528%u6765%u521B%u5EFA%5C%24injector%uFF0C%u6240%u4EE5%5C%24injector%u4E5F%u662F%u53EF%u4EE5%u76F4%u63A5%u88AB%u5BFC%u51FA%u4F7F%u7528%u7684%u3002%u8FD9%u65F6%u9700%u8981%u4EC0%u4E48service%uFF0C%u5C31%u53EF%u4EE5%u76F4%u63A5%u8C03%u7528%5C%24injector.get%u3002%u4E3A%u4EC0%u4E48%u4E0D%u76F4%u63A5%u901A%u8FC7%u53C2%u6570%u6765inject%u5462%uFF1F%u5F53%u7136%u662F%u56E0%u4E3A%u53C2%u6570%u592A%u957F%u4E86%uFF0C%u4E0D%u597D%u770B%u3002%u3002%u3002%0A%23%23%23%23%20mock%20%5C%24http%0A%u4E3A%u4E86%u6D4B%u8BD5%u7A33%u5B9A%u6027%uFF0C%u6211%u4EEC%u5728unit%20test%u4E2D%u5E76%u4E0D%u771F%u6B63%u7684%u8BBF%u95EE%u670D%u52A1%u5668%uFF0C%u800C%u901A%u5E38%u91C7%u7528%u5047%u7684%u670D%u52A1%u5668%u54CD%u5E94%u6765mock%u3002%u8FD9%u5C31%u9700%u8981%u7528%u5230%5C%24httpBackend%20service%u3002%u90A3%u4E48%5C%24http%u548C%5C%24httpBackend%u4E4B%u95F4%u7684%u5173%u7CFB%u662F%u4EC0%u4E48%uFF1F%0A%3EHTTP%20backend%20used%20by%20the%20service%20that%20delegates%20to%20XMLHttpRequest%20object%20or%20JSONP%20and%20deals%20with%20browser%20incompatibilities.%0AYou%20should%20never%20need%20to%20use%20this%20service%20directly%2C%20instead%20use%20the%20higher-level%20abstractions%3A%20%5C%24http%20or%20%5C%24resource.%0ADuring%20testing%20this%20implementation%20is%20swapped%20with%20mock%20%24httpBackend%20which%20can%20be%20trained%20with%20responses.%0A%0A%u5177%u4F53%u505A%u6CD5%uFF0C%u4E0A%u9762%u7684%u4EE3%u7801%u4E2D%u5DF2%u6709%uFF0C%u8282%u5F55%u5982%u4E0B%uFF1A%0A%60%60%60javascript%0AbeforeEach%28function%28%29%20%7B%0A%20%20%20%20module%28%27Data%27%29%0A%20%20%20%20inject%28function%20%28%24injector%29%20%7B%0A%20%20%20%20%20%20%24httpBackend%20%3D%20%24injector.get%28%27%24httpBackend%27%29%0A%20%20%20%20%20%20DataService%20%3D%20%24injector.get%28%27DataService%27%29%0A%20%20%20%20%7D%29%0A%20%20%7D%29%3B%0A%0A%20%20it%28%27should%20update%20if%20succeeds%27%2C%20function%28done%29%20%7B%0A%20%20%20%20%24httpBackend.whenGET%28/.*/%29%0A%20%20%20%20%20%20.respond%28%7B%0A%20%20%20%20%20%20%20%20status%3A%20%27ready%27%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20DataService.getStatus%28%29.then%28function%20%28data%29%20%7B%0A%20%20%20%20%20%20data.should.deepEqual%28%7B%0A%20%20%20%20%20%20%20%20status%3A%20%27ready%27%0A%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20done%28%29%0A%20%20%20%20%7D%29.catch%28function%20%28err%29%20%7B%0A%20%20%20%20%20%20should.not.exist%28err%29%0A%20%20%20%20%7D%29%0A%20%20%20%20%0A%20%20%20%20%24httpBackend.flush%28%29%3B%0A%20%20%7D%29%3B%0A%60%60%60%0A%u901A%u8FC7%60%24httpBackend.wheGET%28...%29.respond%28...%29%60%u6765%u8BBE%u7F6Emock%20response%u3002%60whenGET%60%u8FD8%u652F%u6301%u6B63%u5219%u5F0F%u3002%0A%u8C03%u7528%u5B8C%u8BF7%u6C42%u51FD%u6570%u540E%u8981%u8BB0%u5F97%60%24httpBackend.flush%28%29%60%u5C06%u8BF7%u6C42%u771F%u6B63%u7684%u53D1%u51FA%u3002%u5426%u5219%u8BF7%u6C42%u5E76%u4E0D%u4F1A%u53D1%u51FA%uFF0C%u76F4%u5230%u8C03%u7528%60flush%28%29%60%u51FD%u6570%uFF0C%u6216%u8005%u6D4B%u8BD5%u8D85%u65F6%u5931%u8D25%u3002%0A%0A%23%23%23%23%20%u5982%u4F55mock%20%5C%24location%20%26%20%5C%24locationProvider%0A%u5F88%u60ED%u6127%u7684%u8BF4%uFF0C%u5728%u8FD9%u4E2A%u95EE%u9898%u4E0A%u6211%u82B1%u4E86%u5F88%u4E45%u5F88%u4E45%u7684%u65F6%u95F4%uFF0C%u641C%u7D22%u4E86%u5927%u91CF%u7684google%u7F51%u9875%uFF0C%u6700%u540E%u8FD8%u662F%u4F9D%u9760chrome%u8FFD%u8E2Aangular%u6838%u5FC3%u4EE3%u7801%u624D%u53D1%u73B0%u539F%u6765%u662F%u81EA%u5DF1%u7ED9%u81EA%u5DF1%u6316%u7684%u5751%uFF0C%u5BF9service%2C%20factory%u548Cprovider%u7406%u89E3%u4E0D%u900F%u5F7B%u3002%0A%u9996%u5148%u6765%u5C31%u4E8B%u8BBA%u4E8B%uFF0C%u8BF4%u4E00%u4E0B%u5230%u5E95%u600E%u4E48%u5B8C%u6210%u6211%u7684%u8FD9%u4E2A%u6D4B%u8BD5%u3002%0A%0A%u56E0%u4E3A%u6211%u8981%u6D4B%u8BD5DataService%uFF0C%u800CDataService%u5B9A%u4E49%u5728Data%20moduleDataService%u8C03%u7528%u4E86%5C%24location%20service%u3002%u9700%u8981%u5C06%u4E4Bmock%u6389%u3002%u6700%u7B80%u5355%u7684%u60F3%u6CD5%u5C31%u662F%u901A%u8FC7inject%u6765%u83B7%u5F97%5C%24location%20service%20reference%u3002%u5E76%u901A%u8FC7sinon.stub%u6765%u8BBE%u7F6E%u9700%u8981%u7684%u8FD4%u56DE%u503C%u3002%0A%0A%60%60%60%0Ainject%28function%20%28%24injector%2C%20%24location%29%20%7B%0A%20%20sinon.stub%28%24location%2C%20%27search%27%29.returns%28%7B%0A%20%20%20%20id%3A%20%27test%20id%27%0A%20%20%7D%29%0A%20%20DataService%20%3D%20%24injector.get%28%27DataService%27%29%0A%7D%29%0A%60%60%60%0A%0A%u4F46%u662F%u6211%u5012%u9709%u50AC%u7684%uFF0C%u7ADF%u7136%u662F%u7528%5C%24provide%u505A%u4E86%uFF1A%0A%60%60%60%0Amodule%28function%20%28%24provide%29%20%7B%0A%20%20%24provide.service%28%27%24location%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20const%20location%20%3D%20this%0A%20%20%20%20location.search%20%3D%20sinon.stub%28%29.returns%28%7B%0A%20%20%20%20%20%20device_id%3A%20%27test%20id%27%2C%0A%20%20%20%20%7D%29%0A%20%20%7D%29%0A%7D%29%0A%60%60%60%0A%u8FD9%u6837%u5C31%u4F1A%u6709%u95EE%u9898%u4E86%uFF0C%u5F53ngMock%u52A0%u8F7D%u8FD9%u4E2A%u6A21%u5757%u7684%u65F6%u5019%uFF0C%u4F1A%u5148%u5B9A%u4E49%u4E00%u4E2A%5C%24locationProvider%uFF0C%u8FD9%u5C31%u4F1A%u8986%u76D6%u5176%u81EA%u5E26%u7684%5C%24locationProvider%u3002%u800C%u5982%u4E0B%u7684module.config%u65B9%u6CD5%u4E2D%u5BF9%5C%24locationProvider%u7684%u64CD%u4F5C%u5C31%u4F1A%u51FA%u73B0%u95EE%u9898%uFF1A%0A%60%60%60%0Aangular.module%28%27PrinterData%27%2C%20%5B%5D%29%0A.config%28%5B%27%24locationProvider%27%2C%20function%28%24locationProvider%29%20%7B%0A%20%20%24locationProvider.html5Mode%28true%29%3B%0A%7D%5D%29%3B%0A%60%60%60%0A%u56E0%u4E3A%u65B0%u5B9A%u4E49%u7684%5C%24locationProvider%u4E2D%u6CA1%u6709html5Mode%u6210%u5458%u3002%u4E8E%u662F%u60F3%u4E86%u5404%u79CD%u529E%u6CD5%u6765mock%20%5C%24locationProvider%u3002%u7ED3%u679C%u56E0%u4E3A%u5BF9service%uFF0Cfactory%uFF0Cprovider%u7684%u7406%u89E3%u4E0D%u6B63%u786E%uFF0C%u90FD%u5931%u8D25%u4E86%u3002%u653E%u4E00%u6BB5%u9519%u8BEF%u7684%u4EE3%u7801%uFF1A%0A%60%60%60%0AbeforeEach%28function%28%29%7B%0A%20%20module%28function%20%28%24provide%29%20%7B%0A%20%20%20%20%24provide.service%28%27%24locationProvider%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20const%20location%20%3D%20this%0A%20%20%20%20%20%20location.html5Mode%20%3D%20function%28%29%7B%7D%0A%20%20%20%20%7D%29%0A%20%20%20%20%24provide.factory%28%27%24location%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20const%20locationProvider%20%3D%20this%0A%20%20%20%20%20%20locationProvider.html5Mode%20%3D%20function%28%29%7B%7D%0A%20%20%20%20%7D%29%0A%7D%29%0A%60%60%60%0A%u7B2C%u4E00%u4E2A%u7528%5C%24provide.service%u4F1A%u5B9A%u4E49%u4E00%u4E2A%5C%24locationProviderProvider%0A%u7B2C%u4E8C%u4E2A%u7528%5C%24provide.factory%u5B9A%u4E49%u4E86%u4E00%u4E2A%5C%24locationProvider%uFF0C%u4F46%u662F%u6CA1%u6709%u8FD4%u56DE%uFF0C%u6240%u4EE5%5C%24location%20service%u4E0D%u4F1A%u88AB%u5B9E%u4F8B%u5316%uFF0C%u4E5F%u5C31%u6CA1%u6709%5C%24location%20service%u4E86%u3002%0A%u5982%u679C%u60F3%u901A%u8FC7mock%20%5C%24locationProvider%u6765mock%20%5C%24location%20service%u7684%u8BDD%uFF0C%u6B63%u786E%u7684%u505A%u6CD5%u5E94%u5F53%u662F%uFF1A%0A%60%60%60%0A%24provide.provider%28%27%24location%27%2C%20function%20%28%29%20%7B%0A%20%20const%20provider%20%3D%20this%0A%20%20const%20location%20%3D%20%7B%7D%0A%20%20location.search%20%3D%20function%20%28%29%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20device_id%3A%20%27test%20id%27%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20provider.html5Mode%20%3D%20sinon.stub%28%29%0A%20%20provider.%24get%20%3D%20sinon.stub%28%29.returns%28location%29%0A%7D%29%0A%60%60%60%0Amock%u6389provider.%5C%24get%u51FD%u6570%uFF0C%u63D0%u4F9B%u5047%u7684location%u670D%u52A1%u3002%u5176%u5B9E%u8FD8%u6709%u5F88%u591A%u529E%u6CD5%uFF0C%u4F8B%u5982%u83B7%u5F97%5C%24locationProvider%u518D%u5BF9%5C%24get%u51FD%u6570%u8FDB%u884Cstub%uFF0C%u4E5F%u53EF%u4EE5%u3002%u6CA1%u6709%u518D%u4E00%u4E00%u5C1D%u8BD5%u4E86%u3002%u7406%u89E3%u4E86%u9519%u8BEF%u548C%u6B63%u786E%u7684%u505A%u6CD5%uFF0C%u60F3%u518D%u53BB%u5B9E%u73B0%u5C31%u5F97%u5FC3%u5E94%u624B%u4E86%u3002%0A%0A%23%23%23%23%20%u6D4B%u8BD5.config/.run%u5757%0AData%20module%u6709%u4E00%u4E2A.config%u5757%uFF0C%u56E0%u4E3A%u6A21%u5757%u52A0%u8F7D%u7684%u65F6%u5019%u4F1A%u5148%u8FD0%u884C%u5176.config%u5757%uFF0C%u7136%u540E%u662F.run%u5757%u3002%u56E0%u5176%u7279%u6B8A%u6027%uFF0C%u6240%u4EE5%u5728%u5BF9%u5176%u4E2D%u4F7F%u7528%u5230%u7684%u670D%u52A1%u8FDB%u884Cmock%u8981%u6CE8%u610F%u987A%u5E8F%u3002%u53EF%u4EE5%u53C2%u8003%u8FD9%u4E2A%u94FE%u63A5%uFF1A%5BTesting%20config%20and%20run%20blocks%20in%20AngularJS%0AHow%20to%20easily%20test%20an%20often%20neglected%20part%20of%20your%20application%5D%28https%3A//medium.com/@a_eife/testing-config-and-run-blocks-in-angularjs-1809bd52977e%29%0A%0A%23%23%23%23%20%u5982%u4F55mock%20%24interval%0A%u5728%u5355%u5143%u6D4B%u8BD5%u4E2D%uFF0C%u6211%u4EEC%u901A%u5E38%u8981%u91C7%u7528mock%u7684%u624B%u6BB5%uFF0C%u800C%u4E0D%u771F%u6B63%u7684%u4F7F%u7528%u65F6%u95F4%u670D%u52A1%u3002%u5728sinon%u4E2D%uFF0C%u53EF%u4EE5%u4F7F%u7528fake%20timer%u6765%u53D6%u4EE3JS%u4E2D%u6807%u51C6%u7684setTimeout%u548CsetInterval%u3002%u4E0D%u8FC7%u8FD9%u4E2A%u5728Angular%20JS%u4E2D%u5E76%u4E0D%u8D77%u4F5C%u7528%uFF0C%u5982%u679C%u6211%u4EEC%u4F7F%u7528%5C%24interval%u670D%u52A1%u7684%u8BDD%u3002%0A%u56E0%u4E3A%u5728%u5BF9Angular%20JS%u505A%u5355%u5143%u6D4B%u8BD5%u7684%u65F6%u5019%uFF0C%5C%24interval%u5E76%u4E0D%u4F1A%u8C03%u7528setInterval%u3002%u539F%u56E0%u662F%u8FD9%u91CC%u7684%5C%24interval%u5176%u5B9E%u662FngMock%u4E2D%u7684%5C%24interval%u3002%u6B64%u65F6%u53EF%u4EE5%u4F7F%u7528%60%24interval.flush%28ms%29%60%u6765%u5C06%u65F6%u949F%u63A8%u8FDB%u82E5%u5E72%u65F6%u95F4%u3002%u5F53%u7136%u5982%u679C%u613F%u610F%uFF0C%u4E5F%u53EF%u4EE5%u7528sinon%u6765mock%u4ECE%5C%24injector%u4E2Dget%u51FA%u6765%u7684%5C%24interval%20service%u3002%5C%24timeout%20service%u4E5F%u7C7B%u4F3C%uFF0C%u6709%u540C%u6837%u7684%u65B9%u6CD5%u5BF9%u4ED8%u5355%u5143%u6D4B%u8BD5%u3002%0A%0A%23%23%23%23%20Promise%20not%20resolve%0A%u5728Angular%20JS%u4E2D%uFF0C%u6211%u4EEC%u5F80%u5F80%u8C03%u7528%5C%24q%20service%u6765%u4F7F%u7528Promise%uFF0C%u800C%5C%24q.defer%28%29.promise%u53EA%u5728%5C%24scope%u7684digest%20cycle%u624D%u4F1A%u5224%u5B9Aresolve%u8FD8%u662Freject%uFF0C%u6240%u4EE5%u8981%u89E6%u53D1%5C%24q%u4EA7%u751F%u7684promise%uFF0C%u4E00%u5B9A%u8981%u8C03%u7528%u5BF9%u5E94%u7684%5C%24scope.%5C%24apply%28%29%u6216%u8005%5C%24scope.%5C%24digest%28%29%u3002stack%20overflow%u4E2D%u4E5F%u6709%u5927%u628A%u7C7B%u4F3C%u95EE%u9898%u7684%u89E3%u7B54%u3002%u5177%u4F53%u4E5F%u53EF%u4EE5%u53C2%u8003%u8FD9%u7BC7%u535A%u5BA2%uFF0C%u8BB2%u5F97%u5F88%u900F%u5F7B%uFF1A%0A-%20%5BUnit%20Testing%20with%20%24q%20Promises%20in%20AngularJS%5D%28http%3A//www.bradoncode.com/blog/2015/07/13/unit-test-promises-angualrjs-q/%29%0A%0A%u5728Angular%20JS%u4E2D%uFF0C%u4E5F%u53EF%u4EE5%u4F7F%u7528%u6807%u51C6%u7684Promise%uFF0C%u4F8B%u5982%3A%20%60var%20promise%20%3D%20new%20Promise%28resolve%2C%20reject%29%60%u3002%u4F46%u662F%u8C8C%u4F3C%uFF0C%u6807%u51C6%u7684Promise%u548C%5Cq%u517C%u5BB9%u7684%u5E76%u4E0D%u5F88%u597D%uFF0C%u4E0B%u9762%u7684code%u5E76%u4E0D%u4F1A%u5DE5%u4F5C%uFF1A%0A%60%60%60%0Avar%20promise%20%3D%20%24q.all%28%5Bpromise1%2C%20promise2%5D%29%0A%24scope.%24apply%28%29%0A%60%60%60%0Apromise%u5E76%u4E0D%u4F1A%u5728promise1%u548Cpromise2%u8FD4%u56DE%u4E4B%u540E%u8FD4%u56DE%uFF0C%u5B9E%u9645%u4E0A%u662F%u4ED6%u6839%u672C%u5C31%u4E0D%u4F1A%u8FD4%u56DE%uFF0C%u76F4%u5230%u6D4B%u8BD5%u8D85%u65F6%u5931%u8D25%u3002%0A%0A%23%23%23%23%20%22Unexpected%20request%3A%20GET%20.../.html%22%20on%20Karma%20tests%0A%u8FD9%u662FYaakov%u5728%u89C6%u9891%u4E2D%u63D0%u5230%u7684%u9700%u8981%u4F7F%u7528%5C%24templateCache%u7684%u60C5%u5F62%u3002Yaakov%u63D0%u5230%u7528karma%u662F%u89E3%u51B3%u8BE5%u95EE%u9898%u6700%u597D%u7684%u529E%u6CD5%uFF0C%u4F46%u662F%u56E0%u4E3A%u89C6%u9891%u5E76%u4E0D%u6D89%u53CA%u4ECB%u7ECDkarma%uFF0C%u6240%u4EE5%u5E76%u6CA1%u6709%u8BF4%u5E94%u8BE5%u600E%u4E48%u505A%u3002%0A%u5F53%u6211%u4EEC%u7684karma%20test%u52A0%u8F7D%u4E86route.js%uFF0C%u5E76%u5728%u5176%u4E2D%u5B9A%u4E49%u4E86component%uFF0C%u5219%u6D4B%u8BD5%u5728%u5B9E%u4F8B%u5316%u8BE5Angular%20component%u7684%u65F6%u5019%u56DE%u53BB%u7528%5C%24http%20service%u6765GET%u8BE5template%20html%u6587%u4EF6%uFF0C%u4E8E%u662F%u4EA7%u751F%u4E86%u8BE5unexpected%20request%u9519%u8BEF%u3002Yaakov%u5728%u6559%u7A0B%u4E2D%u7684%u89E3%u51B3%u529E%u6CD5%u662F%uFF0C%u901A%u8FC7%u4E00%u6B21%u771F%u6B63%u7684AJAX%u4ECE%u670D%u52A1%u5668%u4E0A%u8BF7%u6C42%u8BE5html%uFF0C%u5E76%u5C06%u4E4B%u5B58%u5165%5C%24templateCache%u4E2D%uFF0C%u4E4B%u540E%u5C31%u4E0D%u4F1A%u518D%u6709%u771F%u6B63%u7684GET%20AJAX%u4EA7%u751F%u4E86%u3002%u5176%u5B9E%u8FD9%u4E00%u6BB5%u53EF%u4EE5%u901A%u8FC7%u914D%u7F6Ekarma%u6765%u5B9E%u73B0%u3002%u5177%u4F53%u505A%u6CD5%u5982%u4E0B%uFF1A%0A-%20%u5B89%u88C5ng-html2js%uFF0Ckarma-ng-html2js-preprocessor%0A-%20%u4F7F%u7528ng-html2js%u5C06%u5BF9%u5E94%u7684template%20html%u8F6C%u6210js%u6A21%u5757%uFF0C%u5E76%u5728%u6D4B%u8BD5%u4EE3%u7801%u4E2D%u5F15%u5165%u3002%0A%0A%u770B%u4E0B%u9762%u5177%u4F53%u4EE3%u7801%0Akarma.conf.js%0A%60%60%60%0A//%20list%20of%20files%20/%20patterns%20to%20load%20in%20the%20browser%0Afiles%3A%20%5B%0A%20%20%27../html/templates/*.html%27%2C%0A%20%20...%0A%5D%2C%0A%0A//%20preprocess%20matching%20files%20before%20serving%20them%20to%20the%20browser%0A//%20available%20preprocessors%3A%20https%3A//npmjs.org/browse/keyword/karma-preprocessor%0Apreprocessors%3A%20%7B%0A%20%20%27../html/templates/home.template.html%27%3A%20%5B%27ng-html2js%27%5D%0A%7D%2C%0A%0AngHtml2JsPreprocessor%3A%20%7B%0A%20%20moduleName%3A%20%27templates%27%2C%0A%20%20stripPrefix%3A%20%27.*/%27%2C%0A%20%20prependPrefix%3A%20%27/html/templates/%27%0A%7D%2C%20%0A%60%60%60%0Atest.js%0A%60%60%60%0Adescribe%28function%28%29%7B%0A%20%20beforeEach%28module%28%27templates%27%29%29%0A%7D%29%0A%60%60%60%0A%u7279%u522B%u8981%u6CE8%u610F%u7684%u662F%u5BF9ng-html2js%u7684%u914D%u7F6E%0A%60%60%60%0AngHtml2JsPreprocessor%3A%20%7B%0A%20%20moduleName%3A%20%27templates%27%2C%0A%20%20stripPrefix%3A%20%27.*/%27%2C%0A%20%20prependPrefix%3A%20%27/html/templates/%27%0A%7D%2C%20%0A%60%60%60%0A%u5F53%u6CA1%u6709%60stripPrefix%60%u9009%u9879%u65F6%uFF0C%u901A%u8FC7Chrome%20debug%u53EF%u4EE5%u770B%u5230%uFF0C%u6240%u6709%u7684template%u90FD%u88AB%u8F6C%u5316%u6210%u4E86js%u6A21%u5757%uFF0C%u4F46%u662F%u5176%u6A21%u5757%u540D%u662F%u7C7B%u4F3C%60c%3A%5Cpath%5Cto%5Ctemplate%5Ctemplate.html%60%u7684%u7ED3%u6784%uFF0C%u800C%u6211%u5728route%u4E2D%u7684%u6307%u5B9A%u8DEF%u5F84%u662Fweb%u8DEF%u5F84%60templateUrl%3A%20%27/html/templates/home.template.html%27%60%u3002%u5C31%u5BF9%u4E0D%u4E0A%u53F7%u4E86%u3002%u505A%u6CD5%u662F%u901A%u8FC7%60stripPrefix%60%u5C06%u6240%u6709%u7684%u524D%u7F00%u5168%u90E8%u5265%u53BB%uFF0C%u7136%u540E%u7528%60prependPrefix%60%u52A0%u4E0A%u9700%u8981%u7684%u524D%u7F00%u3002%u8FD9%u6837%u5C31%u53EF%u4EE5%u5DE5%u4F5C%u4E86%u3002%u7F51%u4E0A%u6709%u5F88%u591A%u5E16%u5B50%u8BA8%u8BBA%u8FD9%u4E2A%u95EE%u9898%u3002%u5217%u4E24%u4E2A%u6709%u542F%u53D1%u6027%u7684%uFF1A%0A-%20%5BUnit%20Testing%20AngularJS%20directive%20with%20templateUrl%5D%28https%3A//stackoverflow.com/questions/15214760/unit-testing-angularjs-directive-with-templateurl%29%0A-%20%5BKarma%20%27Unexpected%20Request%27%20when%20testing%20angular%20directive%2C%20even%20with%20ng-html2js%5D%28https%3A//stackoverflow.com/questions/22869668/karma-unexpected-request-when-testing-angular-directive-even-with-ng-html2js%29%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2017/10/23/Synology/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/10/23/Synology/" class="post-title-link" itemprop="url">Synology</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-23 11:03:55" itemprop="dateCreated datePublished" datetime="2017-10-23T11:03:55+08:00">2017-10-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2017-10-27 06:26:41" itemprop="dateModified" datetime="2017-10-27T06:26:41+08:00">2017-10-27</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=3fdb36ad-26ae-4f56-a170-f22c8469220e&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x4FEE;&#x6539;root&#x5BC6;&#x7801;</h2><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">synouser <span style="display: inline; line-height: 1.6; color: #75715e;">--setpw root xxx</span></div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">How to &#x201C;unmount /volume1&#x201D;</h2><ol style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">&#x67E5;&#x770B;&#x5360;&#x7528;volume1&#x7684;&#x8FDB;&#x7A0B;&#xFF1A;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">lsof /volumes</code></li><li style="line-height: 1.6;">&#x5173;&#x95ED;&#x5BF9;&#x5E94;&#x7684;&#x8FDB;&#x7A0B;</li></ol><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">find</span> /usr/syno/etc.defaults/rc.sysv/ | <span style="display: inline; line-height: 1.6; color: #f92672;">grep</span> -i &lt;service name&gt;</div><div style="line-height: 1.6;">synoservicecfg --status | <span style="display: inline; line-height: 1.6; color: #f92672;">grep</span> enable | <span style="display: inline; line-height: 1.6; color: #f92672;">grep</span> -i &lt;service name&gt;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x53C2;&#x8003;<a href="https://github.com/OliPelz/how-to-fsck-on-synology-dsm6" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">how-to-fsck-on-synology-dsm6</a></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x626B;&#x63CF;File System</h2><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">fsck.ext4 -v -n <span style="display: inline; line-height: 1.6;">-f</span> /dev/vg1000/lv <span style="display: inline; line-height: 1.6; color: #75715e;">#Check the filesystem, with NO changes being written</span></div><div style="line-height: 1.6;">fsck.ext4 -v <span style="display: inline; line-height: 1.6;">-f</span> -y /dev/vg1000/lv <span style="display: inline; line-height: 1.6; color: #75715e;">#Check &amp; fix your filesystem</span></div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">&#x67E5;&#x770B;&#x6240;&#x6709;&#x6302;&#x8F7D;&#x70B9;</h2><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">cat /etc/mtab</div></code></pre></div><center style="display:none">%23%20Synology%0A@%28myblog%29%5Bnas%2C%20synology%5D%0A%0A%23%23%20%u4FEE%u6539root%u5BC6%u7801%0A%60%60%60%0Asynouser%20--setpw%20root%20xxx%0A%60%60%60%0A%0A%23%23%20How%20to%20%22unmount%20/volume1%22%0A%0A1.%20%u67E5%u770B%u5360%u7528volume1%u7684%u8FDB%u7A0B%uFF1A%60lsof%20/volumes%60%0A2.%20%u5173%u95ED%u5BF9%u5E94%u7684%u8FDB%u7A0B%0A%60%60%60%0Afind%20/usr/syno/etc.defaults/rc.sysv/%20%7C%20grep%20-i%20%3Cservice%20name%3E%0Asynoservicecfg%20--status%20%7C%20grep%20enable%20%7C%20grep%20-i%20%3Cservice%20name%3E%0A%60%60%60%0A%u53C2%u8003%5Bhow-to-fsck-on-synology-dsm6%5D%28https%3A//github.com/OliPelz/how-to-fsck-on-synology-dsm6%29%0A%0A%23%23%20%u626B%u63CFFile%20System%0A%60%60%60bash%0Afsck.ext4%20-v%20-n%20-f%20/dev/vg1000/lv%20%23Check%20the%20filesystem%2C%20with%20NO%20changes%20being%20written%0Afsck.ext4%20-v%20-f%20-y%20/dev/vg1000/lv%20%23Check%20%26%20fix%20your%20filesystem%0A%60%60%60%0A%0A%23%23%20%u67E5%u770B%u6240%u6709%u6302%u8F7D%u70B9%0A%60%60%60bash%0Acat%20/etc/mtab%0A%60%60%60</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.zhougy.top/2017/09/25/ui-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ben Zhou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big Ben">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/09/25/ui-router/" class="post-title-link" itemprop="url">ui-router</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-25 21:56:50" itemprop="dateCreated datePublished" datetime="2017-09-25T21:56:50+08:00">2017-09-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2017-09-26 06:37:23" itemprop="dateModified" datetime="2017-09-26T06:37:23+08:00">2017-09-26</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!DOCTYPE en-note SYSTEM 'http://xml.evernote.com/pub/enml2.dtd'><div class="enNote" style="color: #2c3f51; line-height: 1.6;" title lang="v2" xml:lang dir><del style="position:relative;display:block;z-index:10;"><a style="position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;" target="_blank" rel="noopener" href="http://maxiang.info/#/?provider=evernote&amp;guid=478bad4f-372b-4031-87ea-f35931a6bb7f&amp;notebook=myblog">Edit</a></del><div style="color: #2c3f51; line-height: 1.6;"><p style="margin: 0 0 1.1em; line-height: 1.6;"></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6240;&#x8C13;&#x7684;Single Page Application (SPA)&#x7684;&#x6838;&#x5FC3;&#x5C31;&#x662F;&#x7528;ui-router&#x6765;&#x5207;&#x6362;&#x4E0D;&#x540C;&#x7684;UI state&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x529F;&#x80FD;&#x3002;&#x4F46;&#x662F;&#x76F8;&#x5173;&#x5E93;&#x5E76;&#x4E0D;&#x5728;AngularJS&#x4E2D;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5E93;&#x7528;&#x7684;&#x6BD4;&#x8F83;&#x591A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">ngRouter from Google and community</li><li style="line-height: 1.6;">ui-router from community</li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x672C;&#x6587;&#x57FA;&#x4E8E;&#x540E;&#x8005;&#x3002;</p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">How to use it?</h2><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;<span style="display: inline; line-height: 1.6;">script</span> <span style="display: inline; line-height: 1.6;">src</span>=<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;lib/angular.min.js&quot;</span>&gt;</span><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;/<span style="display: inline; line-height: 1.6;">script</span>&gt;</span></span></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;<span style="display: inline; line-height: 1.6;">script</span> <span style="display: inline; line-height: 1.6;">src</span>=<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;lib/angular-ui-router.min.js&quot;</span>&gt;</span><span style="display: inline; line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;/<span style="display: inline; line-height: 1.6;">script</span>&gt;</span></span></div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;<span style="display: inline; line-height: 1.6;">ui-view</span>&gt;</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;/<span style="display: inline; line-height: 1.6;">ui-view</span>&gt;</span></div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">angular.module(&apos;App&apos;,[&apos;ui.router&apos;]);</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">ui-router&#x4F1A;&#x7528;template html&#x6765;&#x66FF;&#x6362;ui-view&#x6807;&#x7B7E;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">&lt;ui-view&gt;&lt;/ui-view&gt;</code>&#x3002; <br>&#x8FDB;&#x5165;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">angular.module(&apos;App&apos;)</div><div style="line-height: 1.6;">.config(RoutesConfig);</div><div style="line-height: 1.6;">RoutesConfig.<span style="display: inline; line-height: 1.6; color: #f8f8f2;">$inject</span> =</div><div style="line-height: 1.6;">[&apos;<span style="display: inline; line-height: 1.6; color: #f8f8f2;">$stateProvider</span>&apos;, &apos;<span style="display: inline; line-height: 1.6; color: #f8f8f2;">$urlRouterProvider</span>&apos;];</div><div style="line-height: 1.6;">function RoutesConfig(<span style="display: inline; line-height: 1.6; color: #f8f8f2;">$stateProvider</span>, <span style="display: inline; line-height: 1.6; color: #f8f8f2;">$urlRouterProvider</span>) &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f8f8f2;">$urlRouterProvider</span>.otherwise(&apos;/view1&apos;);</div><div style="line-height: 1.6;"></div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f8f8f2;">$stateProvider</span></div><div style="line-height: 1.6;">    .<span style="display: inline; line-height: 1.6; color: #f92672;">state</span>(&apos;view1&apos;, &#123;</div><div style="line-height: 1.6;">        url: &apos;/view1&apos;,</div><div style="line-height: 1.6;">        template: &apos;<span style="display: inline; line-height: 1.6; color: #f8f8f2;">&lt;div&gt;</span>&#x2026;&lt;/div&gt;&apos;</div><div style="line-height: 1.6;">    &#125;)</div><div style="line-height: 1.6;">    .<span style="display: inline; line-height: 1.6; color: #f92672;">state</span>(&apos;view2&apos;, &#123;...&#125;);</div><div style="line-height: 1.6;">&#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$urlRouterProvider.otherwise</code>&#x8BBE;&#x7F6E;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;URL&#x3002;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">$stateProvider</code>&#x8BBE;&#x7F6E;&#x4E86;&#x5404;&#x4E2A;&#x72B6;&#x6001;&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">$stateProvider</div><div style="line-height: 1.6;">.state(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;itemDetail&apos;</span>, &#123;</div><div style="line-height: 1.6;">    ur<span style="display: inline; line-height: 1.6; color: #f8f8f2;">l:</span> <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;&apos;</span>,</div><div style="line-height: 1.6;">    templateUr<span style="display: inline; line-height: 1.6; color: #f8f8f2;">l:</span> <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;&apos;</span>,</div><div style="line-height: 1.6;">    controller: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;ItemListController as itemList&apos;</span>,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #e6db74;">resolve</span>: &#123;</div><div style="line-height: 1.6;">    &#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6BCF;&#x4E2A;&#x72B6;&#x6001;&#x90FD;&#x53EF;&#x4EE5;&#x6709;template&#x548C;controller&#x3002;</p><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">controller</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">controller&#x6210;&#x5458;&#x6709;&#x8FD9;&#x4E48;&#x51E0;&#x79CD;&#x5199;&#x6CD5;&#xFF1A;</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">controller: &#x2018;CtrlName as label&#x2019;</li><li style="line-height: 1.6;">controller: CtrlName</li><li style="line-height: 1.6;">controllerAs: label</li></ul><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">resolve</h3><p style="margin: 0 0 1.1em; line-height: 1.6;">The resolve property is a map object. The map object contains key/value pairs of:</p><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">key &#x2013; {string}: a name of a dependency to be injected into the controller.</li><li style="line-height: 1.6;">factory - {string|function}: <br><ul style="margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;"><li style="line-height: 1.6;">If string, then it is an alias for a service.</li><li style="line-height: 1.6;">Otherwise if function, then it is injected and the return value is treated as the dependency. If the result is a promise, it is resolved before the controller is instantiated and its value is injected into the controller.&#x3002;</li></ul></li></ul><p style="margin: 0 0 1.1em; line-height: 1.6;"><em style="line-height: 1.6;">Yaakov&#x7684;&#x8BFE;&#x7A0B;&#x6B64;&#x5904;&#x53EF;&#x80FD;&#x6709;&#x9519;&#x8BB9;&#x3002;&#x5E76;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x90FD;&#x80FD;&#x5F80;resolve&#x91CC;&#x653E;&#xFF0C;&#x653E;&#x6570;&#x5B57;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x53C2;&#x770B;<a href="https://github.com/angular-ui/ui-router/wiki" target="_blank" style="background: transparent; color: #1980e6; text-decoration: none;">GitHub - angular-ui/ui-router</a></em></p><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x4E5F;&#x5C31;&#x662F;factory&#x53EA;&#x6709;&#x4E24;&#x79CD;&#x53EF;&#x80FD;&#xFF0C;string&#x6216;&#x8005;function&#xFF0C;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x653E;&#x6570;&#x5B57;&#xFF0C;&#x4F1A;&#x51FA;&#x9519;&#x3002;resolve&#x6210;&#x5458;&#x4F1A;&#x5728;controller&#x5B9E;&#x4F8B;&#x5316;&#x4E4B;&#x524D;&#x88AB;&#x786E;&#x5B9A;&#x3002;&#x5982;&#x679C;promise&#x88AB;reject&#xFF0C;&#x5219;&#x4F1A;&#x53D6;&#x6D88;&#x72B6;&#x6001;&#x5207;&#x6362;&#xFF0C;&#x7136;&#x540E;&#x9519;&#x8BEF;&#x4F1A;&#x88AB;&#x9001;&#x5230;$stateChangeError&#x3002;resolve&#x7684;&#x6210;&#x5458;&#xFF0C;&#x901A;&#x8FC7;inject&#x53EF;&#x4EE5;&#x88AB;controller&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x4E0B;:</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">View1Ctrl.$inject = [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;myData&apos;</span>];</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;"><span style="display: inline; line-height: 1.6; color: #66d9ef;">function</span> <span style="display: inline; line-height: 1.6; color: #a6e22e;">View1Ctrl</span><span style="display: inline; line-height: 1.6; color: #f8f8f2;">(myData)</span> </span>&#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">var</span> view1 = <span style="display: inline; line-height: 1.6; color: #f92672;">this</span>;</div><div style="line-height: 1.6;">    view1.myData = myData;</div><div style="line-height: 1.6;">&#125;</div></code></pre><h3 style="font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;">URL Parameters</h3><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;">.state</span>(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;view1&apos;</span>, &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">url</span>: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;/view1/&#123;param1&#125;&apos;</span>,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">templateUrl</span>: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;view1.html&apos;</span>,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">controller</span>: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;View1Ctrl as view1&apos;</span>,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">resolve</span>: &#123;</div><div style="line-height: 1.6;">        <span style="display: inline; line-height: 1.6; color: #f92672;">myData</span>: [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;$stateParams&apos;</span>,</div><div style="line-height: 1.6;">            function ($stateParams) &#123;</div><div style="line-height: 1.6;">            return getDataBasedOn($stateParams.param1);</div><div style="line-height: 1.6;">        &#125;]</div><div style="line-height: 1.6;">    &#125;</div><div style="line-height: 1.6;">&#125;);</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x8FD9;&#x662F;&#x6700;&#x6B63;&#x5E38;&#x7684;&#x5199;&#x6CD5;&#x3002;&#x5728;HTML&#x4E2D;&#x5982;&#x4E0B;&#x4F7F;&#x7528;&#xFF1A;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">&lt;a ui<span style="display: inline; line-height: 1.6; color: #f8f8f2;">-sref</span>=<span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;view1(&#123;itemId:someVal&#125;)&quot;</span>&gt;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">Link</span> <span style="display: inline; line-height: 1.6; color: #f92672;">to</span> view <span style="display: inline; line-height: 1.6; color: #f92672;">with</span> <span style="display: inline; line-height: 1.6; color: #e6db74;">data</span></div><div style="line-height: 1.6;">&lt;/a&gt;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x6216;&#x8005;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f8f8f2;">$state</span>.go(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;contacts&apos;</span>, &#123;<span style="display: inline; line-height: 1.6; color: #f92672;">param</span>1: value1&#125;)</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">&#x6B63;&#x5219;&#x53C2;&#x6570;</strong></p><blockquote style="padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;"><p style="margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 1.1em; line-height: 1.6;">Examples:</p><ul style="margin-top: 0; margin-bottom: 0; line-height: 1.6;"><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/user/&#123;id:[^/]*&#125;</code> - Same as &#x2018;/user/{id}&#x2019; from the previous example.</li><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/user/&#123;id:[0-9a-fA-F]&#123;1,8&#125;&#125;</code> - Similar to the previous example, but only matches if the id parameter consists of 1 to 8 hex digits.</li><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/files/&#123;path:.*&#125;</code> - Matches any URL starting with &#x2018;/files/&#x2019; and captures the rest of the path into the parameter &#x2018;path&#x2019;.</li><li style="line-height: 1.6;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">/files/*path</code> - Ditto. Special syntax for catch all.</li></ul></blockquote><p style="margin: 0 0 1.1em; line-height: 1.6;"><em style="line-height: 1.6;">&#x76EE;&#x524D;&#xFF0C;&#x5C1A;&#x672A;&#x5B9E;&#x8DF5;&#x8FC7;&#xFF0C;&#x731C;&#x6D4B;&#x662F;&#x5BF9;URL&#x8FDB;&#x884C;&#x6355;&#x83B7;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x7B26;&#x5408;&#x8BE5;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5219;&#x8BE5;&#x53C2;&#x6570;&#x4E0D;&#x5B58;&#x5728;</em></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">&#x591A;&#x4E8E;1&#x4E2A;&#x53C2;&#x6570;</strong> <br>&#x4F7F;&#x7528;URL&#x53C2;&#x6570;&#x5199;&#x6CD5;&#xFF1A;<code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;">url: &quot;/contacts?myParam1&amp;myParam2&quot;</code></p><p style="margin: 0 0 1.1em; line-height: 1.6;"><strong style="font-weight: bold; line-height: 1.6;">Using Parameters without Specifying Them in State URLs</strong></p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6;">.state</span>(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;contacts&apos;</span>, &#123;</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">url</span>: <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;/contacts&quot;</span>,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">params</span>: &#123;</div><div style="line-height: 1.6;">        <span style="display: inline; line-height: 1.6; color: #f92672;">param1</span>: null</div><div style="line-height: 1.6;">    &#125;,</div><div style="line-height: 1.6;">    <span style="display: inline; line-height: 1.6; color: #f92672;">templateUrl</span>: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;contacts.html&apos;</span></div><div style="line-height: 1.6;">&#125;)</div></code></pre><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">Router State Transition Events</h2><p style="margin: 0 0 1.1em; line-height: 1.6;"><span style="line-height: 1.6;"><span style="word-wrap: normal; vertical-align: middle; font-style: normal; font-weight: normal; margin: 0; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; padding: 0; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; line-height: 1.6; display: inline-block; font-size: 100%;"><span style="line-height: 1.6;"><img class="enMedia" src="/images/ui-router/SVGundefined" hash="61256054222ee64b9850110e62d0ce1d" align alt longdesc width="403.211375" height="15.736350000000002" border hspace vspace usemap style="border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;" title lang xml:lang dir></span></span>stateChangeSuccess - fired once the state transition is complete <br>$stateChangeError - fires when an error occurs during transition <br>event.preventDefault() - to prevent the transition from occurring</span></p><h2 style="font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;">State Inheritance</h2><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x72B6;&#x6001;&#x4E5F;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#xFF0C;&#x7EE7;&#x627F;&#x7684;&#x552F;&#x4E00;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x5D4C;&#x5957;&#x7684;ui-view&#x3002;</p><pre style="font-family: &apos;Source Code Pro&apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;"><code style="font-family: &apos;Source Code Pro&apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;"><div style="line-height: 1.6;">.state(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;view1&apos;</span>, &#123;</div><div style="line-height: 1.6;">    resolve: &#123;</div><div style="line-height: 1.6;">        myData: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;someVal&apos;</span>;</div><div style="line-height: 1.6;">    &#125;</div><div style="line-height: 1.6;">    &#x2026;</div><div style="line-height: 1.6;">&#125;)</div><div style="line-height: 1.6;">.state(<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;view1.child&apos;</span>, &#123;</div><div style="line-height: 1.6;">    url: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;/detail/&#123;param1&#125;&apos;</span>,</div><div style="line-height: 1.6;">    templateUrl: <span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;view1Detail.html&apos;</span>,</div><div style="line-height: 1.6;">    controller: <span style="display: inline; line-height: 1.6; color: #e6db74;">&quot;ChildCtrl as child&quot;</span></div><div style="line-height: 1.6;">    &#x2026;</div><div style="line-height: 1.6;">&#125;);</div><div style="line-height: 1.6;">ChildCtrl.$inject = [<span style="display: inline; line-height: 1.6; color: #e6db74;">&apos;myData&apos;</span>];</div><div style="line-height: 1.6;"><span style="display: inline; line-height: 1.6; color: #f92672;">function</span> ChildCtrl (myData) &#123; &#x2026; &#125;</div></code></pre><p style="margin: 0 0 1.1em; line-height: 1.6;">&#x72B6;&#x6001;&#x7EE7;&#x627F;&#x7684;&#x65F6;&#x5019;&#xFF0C;resolve&#x6210;&#x5458;&#x4E5F;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#xFF0C;&#x5982;&#x4E0A;&#x3002;</p></div><center style="display:none">%23%20ui-router%0A@%28myblog%29%5Bangular%5D%0A%0A%u6240%u8C13%u7684Single%20Page%20Application%20%28SPA%29%u7684%u6838%u5FC3%u5C31%u662F%u7528ui-router%u6765%u5207%u6362%u4E0D%u540C%u7684UI%20state%uFF0C%u4ECE%u800C%u5B9E%u73B0%u9875%u9762%u529F%u80FD%u3002%u4F46%u662F%u76F8%u5173%u5E93%u5E76%u4E0D%u5728AngularJS%u4E2D%uFF0C%u6709%u4E24%u4E2A%u5E93%u7528%u7684%u6BD4%u8F83%u591A%0A-%20ngRouter%20from%20Google%20and%20community%0A-%20ui-router%20from%20community%0A%0A%u672C%u6587%u57FA%u4E8E%u540E%u8005%u3002%0A%0A%23%23%20How%20to%20use%20it%3F%0A%60%60%60%0A%3Cscript%20src%3D%22lib/angular.min.js%22%3E%3C/script%3E%0A%3Cscript%20src%3D%22lib/angular-ui-router.min.js%22%3E%3C/script%3E%0A%0A%3Cui-view%3E%3C/ui-view%3E%0A%0Aangular.module%28%27App%27%2C%5B%27ui.router%27%5D%29%3B%0A%60%60%60%0Aui-router%u4F1A%u7528template%20html%u6765%u66FF%u6362ui-view%u6807%u7B7E%60%3Cui-view%3E%3C/ui-view%3E%60%u3002%0A%u8FDB%u5165%u6838%u5FC3%u914D%u7F6E%uFF1A%0A%60%60%60%0Aangular.module%28%27App%27%29%0A.config%28RoutesConfig%29%3B%0ARoutesConfig.%24inject%20%3D%0A%5B%27%24stateProvider%27%2C%20%27%24urlRouterProvider%27%5D%3B%0Afunction%20RoutesConfig%28%24stateProvider%2C%20%24urlRouterProvider%29%20%7B%0A%09%24urlRouterProvider.otherwise%28%27/view1%27%29%3B%0A%09%0A%09%24stateProvider%0A%09.state%28%27view1%27%2C%20%7B%0A%09%09url%3A%20%27/view1%27%2C%0A%09%09template%3A%20%27%3Cdiv%3E%u2026%3C/div%3E%27%0A%09%7D%29%0A%09.state%28%27view2%27%2C%20%7B...%7D%29%3B%0A%7D%0A%60%60%60%0A%60%24urlRouterProvider.otherwise%60%u8BBE%u7F6E%u4E86%u9ED8%u8BA4%u7684URL%u3002%60%24stateProvider%60%u8BBE%u7F6E%u4E86%u5404%u4E2A%u72B6%u6001%u3002%0A%0A%60%60%60%0A%24stateProvider%0A.state%28%27itemDetail%27%2C%20%7B%0A%20%20%20%20url%3A%20%27%27%2C%0A%20%20%20%20templateUrl%3A%20%27%27%2C%0A%20%20%20%20controller%3A%20%27ItemListController%20as%20itemList%27%2C%0A%20%20%20%20resolve%3A%20%7B%0A%20%20%20%20%7D%0A%60%60%60%0A%u6BCF%u4E2A%u72B6%u6001%u90FD%u53EF%u4EE5%u6709template%u548Ccontroller%u3002%0A%0A%23%23%23%20controller%0Acontroller%u6210%u5458%u6709%u8FD9%u4E48%u51E0%u79CD%u5199%u6CD5%uFF1A%0A-%20controller%3A%20%u2018CtrlName%20as%20label%u2019%0A-%20controller%3A%20CtrlName%0A-%20controllerAs%3A%20label%0A%0A%23%23%23%20resolve%0AThe%20resolve%20property%20is%20a%20map%20object.%20The%20map%20object%20contains%20key/value%20pairs%20of%3A%0A%0A-%20key%20%u2013%20%7Bstring%7D%3A%20a%20name%20of%20a%20dependency%20to%20be%20injected%20into%20the%20controller.%0A-%20factory%20-%20%7Bstring%7Cfunction%7D%3A%0A%09-%20If%20string%2C%20then%20it%20is%20an%20alias%20for%20a%20service.%0A%09-%20Otherwise%20if%20function%2C%20then%20it%20is%20injected%20and%20the%20return%20value%20is%20treated%20as%20the%20dependency.%20If%20the%20result%20is%20a%20promise%2C%20it%20is%20resolved%20before%20the%20controller%20is%20instantiated%20and%20its%20value%20is%20injected%20into%20the%20controller.%u3002%0A%0A%0A*Yaakov%u7684%u8BFE%u7A0B%u6B64%u5904%u53EF%u80FD%u6709%u9519%u8BB9%u3002%u5E76%u4E0D%u662F%u4EC0%u4E48%u90FD%u80FD%u5F80resolve%u91CC%u653E%uFF0C%u653E%u6570%u5B57%u4F1A%u62A5%u9519%uFF0C%u5177%u4F53%u53EF%u53C2%u770B%5BGitHub%20-%20angular-ui/ui-router%5D%28https%3A//github.com/angular-ui/ui-router/wiki%29*%0A%0A%u4E5F%u5C31%u662Ffactory%u53EA%u6709%u4E24%u79CD%u53EF%u80FD%uFF0Cstring%u6216%u8005function%uFF0C%u5982%u679C%u76F4%u63A5%u653E%u6570%u5B57%uFF0C%u4F1A%u51FA%u9519%u3002resolve%u6210%u5458%u4F1A%u5728controller%u5B9E%u4F8B%u5316%u4E4B%u524D%u88AB%u786E%u5B9A%u3002%u5982%u679Cpromise%u88ABreject%uFF0C%u5219%u4F1A%u53D6%u6D88%u72B6%u6001%u5207%u6362%uFF0C%u7136%u540E%u9519%u8BEF%u4F1A%u88AB%u9001%u5230%24stateChangeError%u3002resolve%u7684%u6210%u5458%uFF0C%u901A%u8FC7inject%u53EF%u4EE5%u88ABcontroller%u4F7F%u7528%uFF0C%u5982%u4E0B%3A%0A%60%60%60%0AView1Ctrl.%24inject%20%3D%20%5B%27myData%27%5D%3B%0Afunction%20View1Ctrl%28myData%29%20%7B%0A%09var%20view1%20%3D%20this%3B%0A%09view1.myData%20%3D%20myData%3B%0A%7D%20%0A%60%60%60%0A%0A%23%23%23%20URL%20Parameters%0A%60%60%60%0A.state%28%27view1%27%2C%20%7B%0A%09url%3A%20%27/view1/%7Bparam1%7D%27%2C%0A%09templateUrl%3A%20%27view1.html%27%2C%0A%09controller%3A%20%27View1Ctrl%20as%20view1%27%2C%0A%09resolve%3A%20%7B%0A%09%09myData%3A%20%5B%27%24stateParams%27%2C%0A%09%09%09function%20%28%24stateParams%29%20%7B%0A%09%09%09return%20getDataBasedOn%28%24stateParams.param1%29%3B%0A%09%09%7D%5D%0A%09%7D%0A%7D%29%3B%0A%60%60%60%0A%u8FD9%u662F%u6700%u6B63%u5E38%u7684%u5199%u6CD5%u3002%u5728HTML%u4E2D%u5982%u4E0B%u4F7F%u7528%uFF1A%0A%60%60%60%0A%3Ca%20ui-sref%3D%22view1%28%7BitemId%3AsomeVal%7D%29%22%3E%0A%09Link%20to%20view%20with%20data%0A%3C/a%3E%0A%60%60%60%0A%u6216%u8005%0A%60%60%60%0A%24state.go%28%27contacts%27%2C%20%7Bparam1%3A%20value1%7D%29%0A%60%60%60%0A%0A**%u6B63%u5219%u53C2%u6570**%0A%3EExamples%3A%0A%0A%3E-%20%60/user/%7Bid%3A%5B%5E/%5D*%7D%60%20-%20Same%20as%20%27/user/%7Bid%7D%27%20from%20the%20previous%20example.%0A%3E-%20%60/user/%7Bid%3A%5B0-9a-fA-F%5D%7B1%2C8%7D%7D%60%20-%20Similar%20to%20the%20previous%20example%2C%20but%20only%20matches%20if%20the%20id%20parameter%20consists%20of%201%20to%208%20hex%20digits.%0A%3E-%20%60/files/%7Bpath%3A.*%7D%60%20-%20Matches%20any%20URL%20starting%20with%20%27/files/%27%20and%20captures%20the%20rest%20of%20the%20path%20into%20the%20parameter%20%27path%27.%0A%3E-%20%60/files/*path%60%20-%20Ditto.%20Special%20syntax%20for%20catch%20all.%0A%0A*%u76EE%u524D%uFF0C%u5C1A%u672A%u5B9E%u8DF5%u8FC7%uFF0C%u731C%u6D4B%u662F%u5BF9URL%u8FDB%u884C%u6355%u83B7%uFF0C%u5982%u679C%u4E0D%u7B26%u5408%u8BE5%u6B63%u5219%u8868%u8FBE%u5F0F%uFF0C%u5219%u8BE5%u53C2%u6570%u4E0D%u5B58%u5728*%0A%0A**%u591A%u4E8E1%u4E2A%u53C2%u6570**%0A%u4F7F%u7528URL%u53C2%u6570%u5199%u6CD5%uFF1A%60url%3A%20%22/contacts%3FmyParam1%26myParam2%22%60%0A%0A**Using%20Parameters%20without%20Specifying%20Them%20in%20State%20URLs**%0A%60%60%60%0A.state%28%27contacts%27%2C%20%7B%0A%09url%3A%20%22/contacts%22%2C%0A%20%20%20%20params%3A%20%7B%0A%20%20%20%20%20%20%20%20param1%3A%20null%0A%20%20%20%20%7D%2C%0A%20%20%20%20templateUrl%3A%20%27contacts.html%27%0A%7D%29%0A%60%60%60%0A%0A%23%23%20Router%20State%20Transition%20Events%0A%24stateChangeStart%20-%20fires%20when%20state%20change%20transition%20begins%0A%24stateChangeSuccess%20-%20fired%20once%20the%20state%20transition%20is%20complete%0A%24stateChangeError%20-%20fires%20when%20an%20error%20occurs%20during%20transition%0Aevent.preventDefault%28%29%20-%20to%20prevent%20the%20transition%20from%20occurring%0A%0A%23%23%20State%20Inheritance%0A%u72B6%u6001%u4E5F%u53EF%u4EE5%u7EE7%u627F%uFF0C%u7EE7%u627F%u7684%u552F%u4E00%u76EE%u7684%u5C31%u662F%u4F7F%u7528%u5D4C%u5957%u7684ui-view%u3002%0A%60%60%60%0A.state%28%27view1%27%2C%20%7B%0A%09resolve%3A%20%7B%0A%09%09myData%3A%20%27someVal%27%3B%0A%09%7D%0A%09%u2026%0A%7D%29%0A.state%28%27view1.child%27%2C%20%7B%0A%09url%3A%20%27/detail/%7Bparam1%7D%27%2C%0A%09templateUrl%3A%20%27view1Detail.html%27%2C%0A%09controller%3A%20%22ChildCtrl%20as%20child%22%0A%09%u2026%0A%7D%29%3B%0AChildCtrl.%24inject%20%3D%20%5B%27myData%27%5D%3B%0Afunction%20ChildCtrl%20%28myData%29%20%7B%20%u2026%20%7D%0A%60%60%60%0A%u72B6%u6001%u7EE7%u627F%u7684%u65F6%u5019%uFF0Cresolve%u6210%u5458%u4E5F%u53EF%u4EE5%u7EE7%u627F%uFF0C%u5982%u4E0A%u3002%0A</center><br></div>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ben Zhou</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@8.12.0/dist/mermaid.min.js","integrity":"sha256-0dD7vUjUCTGJjeLnPotQQJIcSzug5fO6WDMYYyNIX4c="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"zhougy0717","repo":"zhougy0717.github.io","client_id":"8c33004231445b03b48f","client_secret":"9f9f2311d7cf65de11751e3d01b097bf2a02ff28","admin_user":"zhougy0717","distraction_free_mode":true,"language":null,"js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"93ccefe6fa5dc946637b27eeb51ad55c"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
