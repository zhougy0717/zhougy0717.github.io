<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.zhougy.top</id>
    <title>Big Ben • Posts by &#34;powermock&#34; tag</title>
    <link href="https://blog.zhougy.top" />
    <updated>2016-10-18T23:41:45.000Z</updated>
    <category term="javascript" />
    <category term="angular" />
    <category term="操作系统" />
    <category term="arm" />
    <category term="单片机" />
    <category term="machine learning" />
    <category term="deep learning" />
    <category term="Linux" />
    <category term="内存管理" />
    <category term="Markdown" />
    <category term="python" />
    <category term="win32com" />
    <category term="nas" />
    <category term="synology" />
    <category term="USB" />
    <category term="Linux Device Drivers" />
    <category term="uboot" />
    <category term="http" />
    <category term="同步" />
    <category term="算法" />
    <category term="读书笔记" />
    <category term="程序员修炼之道" />
    <category term="c/c++" />
    <category term="hexo" />
    <category term="capability" />
    <category term="LD_PRELOAD" />
    <category term="C++" />
    <category term="coding" />
    <category term="UT" />
    <category term="TDD" />
    <category term="印象笔记" />
    <category term="Obsidian" />
    <category term="SELinux" />
    <category term="Android" />
    <category term="xposed" />
    <category term="GitHub" />
    <category term="中断处理" />
    <category term="群晖" />
    <category term="docker" />
    <category term="ttrss" />
    <category term="rsshub" />
    <category term="wallabag" />
    <category term="unittest" />
    <category term="mockito" />
    <category term="powermock" />
    <category term="QT" />
    <category term="nlp" />
    <category term="vim" />
    <category term="SpaceVim" />
    <category term="tmux" />
    <category term="面向对象" />
    <category term="promise" />
    <category term="mongodb" />
    <category term="Programming" />
    <category term="security" />
    <category term="C++11" />
    <category term="IoT" />
    <category term="broadlink" />
    <category term="domoticz" />
    <category term="UML" />
    <category term="socket" />
    <category term="iptables" />
    <category term="neural network" />
    <category term="mock" />
    <category term="深度学习" />
    <category term="schedule algorithm" />
    <category term="glibc" />
    <category term="gtest" />
    <category term="gmock" />
    <category term="golang" />
    <category term="elf" />
    <category term="软件开发" />
    <category term="设计模式" />
    <entry>
        <id>https://blog.zhougy.top/2016/10/19/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</id>
        <title>Android单元测试</title>
        <link rel="alternate" href="https://blog.zhougy.top/2016/10/19/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
        <content type="html">&lt;!DOCTYPE en-note SYSTEM &#39;http://xml.evernote.com/pub/enml2.dtd&#39;&gt;&lt;div class=&#34;enNote&#34; style=&#34;color: #2c3f51; font-family: &amp;apos;Helvetica Neue&amp;apos;, Arial, &amp;apos;Hiragino Sans GB&amp;apos;, STHeiti, &amp;apos;Microsoft YaHei&amp;apos;, &amp;apos;WenQuanYi Micro Hei&amp;apos;, SimSun, Song, sans-serif; line-height: 1.6;&#34; title lang=&#34;v2&#34; xml:lang dir&gt;&lt;del style=&#34;position:relative;display:block;z-index:10;&#34;&gt;&lt;a style=&#34;position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;&#34; href=&#34;http://maxiang.info/#/?provider=evernote_int&amp;amp;guid=ade7b067-6df9-46f4-a97e-71b9e0b2cff8&amp;amp;notebook=%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0&#34;&gt;Edit&lt;/a&gt;&lt;/del&gt;&lt;div style=&#34;color: #2c3f51; font-family: &amp;apos;Helvetica Neue&amp;apos;, Arial, &amp;apos;Hiragino Sans GB&amp;apos;, STHeiti, &amp;apos;Microsoft YaHei&amp;apos;, &amp;apos;WenQuanYi Micro Hei&amp;apos;, SimSun, Song, sans-serif; line-height: 1.6;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt; &lt;br&gt;&amp;#x4ECA;&amp;#x65E5;&amp;#x5728;&amp;#x505A;&amp;#x5FAE;&amp;#x4FE1;IoT&amp;#x6253;&amp;#x5370;&amp;#x673A;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x7528;Android&amp;#x7A0B;&amp;#x5E8F;&amp;#x8BBF;&amp;#x95EE;WPS&amp;#x670D;&amp;#x52A1;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x5C06;word&amp;#x6587;&amp;#x6863;&amp;#x53E6;&amp;#x5B58;&amp;#x4E3A;PDF&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#xFF0C;&amp;#x79C9;&amp;#x7740;TDD&amp;#x7684;&amp;#x7CBE;&amp;#x795E;&amp;#xFF0C;&amp;#x5F00;&amp;#x59CB;&amp;#x5B66;&amp;#x4E60;&amp;#x5982;&amp;#x4F55;&amp;#x5728;Android&amp;#x4E2D;&amp;#x505A;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 2.15em; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x5165;&amp;#x95E8;&lt;/h2&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;JUnit&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9996;&amp;#x5148;&amp;#x770B;&amp;#x5230;&amp;#x7684;&amp;#x662F;Android&amp;#x7684;&amp;#x5B98;&amp;#x7F51;&amp;#x6587;&amp;#x6863;&lt;a href=&#34;https://developer.android.com/training/testing/start/index.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Getting Started with Testing&lt;/a&gt;, &lt;a href=&#34;https://developer.android.com/training/testing/unit-testing/local-unit-tests.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Building Local Unit Tests&lt;/a&gt;&amp;#x3002;&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;&amp;#x8DD1;&amp;#x5728;&amp;#x4E3B;&amp;#x673A;&amp;#x4E0A;&amp;#x7684;&amp;#xFF0C;&amp;#x53EB;Local Unit Test&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x8DD1;&amp;#x5728;&amp;#x76EE;&amp;#x6807;&amp;#x673A;&amp;#x4E0A;&amp;#xFF0C;&amp;#x53EB;Instrumented Unit Test&amp;#x3002; &lt;br&gt;Local Unit Test&amp;#x57FA;&amp;#x4E8E;JUnit&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5173;&amp;#x4E8E;Local Unit Test&amp;#x7684;&amp;#x94FE;&amp;#x63A5;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;&amp;#x5982;&amp;#x4F55;&amp;#x5728;Android Studio&amp;#x4E2D;&amp;#x4F7F;&amp;#x80FD;JUnit&amp;#x7684;&amp;#x8303;&amp;#x4F8B;&amp;#x4E86;&amp;#x3002;&amp;#x914D;&amp;#x7F6E;&amp;#x597D;Dependencies&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E86;&amp;#x3002;Android Studio&amp;#x4F1A;&amp;#x53BB;maven&amp;#x5E93;&amp;#x4E2D;&amp;#x6293;&amp;#x53D6;JUnit&amp;#x7684;jar&amp;#x5305;&amp;#x5E76;&amp;#x5BFC;&amp;#x5165;&amp;#x5230;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x3002; &lt;br&gt;&amp;#x9047;&amp;#x5230;&amp;#x9519;&amp;#x8BEF;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;Error:(23, 17)&amp;quot;Failed to resolve: junit:junit:4.12&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;build.gradle&amp;#x4E0B;&amp;#x9762;&amp;#x52A0;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;repositories&lt;/span&gt; &amp;#123;&lt;br&gt;        &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;maven&lt;/span&gt; &amp;#123; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;apos;http://repo1.maven.org/maven2&amp;apos;&lt;/span&gt; &amp;#125;&lt;br&gt;        jcenter &amp;#123; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;http://jcenter.bintray.com/&amp;quot;&lt;/span&gt; &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6216;&amp;#x8005;&amp;#x81EA;&amp;#x884C;&amp;#x53BB;&amp;#x4E0B;&amp;#x8F7D;junit-4.12.jar&amp;#xFF0C;&amp;#x518D;&amp;#x653E;&amp;#x5230;libs&amp;#x76EE;&amp;#x5F55;&amp;#x5E95;&amp;#x4E0B;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;Mockito&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5728;C++&amp;#x4E2D;&amp;#x505A;Unit Test&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5F80;&amp;#x5F80;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;&amp;#x6784;&amp;#x5EFA;stub&amp;#xFF0C;&amp;#x6765;&amp;#x9694;&amp;#x79BB;&amp;#x9700;&amp;#x8981;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;code&amp;#x3002;&amp;#x5728;Java&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6709;&amp;#x73B0;&amp;#x6210;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&lt;a href=&#34;https://github.com/mockito/mockito&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Mockito&lt;/a&gt;&amp;#x3002;&amp;#x7F51;&amp;#x4E0A;&amp;#x5173;&amp;#x4E8E;Mockito+Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E00;&amp;#x641C;&amp;#x4E00;&amp;#x5927;&amp;#x645E;&amp;#x3002;&amp;#x6211;&amp;#x4E5F;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x6458;&amp;#x5F55;&amp;#x4E86;&amp;#x51E0;&amp;#x4E2A;&amp;#x3002;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/360fa827-de1f-46e7-b815-465c074a5b9e&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E8C;&amp;#xFF1A;Mockito&amp;#x4E0E;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/beaaf776-621e-4fdb-9dca-e6eedc6a1029&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android &amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E4B;JUnit&amp;#x548C;Mockito&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/78565e6e-82eb-4f74-80c8-177863a6499c&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x6700;&amp;#x4F73;Mock&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65B9;&amp;#x6848;:Junit + Mockito + Powermock&lt;/a&gt; &lt;br&gt;Mockito&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x6A21;&amp;#x62DF;&amp;#x5916;&amp;#x90E8;&amp;#x7C7B;&amp;#x7684;&amp;#x884C;&amp;#x4E3A;&amp;#xFF0C;&amp;#x8FBE;&amp;#x5230;&amp;#x9694;&amp;#x79BB;&amp;#x5F85;&amp;#x6D4B;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x3002;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;/1476833497231.png&#34; hash=&#34;24f2966fe93c86710a6f591544903ae1&#34; align alt longdesc width height border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;import&lt;/span&gt; android.os.classA&lt;br&gt;&lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e; font-style: italic;&#34;&gt;B&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;methodC&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f8f8f2;&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;        classA a = &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;new&lt;/span&gt; classA();&lt;br&gt;        a.methodA();&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8BF7;&amp;#x95EE;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x8981;&amp;#x600E;&amp;#x4E48;&amp;#x5728;methodC&amp;#x4E2D;&amp;#x6A21;&amp;#x62DF;&amp;#x5BF9;&amp;#x8C61;A&amp;#x7684;&amp;#x884C;&amp;#x4E3A;&amp;#x3002;&amp;#x8BF8;&amp;#x5982;&amp;#x6B64;&amp;#x7C7B;&amp;#x5F88;&amp;#x591A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x4F1A;&amp;#x5728;&amp;#x4E0B;&amp;#x9762;&amp;#x4E00;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7F57;&amp;#x5217;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#x5728;Google&amp;#x4E4B;&amp;#x4E2D;&amp;#x5C31;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;PowerMock&amp;#x3002;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;PowerMock&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;PowerMock&amp;#x662F;Mock&amp;#x6846;&amp;#x67B6;&amp;#x7684;&amp;#x6269;&amp;#x5C55;&amp;#xFF0C;&amp;#x4ED6;&amp;#x540C;&amp;#x65F6;&amp;#x652F;&amp;#x6301;EasyMock&amp;#x548C;Mockito&amp;#x3002;&amp;#x7F51;&amp;#x4E0A;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E5F;&amp;#x662F;&amp;#x5343;&amp;#x5343;&amp;#x4E07;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x6D4B;&amp;#x8BD5;&amp;#x8BED;&amp;#x53E5;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;&amp;#x4E5F;&amp;#x662F;&amp;#x5404;&amp;#x4E0D;&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x9760;&amp;#x8C31;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;a href=&#34;https://github.com/jayway/powermock&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;&amp;#x5B98;&amp;#x7F51;&lt;/a&gt;&amp;#x3002;PowerMock&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4EE5;&amp;#x4E0B;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;&amp;#x9014;&amp;#x5F84;&amp;#xFF1A;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6A21;&amp;#x62DF;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6A21;&amp;#x62DF;&amp;#x9759;&amp;#x6001;&amp;#x7C7B;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x7A81;&amp;#x7834;&amp;#x8BBF;&amp;#x95EE;&amp;#x6743;&amp;#x9650;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;&amp;#x64CD;&amp;#x7EB5;&amp;#x79C1;&amp;#x6709;&amp;#x6210;&amp;#x5458;&amp;#xFF0C;&amp;#x79C1;&amp;#x6709;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x8C03;&amp;#x7528;&amp;#x79C1;&amp;#x6709;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/li&gt;&lt;/ul&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 2.15em; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x8FDB;&amp;#x9636;&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x7684;&amp;#x7F16;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x9047;&amp;#x5230;&amp;#x5F88;&amp;#x591A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;Google&amp;#x4E86;&amp;#x5F88;&amp;#x4E45;&amp;#xFF0C;&amp;#x73B0;&amp;#x5C06;&amp;#x6240;&amp;#x6709;&amp;#x95EE;&amp;#x9898;&amp;#x4EE5;&amp;#x53CA;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#x7F57;&amp;#x5217;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5BF9;static&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt; mockLooper = mock(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;PowerMockito&lt;/span&gt;.mockStatic(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;PowerMockito&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;getMainLooper&amp;quot;&lt;/span&gt;).thenReturn(mockLooper);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5BF9;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x4E0A;&amp;#x4E00;&amp;#x7AE0;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6A21;&amp;#x62DF;classA&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x6765;&amp;#x89E3;&amp;#x51B3;&amp;#xFF0C;&amp;#x540C;&amp;#x6837;&amp;#x662F;&amp;#x7528;&amp;#x5230;PowerMockito&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;PowerMockito&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.whenNew&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;Intent&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.class&lt;/span&gt;)&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.withNoArguments&lt;/span&gt;()&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.thenReturn&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;mockIntent&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;PowerMockito&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.whenNew&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;Intent&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.class&lt;/span&gt;)&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.withArguments&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;anyString&lt;/span&gt;())&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.thenReturn&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;mockIntent&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9488;&amp;#x5BF9;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x548C;&amp;#x6CA1;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x4E24;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x64CD;&amp;#x4F5C;private&amp;#x6210;&amp;#x5458;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;// &amp;#x64CD;&amp;#x4F5C;&amp;#x79C1;&amp;#x6709;&amp;#x975E;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/span&gt;&lt;br&gt;Whitebox.setInternalState(mockObj, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;value&lt;/span&gt;);&lt;br&gt;Whitebox.getInternalState(mockObj, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;// &amp;#x64CD;&amp;#x4F5C;&amp;#x79C1;&amp;#x6709;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/span&gt;&lt;br&gt;Whitebox.setInternalState(xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;value&lt;/span&gt;, xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;Whitebox.getInternalState(xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5C40;&amp;#x90E8;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4F1A;&amp;#x7528;&amp;#x5230;Mockito&amp;#x4E2D;&amp;#x7684;spy&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x3002;&amp;#x5728;&amp;#x5F88;&amp;#x591A;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x65E0;&amp;#x6CD5;&amp;#x5265;&amp;#x79BB;&amp;#x9700;&amp;#x8981;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;&amp;#x7C7B;&amp;#x548C;&amp;#x5F85;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF0C;&amp;#x5B9E;&amp;#x9645;&amp;#x4E2D;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x7C7B;&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;public &lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f8f8f2;&#34;&gt;ConverterFacade&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e; font-style: italic;&#34;&gt;Service&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;    &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;private&lt;/span&gt; void bindOfficeService()&amp;#123;&lt;br&gt;        &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;if&lt;/span&gt; (bindService(intent, connection, &lt;span style=&#34;line-height: 1.6;&#34;&gt;BIND_AUTO_CREATE&lt;/span&gt;)) &amp;#123;&lt;br&gt;            ...&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;ConverterFacade&amp;#x7EE7;&amp;#x627F;&amp;#x81EA;Android&amp;#x81EA;&amp;#x6709;&amp;#x7684;&amp;#x7C7B;Service&amp;#xFF0C;Service&amp;#x7EE7;&amp;#x627F;&amp;#x81EA;Context&amp;#xFF0C;bindService&amp;#x662F;Context&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5BF9;&amp;#x4E4B;&amp;#x8FDB;&amp;#x884C;mock&amp;#xFF0C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x62A5;&amp;#x9519;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6D4B;&amp;#x8BD5;ConverterFacade&amp;#xFF0C;&amp;#x53C8;&amp;#x4E0D;&amp;#x80FD;&amp;#x5C06;&amp;#x4E4B;mock&amp;#x6389;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EA;&amp;#x80FD;&amp;#x9000;&amp;#x800C;&amp;#x6C42;&amp;#x5176;&amp;#x6B21;&amp;#xFF0C;&amp;#x91C7;&amp;#x7528;partial mock&amp;#x3002;&amp;#x63D2;&amp;#x5165;&amp;#x5B98;&amp;#x7F51;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&lt;a href=&#34;http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy%28T%29&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Mockito.spy&lt;/a&gt;&amp;#x3002;&amp;#x5B98;&amp;#x65B9;&amp;#x5E76;&amp;#x4E0D;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;spy&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x8FD9;&amp;#x6837;&amp;#x4F1A;&amp;#x8BA9;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;code&amp;#x548C;&amp;#x771F;&amp;#x5B9E;&amp;#x7684;code&amp;#x6DF7;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;&amp;#x3002;&lt;/p&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;Real spies should be used &lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;carefully and occasionally&lt;/strong&gt;. &lt;br&gt;&amp;#x4F8B;&amp;#x5B50;&amp;#xFF1A;&lt;/p&gt;&lt;/blockquote&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;   List list = &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;new&lt;/span&gt; LinkedList();&lt;br&gt;   List spy = spy(list);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//optionally, you can stub out some methods:&lt;/span&gt;&lt;br&gt;   when(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;size&lt;/span&gt;()).thenReturn(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;100&lt;/span&gt;);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//using the spy calls real methods&lt;/span&gt;&lt;br&gt;   spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;one&amp;quot;&lt;/span&gt;);&lt;br&gt;   spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;two&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//prints &amp;quot;one&amp;quot; - the first element of a list&lt;/span&gt;&lt;br&gt;   System.out.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;println&lt;/span&gt;(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;));&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//size() method was stubbed - 100 is printed&lt;/span&gt;&lt;br&gt;   System.out.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;println&lt;/span&gt;(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;size&lt;/span&gt;());&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//optionally, you can verify&lt;/span&gt;&lt;br&gt;   verify(spy).&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;one&amp;quot;&lt;/span&gt;);&lt;br&gt;   verify(spy).&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;two&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8981;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;doReturn().when()&lt;/code&gt;&amp;#x800C;&amp;#x4E0D;&amp;#x80FD;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;when().doReturn()&lt;/code&gt;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt; //&lt;span style=&#34;line-height: 1.6;&#34;&gt;Impossible&lt;/span&gt;: real &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;method&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;is&lt;/span&gt; called so spy.get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;) throws &lt;span style=&#34;line-height: 1.6;&#34;&gt;IndexOutOfBoundsException&lt;/span&gt; (the list &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;is&lt;/span&gt; yet empty)&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(spy.get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;)).thenReturn(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;//&lt;span style=&#34;line-height: 1.6;&#34;&gt;You&lt;/span&gt; have to use doReturn() &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;for&lt;/span&gt; stubbing&lt;br&gt;doReturn(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;).&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(spy).get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;java.lang.NoClassDefFoundError&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9047;&amp;#x5230;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E2A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x539F;&amp;#x56E0;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x5BFC;&amp;#x5165;moffice-service-base&amp;#x5305;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x5F04;&amp;#x597D;&amp;#x5C31;&amp;#x884C;&amp;#x4E86;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;/1476841513603.png&#34; hash=&#34;3e0e82cf948615d59ce5b84bb1d626be&#34; align alt longdesc width height border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;&lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;java.lang.ClassNotFoundException&lt;/strong&gt; &lt;br&gt;This exception indicates that the class was not found on the classpath. This indicates that we were trying to load the class definition, and the class did not exist on the classpath. &lt;br&gt;&lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;java.lang.NoClassDefFoundError&lt;/strong&gt; &lt;br&gt;This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it. This is different than saying that it could not be loaded from the classpath. Usually this indicates that we previously attempted to load a class from the classpath, but it failed for some reason - now we&amp;#x2019;re trying to use the class again (and thus need to load it, since it failed last time), but we&amp;#x2019;re not even going to try to load it, because we failed loading it earlier (and reasonably suspect that we would fail again). The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block) or any number of other problems. The point is, a NoClassDefFoundError is not necessarily a classpath problem.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;mockStatic&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;&amp;#x65E0;&amp;#x6CD5;&amp;#x6709;&amp;#x6548;&amp;#x5F15;&amp;#x7528;&amp;#x5916;&amp;#x90E8;&amp;#x7C7B;&amp;#x7684;&amp;#x6210;&amp;#x5458;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8981;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;mockStatic(ConverterFacade.class);&lt;/code&gt;&amp;#x8981;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;mockStatic(ConverterFacade.class, CALLS_REAL_METHODS);&lt;/code&gt;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x6355;&amp;#x83B7;&amp;#x53C2;&amp;#x6570;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;Message &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt; = mock(Message.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;.what = 1;&lt;br&gt;Handler mHandler = mock(Handler.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;mHandler.sendMessage(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;.what = 2;&lt;br&gt;mHandler.sendMessage(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;);&lt;br&gt;&lt;br&gt;ArgumentCaptor&amp;lt;Message&amp;gt; argumentCaptor2 = ArgumentCaptor.forClass(Message.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;verify(mHandler, times(2)).sendMessage(argumentCaptor2.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;capture&lt;/span&gt;());&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;List&lt;/span&gt;&amp;lt;Message&amp;gt; msgList = argumentCaptor2.getAllValues();&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;ArgumentCaptor&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6355;&amp;#x83B7;&amp;#x53C2;&amp;#x6570;&amp;#x8C03;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;&amp;#x3002;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;argumentCaptor.getValue()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;argumentCaptor.getAllValues()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;&amp;#x591A;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x6216;&amp;#x8005;&amp;#x4E00;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x4F20;&amp;#x9012;&amp;#x591A;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x3002; &lt;br&gt;&amp;#x8FD9;&amp;#x5176;&amp;#x4E2D;&amp;#x7275;&amp;#x6D89;&amp;#x5230;Java&amp;#x5BF9;&amp;#x8C61;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x4E0A;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x6700;&amp;#x7EC8;&amp;#x5F97;&amp;#x5230;&amp;#x7684;List&amp;#x7684;size&amp;#x662F;2&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x8868;&amp;#x9879;&amp;#x7684;what&amp;#x503C;&amp;#x90FD;&amp;#x6307;&amp;#x5411;2&amp;#xFF0C;&amp;#x7528;Android Studio&amp;#x67E5;&amp;#x770B;&amp;#x5BF9;&amp;#x8C61;&amp;#x5730;&amp;#x5740;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x8FD9;&amp;#x4FE9;&amp;#x90FD;&amp;#x6307;&amp;#x5411;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5176;&amp;#x503C;&amp;#x76F8;&amp;#x540C;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E0D;&amp;#x96BE;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x8981;&amp;#x6355;&amp;#x83B7;&amp;#x5230;&amp;#x4E24;&amp;#x4E2A;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x5C31;&amp;#x8981;new&amp;#x4E24;&amp;#x6B21;&amp;#x3002;&lt;/p&gt;&lt;/div&gt;&lt;center style=&#34;display:none&#34;&gt;%23Android%u5355%u5143%u6D4B%u8BD5%0A@%28%u5B66%u4E60%u7B14%u8BB0%29%5BAndroid%2C%20unittest%2C%20mockito%2C%20powermock%5D%0A%u4ECA%u65E5%u5728%u505A%u5FAE%u4FE1IoT%u6253%u5370%u673A%u7684%u9879%u76EE%uFF0C%u5176%u4E2D%u6D89%u53CA%u5230%u7528Android%u7A0B%u5E8F%u8BBF%u95EEWPS%u670D%u52A1%u6765%u5B9E%u73B0%u5C06word%u6587%u6863%u53E6%u5B58%u4E3APDF%u7684%u529F%u80FD%u3002%u4E8E%u662F%uFF0C%u79C9%u7740TDD%u7684%u7CBE%u795E%uFF0C%u5F00%u59CB%u5B66%u4E60%u5982%u4F55%u5728Android%u4E2D%u505A%u5355%u5143%u6D4B%u8BD5%u3002%0A%23%23%u5165%u95E8%0A%23%23%23JUnit%0A%u9996%u5148%u770B%u5230%u7684%u662FAndroid%u7684%u5B98%u7F51%u6587%u6863%5BGetting%20Started%20with%20Testing%5D%28https%3A//developer.android.com/training/testing/start/index.html%29%2C%20%5BBuilding%20Local%20Unit%20Tests%5D%28https%3A//developer.android.com/training/testing/unit-testing/local-unit-tests.html%29%u3002%u6709%u4E24%u79CD%u7C7B%u578B%u7684%u6D4B%u8BD5%uFF0C%u4E00%u79CD%u662F%u8DD1%u5728%u4E3B%u673A%u4E0A%u7684%uFF0C%u53EBLocal%20Unit%20Test%uFF0C%u53E6%u4E00%u79CD%u8DD1%u5728%u76EE%u6807%u673A%u4E0A%uFF0C%u53EBInstrumented%20Unit%20Test%u3002%0ALocal%20Unit%20Test%u57FA%u4E8EJUnit%uFF0C%u4E0A%u9762%u7684%u5173%u4E8ELocal%20Unit%20Test%u7684%u94FE%u63A5%u5DF2%u7ECF%u6709%u4E86%u5982%u4F55%u5728Android%20Studio%u4E2D%u4F7F%u80FDJUnit%u7684%u8303%u4F8B%u4E86%u3002%u914D%u7F6E%u597DDependencies%u5C31%u53EF%u4EE5%u4E86%u3002Android%20Studio%u4F1A%u53BBmaven%u5E93%u4E2D%u6293%u53D6JUnit%u7684jar%u5305%u5E76%u5BFC%u5165%u5230%u9879%u76EE%u4E2D%uFF0C%u4E4B%u540E%u5C31%u53EF%u4EE5%u4F7F%u7528%u4E86%u3002%0A%u9047%u5230%u9519%u8BEF%60Error%3A%2823%2C%2017%29%22Failed%20to%20resolve%3A%20junit%3Ajunit%3A4.12%60%uFF0C%u5728build.gradle%u4E0B%u9762%u52A0%0A%60%60%60%0Arepositories%20%7B%0A%20%20%20%20%20%20%20%20maven%20%7B%20url%20%27http%3A//repo1.maven.org/maven2%27%20%7D%0A%20%20%20%20%20%20%20%20jcenter%20%7B%20url%20%22http%3A//jcenter.bintray.com/%22%20%7D%0A%7D%0A%60%60%60%0A%u6216%u8005%u81EA%u884C%u53BB%u4E0B%u8F7Djunit-4.12.jar%uFF0C%u518D%u653E%u5230libs%u76EE%u5F55%u5E95%u4E0B%u5C31%u53EF%u4EE5%u4E86%u3002%0A%0A%23%23%23Mockito%0A%u5728C++%u4E2D%u505AUnit%20Test%u7684%u65F6%u5019%uFF0C%u6211%u4EEC%u5F80%u5F80%u9700%u8981%u81EA%u5DF1%u6784%u5EFAstub%uFF0C%u6765%u9694%u79BB%u9700%u8981%u6D4B%u8BD5%u7684code%u3002%u5728Java%u4E2D%uFF0C%u6211%u4EEC%u6709%u73B0%u6210%u7684%u6846%u67B6%u53EF%u4EE5%u7528%uFF0C%u8FD9%u5C31%u662F%5BMockito%5D%28https%3A//github.com/mockito/mockito%29%u3002%u7F51%u4E0A%u5173%u4E8EMockito+Android%u5355%u5143%u6D4B%u8BD5%u7684%u6587%u7AE0%u4E00%u641C%u4E00%u5927%u645E%u3002%u6211%u4E5F%u7B80%u5355%u7684%u6458%u5F55%u4E86%u51E0%u4E2A%u3002%0A-%20%5BAndroid%u6D4B%u8BD5%u4E8C%uFF1AMockito%u4E0E%u5355%u5143%u6D4B%u8BD5%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/360fa827-de1f-46e7-b815-465c074a5b9e%29%0A-%20%5BAndroid%20%u5355%u5143%u6D4B%u8BD5%u4E4BJUnit%u548CMockito%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/beaaf776-621e-4fdb-9dca-e6eedc6a1029%29%0A-%20%5BAndroid%u6700%u4F73Mock%u5355%u5143%u6D4B%u8BD5%u65B9%u6848%3AJunit%20+%20Mockito%20+%20Powermock%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/78565e6e-82eb-4f74-80c8-177863a6499c%29%0AMockito%u7684%u4E3B%u8981%u4F5C%u7528%u5C31%u662F%u6A21%u62DF%u5916%u90E8%u7C7B%u7684%u884C%u4E3A%uFF0C%u8FBE%u5230%u9694%u79BB%u5F85%u6D4B%u4EE3%u7801%u7684%u76EE%u7684%u3002%u5982%u4E0B%u56FE%u3002%0A%21%5BAlt%20text%5D%28./1476833497231.png%29%0A%u5728Android%u7684%u6D4B%u8BD5%u4E2D%uFF0CMockito%u7684%u4E3B%u8981%u4F5C%u7528%u5C31%u662F%u6A21%u62DF%u6240%u6709Android%u7684%u7C7B%u3002%60ClassA%20mockObj%20%3D%20mock%28ClassA%29%60%u5C31%u4F1A%u751F%u6210%u4E00%u4E2Amock%u7684%u5BF9%u8C61%u3002%u7136%u540E%u6211%u4EEC%u5C31%u53EF%u4EE5%u901A%u8FC7Mockito%u63D0%u4F9B%u7684%u5404%u79CD%u624B%u6BB5%u6765%u5B9A%u5236%u8FD9%u4E2A%u5BF9%u8C61%u7684%u5404%u79CD%u884C%u4E3A%u3002%u4F46%u8FD9%u6709%u5F88%u5927%u7684%u5C40%u9650%u6027%u3002%u770B%u4E0B%u9762%u7684%u4EE3%u7801%0A%60%60%60%0Aimport%20android.os.classA%0Aclass%20B%20%7B%0A%09public%20void%20methodC%20%28%29%7B%0A%09%09classA%20a%20%3D%20new%20classA%28%29%3B%0A%09%09a.methodA%28%29%3B%0A%09%7D%0A%7D%0A%60%60%60%0A%u8BF7%u95EE%u8FD9%u91CC%u6211%u8981%u600E%u4E48%u5728methodC%u4E2D%u6A21%u62DF%u5BF9%u8C61A%u7684%u884C%u4E3A%u3002%u8BF8%u5982%u6B64%u7C7B%u5F88%u591A%u95EE%u9898%uFF0C%u4F1A%u5728%u4E0B%u9762%u4E00%u7AE0%u8FDB%u884C%u7F57%u5217%u3002%u4E8E%u662F%u5728Google%u4E4B%u4E2D%u5C31%u77E5%u9053%u4E86PowerMock%u3002%0A%0A%23%23%23PowerMock%0APowerMock%u662FMock%u6846%u67B6%u7684%u6269%u5C55%uFF0C%u4ED6%u540C%u65F6%u652F%u6301EasyMock%u548CMockito%u3002%u7F51%u4E0A%u7684%u6587%u7AE0%u4E5F%u662F%u5343%u5343%u4E07%uFF0C%u5177%u4F53%u6D4B%u8BD5%u8BED%u53E5%u7684%u5199%u6CD5%u4E5F%u662F%u5404%u4E0D%u76F8%u540C%uFF0C%u6240%u4EE5%u6700%u9760%u8C31%u7684%u8FD8%u662F%5B%u5B98%u7F51%5D%28https%3A//github.com/jayway/powermock%29%u3002PowerMock%u63D0%u4F9B%u4E86%u4EE5%u4E0B%u6A21%u62DF%u7684%u9014%u5F84%uFF1A%0A-%20%u6A21%u62DF%u6784%u9020%u51FD%u6570%0A-%20%u6A21%u62DF%u9759%u6001%u7C7B%0A-%20%u7A81%u7834%u8BBF%u95EE%u6743%u9650%u63A7%u5236%uFF0C%u64CD%u7EB5%u79C1%u6709%u6210%u5458%uFF0C%u79C1%u6709%u9759%u6001%u6210%u5458%0A-%20%u8C03%u7528%u79C1%u6709%u65B9%u6CD5%u3002%0A%0A%23%23%u8FDB%u9636%0A%u5728%u5B9E%u9645%u7684%u7F16%u7801%u8FC7%u7A0B%u4E2D%uFF0C%u9047%u5230%u5F88%u591A%u95EE%u9898%uFF0CGoogle%u4E86%u5F88%u4E45%uFF0C%u73B0%u5C06%u6240%u6709%u95EE%u9898%u4EE5%u53CA%u89E3%u51B3%u65B9%u6848%u7F57%u5217%u4E00%u4E0B%uFF1A%0A%23%23%23%20%u5BF9static%u65B9%u6CD5%u7684%u6A21%u62DF%0A%60%60%60%0ALooper%20mockLooper%20%3D%20mock%28Looper.class%29%3B%0APowerMockito.mockStatic%28Looper.class%29%3B%0APowerMockito.when%28Looper.class%2C%20%22getMainLooper%22%29.thenReturn%28mockLooper%29%3B%0A%60%60%60%0A%0A%23%23%23%u5BF9%u6784%u9020%u51FD%u6570%u7684%u6A21%u62DF%0A%u89E3%u51B3%u4E0A%u4E00%u7AE0%u63D0%u5230%u7684%u95EE%u9898%uFF0C%u53EF%u4EE5%u7528%u6A21%u62DFclassA%u7684%u6784%u9020%u51FD%u6570%u6765%u89E3%u51B3%uFF0C%u540C%u6837%u662F%u7528%u5230PowerMockito%0A%60%60%60%0APowerMockito.whenNew%28Intent.class%29.withNoArguments%28%29.thenReturn%28mockIntent%29%3B%0APowerMockito.whenNew%28Intent.class%29.withArguments%28anyString%28%29%29.thenReturn%28mockIntent%29%3B%0A%60%60%60%0A%u9488%u5BF9%u6709%u53C2%u6570%u548C%u6CA1%u6709%u53C2%u6570%u7684%u4E24%u79CD%u60C5%u51B5%0A%0A%23%23%23%u64CD%u4F5Cprivate%u6210%u5458%0A%60%60%60%0A//%20%u64CD%u4F5C%u79C1%u6709%u975E%u9759%u6001%u6210%u5458%0AWhitebox.setInternalState%28mockObj%2C%20%22mPrivateStaticVariable%22%2C%20value%29%3B%0AWhitebox.getInternalState%28mockObj%2C%20%22mPrivateStaticVariable%22%29%3B%0A%0A//%20%u64CD%u4F5C%u79C1%u6709%u9759%u6001%u6210%u5458%0AWhitebox.setInternalState%28xxx.class%2C%20%22mPrivateStaticVariable%22%2C%20value%2C%20xxx.class%29%3B%0AWhitebox.getInternalState%28xxx.class%2C%20%22mPrivateStaticVariable%22%2C%20xxx.class%29%3B%0A%60%60%60%0A%0A%23%23%23%u5C40%u90E8%u6A21%u62DF%0A%u8FD9%u4E2A%u4F1A%u7528%u5230Mockito%u4E2D%u7684spy%u5173%u952E%u5B57%u3002%u5728%u5F88%u591A%u60C5%u51B5%u4E0B%uFF0C%u6211%u4EEC%u65E0%u6CD5%u5265%u79BB%u9700%u8981%u6A21%u62DF%u7684%u7C7B%u548C%u5F85%u6D4B%u8BD5%u7684%u7C7B%u3002%u4F8B%u5982%uFF0C%u5B9E%u9645%u4E2D%u7528%u5230%u7684%u4E0B%u9762%u7684%u7C7B%uFF1A%0A%60%60%60%0Apublic%20class%20ConverterFacade%20extends%20Service%7B%0A%09private%20void%20bindOfficeService%28%29%7B%0A%09%09if%20%28bindService%28intent%2C%20connection%2C%20BIND_AUTO_CREATE%29%29%20%7B%0A%09%09%09...%0A%09%09%7D%0A%09%7D%0A%7D%0A%60%60%60%0AConverterFacade%u7EE7%u627F%u81EAAndroid%u81EA%u6709%u7684%u7C7BService%uFF0CService%u7EE7%u627F%u81EAContext%uFF0CbindService%u662FContext%u63A5%u53E3%u7684%u4E00%u4E2A%u65B9%u6CD5%u3002%u5982%u679C%u4E0D%u5BF9%u4E4B%u8FDB%u884Cmock%uFF0C%u6D4B%u8BD5%u7684%u65F6%u5019%u4F1A%u62A5%u9519%u3002%u56E0%u4E3A%u6211%u4EEC%u8981%u6D4B%u8BD5ConverterFacade%uFF0C%u53C8%u4E0D%u80FD%u5C06%u4E4Bmock%u6389%uFF0C%u6240%u4EE5%u53EA%u80FD%u9000%u800C%u6C42%u5176%u6B21%uFF0C%u91C7%u7528partial%20mock%u3002%u63D2%u5165%u5B98%u7F51%u7684%u4ECB%u7ECD%uFF0C%5BMockito.spy%5D%28http%3A//site.mockito.org/mockito/docs/current/org/mockito/Mockito.html%23spy%28T%29%29%u3002%u5B98%u65B9%u5E76%u4E0D%u63A8%u8350%u4F7F%u7528spy%uFF0C%u56E0%u4E3A%u8FD9%u6837%u4F1A%u8BA9%u6A21%u62DF%u7684code%u548C%u771F%u5B9E%u7684code%u6DF7%u5728%u4E00%u8D77%u3002%0A%3E%20Real%20spies%20should%20be%20used%20**carefully%20and%20occasionally**.%0A%u4F8B%u5B50%uFF1A%0A%60%60%60%0A%20%20%20List%20list%20%3D%20new%20LinkedList%28%29%3B%0A%20%20%20List%20spy%20%3D%20spy%28list%29%3B%0A%0A%20%20%20//optionally%2C%20you%20can%20stub%20out%20some%20methods%3A%0A%20%20%20when%28spy.size%28%29%29.thenReturn%28100%29%3B%0A%0A%20%20%20//using%20the%20spy%20calls%20real%20methods%0A%20%20%20spy.add%28%22one%22%29%3B%0A%20%20%20spy.add%28%22two%22%29%3B%0A%0A%20%20%20//prints%20%22one%22%20-%20the%20first%20element%20of%20a%20list%0A%20%20%20System.out.println%28spy.get%280%29%29%3B%0A%0A%20%20%20//size%28%29%20method%20was%20stubbed%20-%20100%20is%20printed%0A%20%20%20System.out.println%28spy.size%28%29%29%3B%0A%0A%20%20%20//optionally%2C%20you%20can%20verify%0A%20%20%20verify%28spy%29.add%28%22one%22%29%3B%0A%20%20%20verify%28spy%29.add%28%22two%22%29%3B%0A%60%60%60%0A%u4E3A%u4EC0%u4E48%u8981%u7528%60doReturn%28%29.when%28%29%60%u800C%u4E0D%u80FD%u7528%60when%28%29.doReturn%28%29%60%0A%60%60%60%0A%20//Impossible%3A%20real%20method%20is%20called%20so%20spy.get%280%29%20throws%20IndexOutOfBoundsException%20%28the%20list%20is%20yet%20empty%29%0Awhen%28spy.get%280%29%29.thenReturn%28%22foo%22%29%3B%0A%0A//You%20have%20to%20use%20doReturn%28%29%20for%20stubbing%0AdoReturn%28%22foo%22%29.when%28spy%29.get%280%29%3B%0A%60%60%60%0A%0A%23%23%23java.lang.NoClassDefFoundError%0A%u9047%u5230%u4E86%u8FD9%u4E2A%u95EE%u9898%uFF0C%u539F%u56E0%u662F%u6CA1%u6709%u5BFC%u5165moffice-service-base%u5305%u3002%u5728%u8FD9%u91CC%u5F04%u597D%u5C31%u884C%u4E86%0A%21%5BAlt%20text%5D%28./1476841513603.png%29%0A%u4E0D%u8FC7%u521A%u770B%u5230%u8FD9%u4E2Aexception%u7684%u65F6%u5019%uFF0C%u4E5F%u633A%u552C%u4EBA%u7684%u3002%u5728StackOverflow%u4E0A%u641C%u5230%u4E86%u8FD9%u4E2A%u5E16%u5B50%uFF0C%u4E5F%u7B97%u662F%u5BF9%u8FD9%u4E2A%u9519%u8BEF%u7684%u4E00%u4E2A%u5C0F%u5C0F%u7684%u5165%u95E8%uFF1A%0A%3E%20**java.lang.ClassNotFoundException**%0A%3E%20This%20exception%20indicates%20that%20the%20class%20was%20not%20found%20on%20the%20classpath.%20This%20indicates%20that%20we%20were%20trying%20to%20load%20the%20class%20definition%2C%20and%20the%20class%20did%20not%20exist%20on%20the%20classpath.%0A%3E**java.lang.NoClassDefFoundError**%0A%3EThis%20exception%20indicates%20that%20the%20JVM%20looked%20in%20its%20internal%20class%20definition%20data%20structure%20for%20the%20definition%20of%20a%20class%20and%20did%20not%20find%20it.%20This%20is%20different%20than%20saying%20that%20it%20could%20not%20be%20loaded%20from%20the%20classpath.%20Usually%20this%20indicates%20that%20we%20previously%20attempted%20to%20load%20a%20class%20from%20the%20classpath%2C%20but%20it%20failed%20for%20some%20reason%20-%20now%20we%27re%20trying%20to%20use%20the%20class%20again%20%28and%20thus%20need%20to%20load%20it%2C%20since%20it%20failed%20last%20time%29%2C%20but%20we%27re%20not%20even%20going%20to%20try%20to%20load%20it%2C%20because%20we%20failed%20loading%20it%20earlier%20%28and%20reasonably%20suspect%20that%20we%20would%20fail%20again%29.%20The%20earlier%20failure%20could%20be%20a%20ClassNotFoundException%20or%20an%20ExceptionInInitializerError%20%28indicating%20a%20failure%20in%20the%20static%20initialization%20block%29%20or%20any%20number%20of%20other%20problems.%20The%20point%20is%2C%20a%20NoClassDefFoundError%20is%20not%20necessarily%20a%20classpath%20problem.%0A%0A%23%23%23mockStatic%u5BFC%u81F4%u5185%u90E8%u7C7B%u65E0%u6CD5%u6709%u6548%u5F15%u7528%u5916%u90E8%u7C7B%u7684%u6210%u5458%0A%u89E3%u51B3%u65B9%u6CD5%u662F%uFF0C%u4E0D%u8981%60mockStatic%28ConverterFacade.class%29%3B%60%u8981%60mockStatic%28ConverterFacade.class%2C%20CALLS_REAL_METHODS%29%3B%60%0A%0A%23%23%23%u6355%u83B7%u53C2%u6570%0A%60%60%60%0AMessage%20m%20%3D%20mock%28Message.class%29%3B%0Am.what%20%3D%201%3B%0AHandler%20mHandler%20%3D%20mock%28Handler.class%29%3B%0AmHandler.sendMessage%28m%29%3B%0A%0Am.what%20%3D%202%3B%0AmHandler.sendMessage%28m%29%3B%0A%0AArgumentCaptor%3CMessage%3E%20argumentCaptor2%20%3D%20ArgumentCaptor.forClass%28Message.class%29%3B%0Averify%28mHandler%2C%20times%282%29%29.sendMessage%28argumentCaptor2.capture%28%29%29%3B%0AList%3CMessage%3E%20msgList%20%3D%20argumentCaptor2.getAllValues%28%29%3B%0A%60%60%60%0AArgumentCaptor%u53EF%u4EE5%u5E2E%u52A9%u6355%u83B7%u53C2%u6570%u8C03%u7528%u60C5%u51B5%u3002%60argumentCaptor.getValue%28%29%60%u53EF%u4EE5%u6355%u83B7%u6700%u540E%u4E00%u6B21%u8C03%u7528%u7684%u53C2%u6570%uFF0C%60argumentCaptor.getAllValues%28%29%60%u53EF%u4EE5%u6355%u83B7%u591A%u6B21%u8C03%u7528%u6216%u8005%u4E00%u6B21%u8C03%u7528%u4F20%u9012%u591A%u4E2A%u53C2%u6570%u7684%u60C5%u51B5%u3002%0A%u8FD9%u5176%u4E2D%u7275%u6D89%u5230Java%u5BF9%u8C61%u4F20%u9012%u7684%u65B9%u6CD5%u3002%u5982%u4E0A%u7A0B%u5E8F%u4EE3%u7801%uFF0C%u867D%u7136%u6700%u7EC8%u5F97%u5230%u7684List%u7684size%u662F2%uFF0C%u4F46%u662F%u8FD9%u4E24%u4E2A%u8868%u9879%u7684what%u503C%u90FD%u6307%u54112%uFF0C%u7528Android%20Studio%u67E5%u770B%u5BF9%u8C61%u5730%u5740%uFF0C%u53D1%u73B0%u8FD9%u4FE9%u90FD%u6307%u5411%u540C%u4E00%u4E2A%u5BF9%u8C61%uFF0C%u6240%u4EE5%u5176%u503C%u76F8%u540C%u4E5F%u5C31%u4E0D%u96BE%u7406%u89E3%u4E86%u3002%u5982%u679C%u60F3%u8981%u6355%u83B7%u5230%u4E24%u4E2A%u4E0D%u540C%u7684%u503C%uFF0C%u5C31%u8981new%u4E24%u6B21%u3002&lt;/center&gt;&lt;br&gt;&lt;/div&gt;</content>
        <category term="Android" />
        <category term="unittest" />
        <category term="mockito" />
        <category term="powermock" />
        <updated>2016-10-18T23:41:45.000Z</updated>
    </entry>
</feed>
