<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.zhougy.top</id>
    <title>Big Ben • Posts by &#34;android&#34; tag</title>
    <link href="https://blog.zhougy.top" />
    <updated>2018-04-21T23:56:16.000Z</updated>
    <category term="javascript" />
    <category term="angular" />
    <category term="操作系统" />
    <category term="arm" />
    <category term="单片机" />
    <category term="machine learning" />
    <category term="deep learning" />
    <category term="Linux" />
    <category term="内存管理" />
    <category term="Markdown" />
    <category term="python" />
    <category term="win32com" />
    <category term="nas" />
    <category term="synology" />
    <category term="USB" />
    <category term="Linux Device Drivers" />
    <category term="uboot" />
    <category term="http" />
    <category term="同步" />
    <category term="读书笔记" />
    <category term="程序员修炼之道" />
    <category term="算法" />
    <category term="c/c++" />
    <category term="hexo" />
    <category term="security" />
    <category term="SELinux" />
    <category term="编译" />
    <category term="C++" />
    <category term="capability" />
    <category term="LD_PRELOAD" />
    <category term="coding" />
    <category term="UT" />
    <category term="TDD" />
    <category term="code review" />
    <category term="committer" />
    <category term="印象笔记" />
    <category term="Obsidian" />
    <category term="群晖" />
    <category term="Calibre" />
    <category term="电子书" />
    <category term="Android" />
    <category term="xposed" />
    <category term="GitHub" />
    <category term="中断处理" />
    <category term="docker" />
    <category term="ttrss" />
    <category term="rsshub" />
    <category term="wallabag" />
    <category term="unittest" />
    <category term="mockito" />
    <category term="powermock" />
    <category term="QT" />
    <category term="nlp" />
    <category term="vim" />
    <category term="SpaceVim" />
    <category term="tmux" />
    <category term="promise" />
    <category term="面向对象" />
    <category term="mongodb" />
    <category term="Programming" />
    <category term="C++11" />
    <category term="IoT" />
    <category term="broadlink" />
    <category term="domoticz" />
    <category term="UML" />
    <category term="socket" />
    <category term="iptables" />
    <category term="neural network" />
    <category term="mock" />
    <category term="深度学习" />
    <category term="schedule algorithm" />
    <category term="glibc" />
    <category term="gtest" />
    <category term="gmock" />
    <category term="golang" />
    <category term="elf" />
    <category term="软件开发" />
    <category term="设计模式" />
    <entry>
        <id>https://blog.zhougy.top/2018/04/22/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95(%E4%BA%8C)_-_Roboletric_+_Powermock/</id>
        <title>Android单元测试(二) - Roboletric + Powermock</title>
        <link rel="alternate" href="https://blog.zhougy.top/2018/04/22/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95(%E4%BA%8C)_-_Roboletric_+_Powermock/"/>
        <content type="html">&lt;!DOCTYPE en-note SYSTEM &#39;http://xml.evernote.com/pub/enml2.dtd&#39;&gt;&lt;div class=&#34;enNote&#34; style=&#34;color: #2c3f51; line-height: 1.6; background: none;&#34; title lang=&#34;v2&#34; xml:lang dir&gt;&lt;del style=&#34;position:relative;display:block;z-index:10;&#34;&gt;&lt;a style=&#34;position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;&#34; href=&#34;http://maxiang.info/#/?provider=evernote&amp;amp;guid=d168d11e-2deb-4f55-9005-c03b345f4a48&amp;amp;notebook=myblog&#34;&gt;Edit&lt;/a&gt;&lt;/del&gt;&lt;div style=&#34;color: #2c3f51; line-height: 1.6;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;2016&amp;#x5E74;&amp;#x5728;&amp;#x505A;&amp;#x5FAE;&amp;#x4FE1;&amp;#x6253;&amp;#x5370;Android agent app&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x7814;&amp;#x7A76;&amp;#x8FC7;&amp;#x5982;&amp;#x4F55;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;Android app&amp;#x7684;&amp;#x65F6;&amp;#x5019;TDD&amp;#x3002;&amp;#x8BE6;&amp;#x7EC6;&amp;#x53C2;&amp;#x8003;&amp;#x6B64;&amp;#x7BC7;&amp;#x535A;&amp;#x6587;&lt;a href=&#34;https://zhougy0717.github.io/2016/10/19/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&lt;/a&gt;&amp;#x3002; &lt;br&gt;&amp;#x5F53;&amp;#x65F6;&amp;#x7684;&amp;#x6700;&amp;#x7EC8;&amp;#x65B9;&amp;#x6848;&amp;#x662F;&amp;#xFF1A;Powermock + Mockito + JUnit&amp;#x505A;&lt;a href=&#34;https://developer.android.com/training/testing/unit-testing/local-unit-tests.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;local test&lt;/a&gt;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x8981;Mock&amp;#x5404;&amp;#x79CD;Android SDK&amp;#x4E2D;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x88AB;&amp;#x65E0;&amp;#x529B;&amp;#x63A7;&amp;#x5236;&amp;#x7684;&amp;#x6050;&amp;#x60E7;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5728;&amp;#x505A;Niwatori&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x8FDF;&amp;#x8FDF;&amp;#x6CA1;&amp;#x6709;&amp;#x5F00;&amp;#x5C55;TDD&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x6700;&amp;#x8FD1;&amp;#x6DFB;&amp;#x52A0;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x7A0D;&amp;#x5FAE;&amp;#x6709;&amp;#x70B9;&amp;#x590D;&amp;#x6742;&amp;#x4E86;&amp;#xFF0C;&amp;#x611F;&amp;#x89C9;&amp;#x5404;&amp;#x79CD;&amp;#x4E0D;&amp;#x987A;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8003;&amp;#x8651;&amp;#x91CD;&amp;#x65B0;&amp;#x62FE;&amp;#x8D77;TDD&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#x6709;&amp;#x4E86;&amp;#x5404;&amp;#x79CD;&amp;#x6298;&amp;#x817E;&amp;#xFF0C;&amp;#x5E76;&amp;#x9A8C;&amp;#x8BC1;&amp;#x4E86;&amp;#x4E4B;&amp;#x524D;&amp;#x65E0;&amp;#x529B;&amp;#x7684;&amp;#x6050;&amp;#x60E7;&amp;#x540E;&amp;#x7684;&amp;#x8FD9;&amp;#x4E00;&amp;#x7BC7;&amp;#x3002;&amp;#x4E0D;&amp;#x8FC7;&amp;#x7ED3;&amp;#x679C;&amp;#x597D;&amp;#x7684;&amp;#x662F;&amp;#x770B;&amp;#x8D77;&amp;#x6765;&amp;#x627E;&amp;#x5230;&amp;#x4E86;&amp;#x4E00;&amp;#x6761;Android app TDD&amp;#x5F00;&amp;#x53D1;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x8DEF;&amp;#x5B50;&amp;#x3002;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8FD9;&amp;#x4E00;&amp;#x5207;&amp;#x90FD;&amp;#x8981;&amp;#x5F52;&amp;#x529F;&amp;#x4E8E;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;Roboletric&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8D77;&amp;#x521D;&amp;#x7684;&amp;#x76F8;&amp;#x8BC6;&amp;#x8FD8;&amp;#x662F;&amp;#x5728;&lt;a href=&#34;https://developer.android.com/training/testing/fundamentals.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android developer&amp;#x5B98;&amp;#x7F51;&amp;#x5173;&amp;#x4E8E;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x9875;&amp;#x9762;&lt;/a&gt;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x5728;&amp;#x641C;&amp;#x7D22;Powermock&amp;#x7528;&amp;#x6CD5;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x770B;&amp;#x5230;&amp;#x5F88;&amp;#x591A;&amp;#x5E16;&amp;#x5B50;&amp;#x90FD;&amp;#x63D0;&amp;#x5230;&amp;#x4E86;roboletric&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x8BA4;&amp;#x8BC6;&amp;#x5230;Mockito + Powermock&amp;#x7684;&amp;#x5F31;&amp;#x70B9;(&amp;#x5982;&amp;#x4E0B;)&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x51B3;&amp;#x5B9A;&amp;#x8F6C;&amp;#x5411;roboletric&amp;#x3002;&lt;/p&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;Mockito&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x4E0D;&amp;#x80FD;mock final class/method&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x4E0D;&amp;#x80FD;mock private/static&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;Powermock&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 0; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;mock&amp;#x5404;&amp;#x79CD;class&amp;#xFF0C;&amp;#x5F53;&amp;#x51FD;&amp;#x6570;&amp;#x5927;&amp;#x4E86;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x4F1A;&amp;#x5F15;&amp;#x7528;&amp;#x975E;&amp;#x5E38;&amp;#x591A;&amp;#x7684;Android&amp;#x7C7B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F1A;&amp;#x8BA9;&amp;#x4EBA;&amp;#x611F;&amp;#x5230;&amp;#x5F88;&amp;#x65E0;&amp;#x529B;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;Android app&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;Android SDK&amp;#x4EE5;android.jar&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x53C2;&amp;#x4E0E;&amp;#x7F16;&amp;#x8BD1;&amp;#x3002;&amp;#x800C;&amp;#x8FD9;&amp;#x4E2A;android.jar&amp;#x4E2D;&amp;#x7684;&amp;#x5404;&amp;#x4E2A;&amp;#x7C7B;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x5177;&amp;#x4F53;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;stub&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x7ECF;&amp;#x8FC7;mock&amp;#x5C31;&amp;#x76F4;&amp;#x63A5;&amp;#x5728;Unit Test&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;Android&amp;#x7C7B;&amp;#x5C31;&amp;#x4F1A;&amp;#x51FA;&amp;#x73B0;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;Error java.lang.RuntimeException: Stub!&lt;/code&gt;&amp;#x9519;&amp;#x8BEF;&amp;#x3002; &lt;br&gt;Roboletric&amp;#x5C31;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x6D88;&amp;#x9664;&amp;#x8FD9;&amp;#x79CD;&amp;#x9519;&amp;#x8BEF;&amp;#x8BDE;&amp;#x751F;&amp;#x7684;&amp;#x3002;&amp;#x5B83;&amp;#x4E3A;&amp;#x6240;&amp;#x6709;&amp;#x7684;Android&amp;#x7C7B;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x53EF;&amp;#x4EE5;&amp;#x8DD1;&amp;#x5728;PC&amp;#x7AEF;JVM&amp;#x4E0B;&amp;#x7684;class&amp;#x3002;&amp;#x800C;&amp;#x4E14;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;&amp;#x989D;&amp;#x5916;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x505A;&amp;#x9694;&amp;#x79BB;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4EE5;&amp;#x53CA;UI&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#x3002;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5165;&amp;#x95E8;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9996;&amp;#x5148;&amp;#x63A8;&amp;#x8350;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;a href=&#34;http://robolectric.org/&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;&amp;#x5B98;&amp;#x7F51;&amp;#x4E3B;&amp;#x9875;&lt;/a&gt;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x8FD8;&amp;#x6709;&amp;#x51E0;&amp;#x4E2A;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x4E2D;&amp;#x6587;&amp;#x5E16;&amp;#x5B50;&amp;#xFF1A;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;http://www.cnblogs.com/slgkaifa/p/7354609.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Robolectric&amp;#x4F7F;&amp;#x7528;&amp;#x6559;&amp;#x7A0B;&lt;/a&gt;: &amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;Properties&amp;#x6587;&amp;#x4EF6;&amp;#x4EE5;&amp;#x53CA;Activity&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://maxwell-nc.github.io/android/robolectricTest.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E4B;Robolectric&amp;#x6846;&amp;#x67B6;&lt;/a&gt;: &amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;Robolectric&amp;#x914D;&amp;#x7F6E;&amp;#x4EE5;&amp;#x53CA;&amp;#x9488;&amp;#x5BF9;&amp;#x5404;&amp;#x79CD;Android&amp;#x7EC4;&amp;#x4EF6;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65B9;&amp;#x6CD5;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x914D;&amp;#x7F6E;&amp;#x73AF;&amp;#x5883;&amp;#x548C;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x6700;&amp;#x597D;&amp;#x662F;&amp;#x6309;&amp;#x7167;&amp;#x5B98;&amp;#x7F51;&amp;#x7684;&amp;#x6B65;&amp;#x9AA4;&amp;#x53BB;&amp;#x505A;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;setup&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x5F80;&amp;#x5F80;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x7248;&amp;#x672C;&amp;#x53F7;&amp;#x4F9D;&amp;#x8D56;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5C24;&amp;#x5176;&amp;#x662F;&amp;#x8FD9;&amp;#x79CD;&amp;#x51FA;&amp;#x8EAB;&amp;#x793E;&amp;#x533A;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#x3002;&amp;#x5F80;&amp;#x5F80;&amp;#x4F9D;&amp;#x8D56;&amp;#x5904;&amp;#x7406;&amp;#x4E0D;&amp;#x662F;&amp;#x7279;&amp;#x522B;&amp;#x597D;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;Powermock + Roboletric&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x7528;&amp;#x4E0A;Roboletric&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x4F60;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x539F;&amp;#x5148;&amp;#x9700;&amp;#x8981;&amp;#x5404;&amp;#x79CD;mock&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x4E0D;&amp;#x7528;&amp;#x600E;&amp;#x4E48;mock&amp;#x5C31;&amp;#x80FD;&amp;#x7F16;&amp;#x8FC7;&amp;#x4E86;&amp;#xFF0C;&amp;#x751A;&amp;#x81F3;&amp;#x6709;&amp;#x4E9B;listener&amp;#x90FD;&amp;#x80FD;&amp;#x8D77;&amp;#x4F5C;&amp;#x7528;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x56E0;&amp;#x4E3A;Roboletric&amp;#x672C;&amp;#x8EAB;&amp;#x53EA;&amp;#x662F;&amp;#x63D0;&amp;#x4F9B;Android SDK&amp;#x7684;&amp;#x526F;&amp;#x672C;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6D4B;&amp;#x8BD5;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;&amp;#x884C;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x8BF4;&amp;#x5176;&amp;#x76EE;&amp;#x7684;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x66F4;power&amp;#x7684;mock&amp;#x5E93;&amp;#x3002;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x4E3A;&amp;#x67D0;&amp;#x4E9B;class&amp;#x63D0;&amp;#x4F9B;&amp;#x9884;&amp;#x8BBE;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x5F02;&amp;#x6216;&amp;#x9700;&amp;#x8981;&amp;#x5BF9;&amp;#x67D0;&amp;#x4E9B;&amp;#x5BF9;&amp;#x8C61;&amp;#x8C03;&amp;#x7528;&amp;#x6B21;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;verify&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x9700;&amp;#x8981;powermock&amp;#x7684;&amp;#xFF08;&amp;#x6216;&amp;#x8005;Mockito&amp;#xFF0C;&amp;#x4F46;&amp;#x9274;&amp;#x4E8E;&amp;#x5176;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x5728;&amp;#x592A;low&amp;#xFF0C;&amp;#x80FD;&amp;#x7528;Powermock&amp;#x7684;&amp;#x5C31;&amp;#x7528;Powermock&amp;#x5427;&amp;#xFF09;&amp;#x3002; &lt;br&gt;&amp;#x5165;&amp;#x95E8;&amp;#x53C2;&amp;#x770B;Roboletric GitHub wiki&amp;#xFF1A;&lt;a href=&#34;https://github.com/robolectric/robolectric/wiki/Using-PowerMock&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Using PowerMock&lt;/a&gt;&amp;#x3002;&amp;#x793A;&amp;#x4F8B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@RunWith&lt;/span&gt;(RobolectricTestRunner.class)&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@Config&lt;/span&gt;(constants = BuildConfig.class)&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@PowerMockIgnore&lt;/span&gt;(&amp;#123; &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;org.mockito.*&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;org.robolectric.*&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;android.*&amp;quot;&lt;/span&gt; &amp;#125;)&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@PrepareForTest&lt;/span&gt;(Static.class)&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;display: inline; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; font-style: italic; background-color: transparent;&#34;&gt;DeckardActivityTest&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;div style=&#34;line-height: 1.6;&#34;&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@Rule&lt;/span&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;public&lt;/span&gt; PowerMockRule rule = &lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;new&lt;/span&gt; PowerMockRule();&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;div style=&#34;line-height: 1.6;&#34;&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@Test&lt;/span&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;display: inline; line-height: 1.6; color: #66d9ef; background-color: transparent;&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;testStaticMocking&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f8f8f2; background-color: transparent;&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;        PowerMockito.mockStatic(Static.class);&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;        Mockito.when(Static.staticMethod()).thenReturn(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;hello mock&amp;quot;&lt;/span&gt;);&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;div style=&#34;line-height: 1.6;&#34;&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;        assertTrue(Static.staticMethod().equals(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;hello mock&amp;quot;&lt;/span&gt;));&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;#125;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&amp;#125;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x7279;&amp;#x522B;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x662F;&amp;#xFF1A;&lt;/p&gt;&lt;ol start=&#34;1&#34; style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x56E0;&amp;#x4E3A;class&amp;#x5F00;&amp;#x5934;&amp;#x7528;&amp;#x4E86;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;@RunWith(RobolectricTestRunner.class)&lt;/code&gt;&amp;#x6807;&amp;#x6CE8;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x65E0;&amp;#x6CD5;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;PowermockTestRunner.class&lt;/code&gt;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5FC5;&amp;#x987B;&amp;#x52A0;&amp;#x4E0A;&amp;#x4E0B;&amp;#x9762;&amp;#x4E24;&amp;#x884C;&amp;#xFF1A;&lt;/li&gt;&lt;/ol&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #75715e; background-color: transparent;&#34;&gt;@Rule&lt;/span&gt;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;public&lt;/span&gt; PowerMockRule rule = &lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;new&lt;/span&gt; PowerMockRule();&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5426;&amp;#x5219;&amp;#x4F1A;&amp;#x51FA;&amp;#x73B0;&amp;#x5404;&amp;#x79CD;Powermock&amp;#x65E0;&amp;#x6CD5;&amp;#x5DE5;&amp;#x4F5C;&amp;#x7684;&amp;#x5F02;&amp;#x5E38;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;class&amp;#x6CA1;&amp;#x6709;prepare&amp;#x5566;&amp;#xFF0C;&amp;#x4E0D;&amp;#x80FD;mock private&amp;#x51FD;&amp;#x6570;&amp;#x7B49;&amp;#x7B49;&amp;#x3002;&lt;/p&gt;&lt;ol start=&#34;2&#34; style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x56E0;&amp;#x4E3A;Roboletric&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;Shadow&amp;#x7C7B;&amp;#xFF0C;&amp;#x800C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x7C7B;&amp;#x548C;mock&amp;#x6709;&amp;#x51B2;&amp;#x7A81;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;Intent intent = mock(Intent.class)&lt;/code&gt;&amp;#x5C31;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x8FD9;&amp;#x4E2A;&amp;#x83AB;&amp;#x540D;&amp;#x5176;&amp;#x5999;&amp;#x7684;&amp;#x9519;&amp;#x8BEF;&amp;#x3002;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;java.lang.LinkageError: loader constraint violation: loader (instance of net/bytebuddy/dynamic/loading/MultipleParentClassLoader) previously initiated loading for a different type with name &amp;quot;org/xmlpull/v1/XmlSerializer&lt;/code&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x5C31;&amp;#x8981;&amp;#x52A0;&amp;#x4E0A;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;@PowerMockIgnore&lt;/code&gt;&amp;#x3002;&amp;#x751A;&amp;#x81F3;Ignore&amp;#x7684;&amp;#x5217;&amp;#x8868;&amp;#x8981;&amp;#x66F4;&amp;#x957F;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;@&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;PowerMockIgnore&lt;/span&gt;(&amp;#123;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.mockito&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.robolectric&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;android&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;javax&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.xml&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.xml&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.sax&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.w3c&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.dom&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.springframework&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.context&lt;/span&gt;.*&amp;quot;,&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;    &amp;quot;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;org&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.apache&lt;/span&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #a6e22e; background-color: transparent;&#34;&gt;.log4j&lt;/span&gt;.*&amp;quot;&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&amp;#125;)&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x8E29;&amp;#x5751;&amp;#x5217;&amp;#x8868;&lt;/h2&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 27.2px; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;PowerMockito.whenNew is not working&lt;/h3&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;You need to put the class &lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;where the constructor is called&lt;/strong&gt; into the @PrepareForTest annotation instead of the class which is being constructed - see Mock construction of new objects.&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x7528;Roboletric&amp;#x6765;&amp;#x89E3;&amp;#x51B3;Android SDK&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x7528;Powermock+JUnit&amp;#x6765;&amp;#x89E3;&amp;#x51B3;unit test&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/p&gt;&lt;/div&gt;&lt;center style=&#34;display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden&#34;&gt;%23%20Android%u5355%u5143%u6D4B%u8BD5%28%u4E8C%29%20-%20Roboletric%20+%20Powermock%0A@%28myblog%29%5BAndroid%2C%20unittest%5D%0A%0A2016%u5E74%u5728%u505A%u5FAE%u4FE1%u6253%u5370Android%20agent%20app%u7684%u65F6%u5019%uFF0C%u7814%u7A76%u8FC7%u5982%u4F55%u5728%u5F00%u53D1Android%20app%u7684%u65F6%u5019TDD%u3002%u8BE6%u7EC6%u53C2%u8003%u6B64%u7BC7%u535A%u6587%5BAndroid%u5355%u5143%u6D4B%u8BD5%5D%28https%3A//zhougy0717.github.io/2016/10/19/Android%25E5%258D%2595%25E5%2585%2583%25E6%25B5%258B%25E8%25AF%2595/%29%u3002%0A%u5F53%u65F6%u7684%u6700%u7EC8%u65B9%u6848%u662F%uFF1APowermock%20+%20Mockito%20+%20JUnit%u505A%5Blocal%20test%5D%28https%3A//developer.android.com/training/testing/unit-testing/local-unit-tests.html%29%u3002%u56E0%u4E3A%u8981Mock%u5404%u79CDAndroid%20SDK%u4E2D%u7684%u7C7B%uFF0C%u6240%u4EE5%u6709%u4E00%u79CD%u88AB%u65E0%u529B%u63A7%u5236%u7684%u6050%u60E7%u3002%u6240%u4EE5%u5728%u505ANiwatori%u7684%u65F6%u5019%uFF0C%u8FDF%u8FDF%u6CA1%u6709%u5F00%u5C55TDD%u3002%u56E0%u4E3A%u6700%u8FD1%u6DFB%u52A0%u7684%u529F%u80FD%u7A0D%u5FAE%u6709%u70B9%u590D%u6742%u4E86%uFF0C%u611F%u89C9%u5404%u79CD%u4E0D%u987A%uFF0C%u6240%u4EE5%u8003%u8651%u91CD%u65B0%u62FE%u8D77TDD%u3002%u4E8E%u662F%u6709%u4E86%u5404%u79CD%u6298%u817E%uFF0C%u5E76%u9A8C%u8BC1%u4E86%u4E4B%u524D%u65E0%u529B%u7684%u6050%u60E7%u540E%u7684%u8FD9%u4E00%u7BC7%u3002%u4E0D%u8FC7%u7ED3%u679C%u597D%u7684%u662F%u770B%u8D77%u6765%u627E%u5230%u4E86%u4E00%u6761Android%20app%20TDD%u5F00%u53D1%u4E0D%u9519%u7684%u8DEF%u5B50%u3002%0A%0A%u8FD9%u4E00%u5207%u90FD%u8981%u5F52%u529F%u4E8E%0A%23%23%20Roboletric%0A%u8D77%u521D%u7684%u76F8%u8BC6%u8FD8%u662F%u5728%5BAndroid%20developer%u5B98%u7F51%u5173%u4E8E%u6D4B%u8BD5%u7684%u9875%u9762%5D%28https%3A//developer.android.com/training/testing/fundamentals.html%29%u3002%u7136%u540E%u5728%u641C%u7D22Powermock%u7528%u6CD5%u7684%u65F6%u5019%uFF0C%u770B%u5230%u5F88%u591A%u5E16%u5B50%u90FD%u63D0%u5230%u4E86roboletric%u3002%u56E0%u4E3A%u8BA4%u8BC6%u5230Mockito%20+%20Powermock%u7684%u5F31%u70B9%28%u5982%u4E0B%29%uFF0C%u6240%u4EE5%u51B3%u5B9A%u8F6C%u5411roboletric%u3002%0A%3E%20Mockito%0A%3E%20-%20%u4E0D%u80FDmock%20final%20class/method%0A%3E%20-%20%u4E0D%u80FDmock%20private/static%0A%0A%3E%20Powermock%0A%3E%20-%20%u9700%u8981%u81EA%u5DF1mock%u5404%u79CDclass%uFF0C%u5F53%u51FD%u6570%u5927%u4E86%u7684%u65F6%u5019%uFF0C%u56E0%u4E3A%u4F1A%u5F15%u7528%u975E%u5E38%u591A%u7684Android%u7C7B%uFF0C%u6240%u4EE5%u4F1A%u8BA9%u4EBA%u611F%u5230%u5F88%u65E0%u529B%0A%0A%u5728%u7F16%u8BD1Android%20app%u7684%u65F6%u5019%uFF0CAndroid%20SDK%u4EE5android.jar%u7684%u5F62%u5F0F%u53C2%u4E0E%u7F16%u8BD1%u3002%u800C%u8FD9%u4E2Aandroid.jar%u4E2D%u7684%u5404%u4E2A%u7C7B%u5E76%u6CA1%u6709%u5177%u4F53%u7684%u5B9E%u73B0%uFF0C%u53EA%u662F%u4E00%u4E2Astub%u3002%u6240%u4EE5%u5982%u679C%u4E0D%u7ECF%u8FC7mock%u5C31%u76F4%u63A5%u5728Unit%20Test%u4E2D%u4F7F%u7528Android%u7C7B%u5C31%u4F1A%u51FA%u73B0%60Error%20java.lang.RuntimeException%3A%20Stub%21%60%u9519%u8BEF%u3002%0ARoboletric%u5C31%u662F%u4E3A%u4E86%u6D88%u9664%u8FD9%u79CD%u9519%u8BEF%u8BDE%u751F%u7684%u3002%u5B83%u4E3A%u6240%u6709%u7684Android%u7C7B%u5B9A%u4E49%u4E86%u53EF%u4EE5%u8DD1%u5728PC%u7AEFJVM%u4E0B%u7684class%u3002%u800C%u4E14%u63D0%u4F9B%u4E86%u5F88%u591A%u989D%u5916%u7684%u529F%u80FD%uFF0C%u65B9%u4FBF%u5F00%u53D1%u8005%u505A%u9694%u79BB%u6D4B%u8BD5%u4EE5%u53CAUI%u65B9%u9762%u7684%u6D4B%u8BD5%u3002%0A%0A%23%23%23%20%u5165%u95E8%0A%u9996%u5148%u63A8%u8350%u7684%u8FD8%u662F%5B%u5B98%u7F51%u4E3B%u9875%5D%28http%3A//robolectric.org/%29%u3002%u7136%u540E%u8FD8%u6709%u51E0%u4E2A%u4E0D%u9519%u7684%u4E2D%u6587%u5E16%u5B50%uFF1A%0A-%20%5BRobolectric%u4F7F%u7528%u6559%u7A0B%5D%28http%3A//www.cnblogs.com/slgkaifa/p/7354609.html%29%3A%20%u53EF%u4EE5%u53C2%u8003Properties%u6587%u4EF6%u4EE5%u53CAActivity%u751F%u547D%u5468%u671F%u90E8%u5206%u3002%0A-%20%5BAndroid%u5355%u5143%u6D4B%u8BD5%u4E4BRobolectric%u6846%u67B6%5D%28https%3A//maxwell-nc.github.io/android/robolectricTest.html%29%3A%20%u53EF%u4EE5%u53C2%u8003Robolectric%u914D%u7F6E%u4EE5%u53CA%u9488%u5BF9%u5404%u79CDAndroid%u7EC4%u4EF6%u7684%u6D4B%u8BD5%u65B9%u6CD5%u90E8%u5206%u3002%0A%0A%u5BF9%u4E8E%u914D%u7F6E%u73AF%u5883%u548C%u7B2C%u4E00%u4E2A%u7B80%u5355%u7684%u5B9E%u4F8B%uFF0C%u6700%u597D%u662F%u6309%u7167%u5B98%u7F51%u7684%u6B65%u9AA4%u53BB%u505A%u3002%u56E0%u4E3A%u5728setup%u7684%u65F6%u5019%uFF0C%u5F80%u5F80%u6709%u5F88%u591A%u7248%u672C%u53F7%u4F9D%u8D56%u8981%u5904%u7406%uFF0C%u5C24%u5176%u662F%u8FD9%u79CD%u51FA%u8EAB%u793E%u533A%u7684%u6846%u67B6%u3002%u5F80%u5F80%u4F9D%u8D56%u5904%u7406%u4E0D%u662F%u7279%u522B%u597D%u3002%0A%0A%23%23%20Powermock%20+%20Roboletric%0A%u7528%u4E0ARoboletric%u4EE5%u540E%uFF0C%u4F60%u4F1A%u53D1%u73B0%u539F%u5148%u9700%u8981%u5404%u79CDmock%u7684%u51FD%u6570%uFF0C%u73B0%u5728%u4E0D%u7528%u600E%u4E48mock%u5C31%u80FD%u7F16%u8FC7%u4E86%uFF0C%u751A%u81F3%u6709%u4E9Blistener%u90FD%u80FD%u8D77%u4F5C%u7528%u3002%u4F46%u662F%u56E0%u4E3ARoboletric%u672C%u8EAB%u53EA%u662F%u63D0%u4F9BAndroid%20SDK%u7684%u526F%u672C%uFF0C%u5BF9%u4E8E%u6D4B%u8BD5%u5E76%u4E0D%u662F%u90A3%u4E48%u5728%u884C%uFF0C%u6216%u8005%u8BF4%u5176%u76EE%u7684%u5E76%u4E0D%u662F%u4E00%u4E2A%u66F4power%u7684mock%u5E93%u3002%u5F53%u6211%u4EEC%u9700%u8981%u4E3A%u67D0%u4E9Bclass%u63D0%u4F9B%u9884%u8BBE%u7684%u529F%u80FD%uFF0C%u5F02%u6216%u9700%u8981%u5BF9%u67D0%u4E9B%u5BF9%u8C61%u8C03%u7528%u6B21%u6570%u8FDB%u884Cverify%u7684%u65F6%u5019%uFF0C%u8FD8%u662F%u9700%u8981powermock%u7684%uFF08%u6216%u8005Mockito%uFF0C%u4F46%u9274%u4E8E%u5176%u529F%u80FD%u5B9E%u5728%u592Alow%uFF0C%u80FD%u7528Powermock%u7684%u5C31%u7528Powermock%u5427%uFF09%u3002%0A%u5165%u95E8%u53C2%u770BRoboletric%20GitHub%20wiki%uFF1A%5BUsing%20PowerMock%5D%28https%3A//github.com/robolectric/robolectric/wiki/Using-PowerMock%29%u3002%u793A%u4F8B%u5982%u4E0B%uFF1A%0A%60%60%60java%0A@RunWith%28RobolectricTestRunner.class%29%0A@Config%28constants%20%3D%20BuildConfig.class%29%0A@PowerMockIgnore%28%7B%20%22org.mockito.*%22%2C%20%22org.robolectric.*%22%2C%20%22android.*%22%20%7D%29%0A@PrepareForTest%28Static.class%29%0Apublic%20class%20DeckardActivityTest%20%7B%0A%0A%20%20%20%20@Rule%0A%20%20%20%20public%20PowerMockRule%20rule%20%3D%20new%20PowerMockRule%28%29%3B%0A%0A%20%20%20%20@Test%0A%20%20%20%20public%20void%20testStaticMocking%28%29%20%7B%0A%20%20%20%20%20%20%20%20PowerMockito.mockStatic%28Static.class%29%3B%0A%20%20%20%20%20%20%20%20Mockito.when%28Static.staticMethod%28%29%29.thenReturn%28%22hello%20mock%22%29%3B%0A%0A%20%20%20%20%20%20%20%20assertTrue%28Static.staticMethod%28%29.equals%28%22hello%20mock%22%29%29%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%u7279%u522B%u8981%u6CE8%u610F%u7684%u662F%uFF1A%0A1.%20%u56E0%u4E3Aclass%u5F00%u5934%u7528%u4E86%60@RunWith%28RobolectricTestRunner.class%29%60%u6807%u6CE8%uFF0C%u6240%u4EE5%u65E0%u6CD5%u7528%60PowermockTestRunner.class%60%u3002%u6240%u4EE5%u5FC5%u987B%u52A0%u4E0A%u4E0B%u9762%u4E24%u884C%uFF1A%0A%60%60%60%0A@Rule%0Apublic%20PowerMockRule%20rule%20%3D%20new%20PowerMockRule%28%29%3B%0A%60%60%60%0A%u5426%u5219%u4F1A%u51FA%u73B0%u5404%u79CDPowermock%u65E0%u6CD5%u5DE5%u4F5C%u7684%u5F02%u5E38%uFF0C%u4F8B%u5982class%u6CA1%u6709prepare%u5566%uFF0C%u4E0D%u80FDmock%20private%u51FD%u6570%u7B49%u7B49%u3002%0A%0A2.%20%u56E0%u4E3ARoboletric%u63D0%u4F9B%u4E86%u5F88%u591AShadow%u7C7B%uFF0C%u800C%u8FD9%u4E9B%u7C7B%u548Cmock%u6709%u51B2%u7A81%u3002%u4F8B%u5982%60Intent%20intent%20%3D%20mock%28Intent.class%29%60%u5C31%u4F1A%u5BFC%u81F4%u8FD9%u4E2A%u83AB%u540D%u5176%u5999%u7684%u9519%u8BEF%u3002%0A%0A%3E%60java.lang.LinkageError%3A%20loader%20constraint%20violation%3A%20loader%20%28instance%20of%20net/bytebuddy/dynamic/loading/MultipleParentClassLoader%29%20previously%20initiated%20loading%20for%20a%20different%20type%20with%20name%20%22org/xmlpull/v1/XmlSerializer%60%0A%0A%u6240%u4EE5%u5C31%u8981%u52A0%u4E0A%60@PowerMockIgnore%60%u3002%u751A%u81F3Ignore%u7684%u5217%u8868%u8981%u66F4%u957F%uFF0C%u4F8B%u5982%uFF1A%0A%60%60%60%0A@PowerMockIgnore%28%7B%20%0A%09%22org.mockito.*%22%2C%20%0A%09%22org.robolectric.*%22%2C%20%0A%09%22android.*%22%2C%0A%09%22javax.xml.*%22%2C%20%0A%09%22org.xml.sax.*%22%2C%20%0A%09%22org.w3c.dom.*%22%2C%20%20%0A%09%22org.springframework.context.*%22%2C%20%0A%09%22org.apache.log4j.*%22%20%0A%7D%29%0A%60%60%60%0A%0A%23%23%20%u8E29%u5751%u5217%u8868%0A%23%23%23%20PowerMockito.whenNew%20is%20not%20working%0A%3EYou%20need%20to%20put%20the%20class%20**where%20the%20constructor%20is%20called**%20into%20the%20@PrepareForTest%20annotation%20instead%20of%20the%20class%20which%20is%20being%20constructed%20-%20see%20Mock%20construction%20of%20new%20objects.%0A%0A%23%23%20%u603B%u7ED3%0A%u7528Roboletric%u6765%u89E3%u51B3Android%20SDK%u95EE%u9898%uFF0C%u7528Powermock+JUnit%u6765%u89E3%u51B3unit%20test%u95EE%u9898%u3002&lt;/center&gt;&lt;br&gt;&lt;/div&gt;</content>
        <category term="Android" />
        <category term="unittest" />
        <updated>2018-04-21T23:56:16.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.zhougy.top/2018/01/17/XSharedPreference%20&amp;%20SharedPreference%20-%20XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/</id>
        <title>XSharedPreference &amp; SharedPreference - XPosed模块中的preference使用</title>
        <link rel="alternate" href="https://blog.zhougy.top/2018/01/17/XSharedPreference%20&amp;%20SharedPreference%20-%20XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/"/>
        <content type="html">&lt;div class=&#34;enNote&#34; style=&#34;color: #2c3f51; line-height: 1.6; display: block;&#34; title lang=&#34;v2&#34; xml:lang dir&gt;&lt;del style=&#34;position:relative;display:block;z-index:10;&#34;&gt;&lt;a style=&#34;position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;&#34; href=&#34;http://maxiang.info/#/?provider=evernote&amp;amp;guid=08e07dee-5c97-456f-bc56-9bc11bb354a0&amp;amp;notebook=myblog&#34;&gt;Edit&lt;/a&gt;&lt;/del&gt;&lt;div style=&#34;color: #2c3f51; line-height: 1.6; display: block;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6700;&amp;#x8FD1;&amp;#x5728;&amp;#x7EF4;&amp;#x62A4;&amp;#x4E00;&amp;#x4E2A;Xposed&amp;#x6A21;&amp;#x5757;[]Niwatori-One Handed Mode](&lt;a href=&#34;https://github.com/tkgktyk/Niwatori&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;https://github.com/tkgktyk/Niwatori&lt;/a&gt;)&amp;#x3002;&amp;#x539F;&amp;#x4F5C;&amp;#x8005;tkgktyk&amp;#x5DF2;&amp;#x7ECF;&amp;#x505C;&amp;#x6B62;&amp;#x66F4;&amp;#x65B0;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BFC;&amp;#x81F4;&amp;#x6A21;&amp;#x5757;&amp;#x5728;Xposed Framework for Nougat&amp;#x53D1;&amp;#x5E03;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x4E0D;&amp;#x80FD;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#x6211;fork&amp;#x4E86;&amp;#x4E00;&amp;#x4EFD;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5F00;&amp;#x59CB;&amp;#x505A;Android Nougat&amp;#x4E0A;&amp;#x7684;&amp;#x9002;&amp;#x914D;&amp;#x5DE5;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5E76;&amp;#x5728;XDA&amp;#x4E0A;&amp;#x53D1;&amp;#x5E03;&amp;#x4E86;&amp;#x66F4;&amp;#x65B0;&lt;a href=&#34;https://forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;&amp;#x94FE;&amp;#x63A5;&lt;/a&gt;&amp;#x3002; &lt;br&gt;&amp;#x5728;&amp;#x9002;&amp;#x914D;&amp;#x4E86;Nougat&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E00;&amp;#x4E9B;&amp;#x65B0;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x8BA9;&amp;#x7528;&amp;#x6237;&amp;#x4F53;&amp;#x9A8C;&amp;#x66F4;&amp;#x597D;&amp;#x3002;&amp;#x76EE;&amp;#x524D;&amp;#x60F3;&amp;#x505A;&amp;#x7684;&amp;#x662F;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;fooview&amp;#x8C03;&amp;#x7528;Niwatori&amp;#x7684;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5E76;&amp;#x4E14;&amp;#x8BE5;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x662F;small screen&amp;#x8FD8;&amp;#x662F;slide down&amp;#x7B49;&amp;#x7B49;&amp;#xFF0C;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;Niwatori&amp;#x672C;&amp;#x8EAB;&amp;#x8FDB;&amp;#x884C;&amp;#x914D;&amp;#x7F6E;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x8FD9;&amp;#x4E00;&amp;#x529F;&amp;#x80FD;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x52A8;&amp;#x6001;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x52A0;&amp;#x8F7D;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;SDK 25&amp;#x4EE5;&amp;#x4E0A;&amp;#x7248;&amp;#x672C;&amp;#xFF0C;&amp;#x800C;&amp;#x4ECE;SDK 25&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x539F;&amp;#x5148;SharedPreference&amp;#x7684;&amp;#x6253;&amp;#x5F00;&amp;#x65B9;&amp;#x5F0F;MODE_WORLD_PRIVATE&amp;#x5DF2;&amp;#x7ECF;&amp;#x88AB;&amp;#x7981;&amp;#x6B62;&amp;#x4E86;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;security exception&amp;#x3002; &lt;br&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5347;&amp;#x5230;&amp;#x4F7F;&amp;#x7528;SDK 25&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x89E3;&amp;#x51B3;preference&amp;#x5F15;&amp;#x7528;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x8FD9;&amp;#x4E2A;&amp;#x6A21;&amp;#x5F0F;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x5230;&amp;#x5E95;&amp;#x4F1A;&amp;#x5728;&amp;#x54EA;&amp;#x91CC;&amp;#x5F71;&amp;#x54CD;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;Xposed&amp;#x6A21;&amp;#x5757;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;Xposed&amp;#x4E2D;&amp;#x7684;preference&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;Xposed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;preference&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;XSharedPreference&amp;#x6765;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;XSharedPreference&amp;#x5728;Android&amp;#x6807;&amp;#x51C6;&amp;#x7684;SharedPreference&amp;#x7C7B;&amp;#x4E0A;&amp;#x5305;&amp;#x4E86;&amp;#x4E00;&amp;#x5C42;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E9B;security&amp;#x7684;fix&amp;#x6216;&amp;#x8005;work around&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;XSharedPreference.makeWorldReadable&amp;#x3002;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&amp;#x52A0;&amp;#x8F7D;app data&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E0B;&amp;#x7684;xml&amp;#x6587;&amp;#x4EF6;&amp;#x6765;&amp;#x8BFB;&amp;#x53D6;&amp;#x3001;&amp;#x5B58;&amp;#x50A8;&amp;#x952E;&amp;#x503C;&amp;#x5BF9;&amp;#x7684;&amp;#x3002;&amp;#x8BE5;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#x4E3A;&amp;#xFF08;&amp;#x4EE5;Niwatori&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF09;&amp;#xFF1A;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml&lt;/code&gt;&amp;#x3002;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x901A;&amp;#x5E38;Xposed&amp;#x4E2D;&amp;#x5982;&amp;#x4E0B;&amp;#x4F7F;&amp;#x7528;preference&amp;#x4F1A;&amp;#x6309;&amp;#x7167;&amp;#x5982;&amp;#x4E0B;&amp;#x7684;&amp;#x65F6;&amp;#x5E8F;&amp;#x56FE;&amp;#xFF0C;&amp;#x4EE5;Niwatori&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;&lt;div style=&#34;text-align: center; margin-bottom: 1.1em; line-height: 1.6; display: block;&#34;&gt;&lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/XSharedPreference &amp;amp; SharedPreference - XPosed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x7684;preference&amp;#x4F7F;&amp;#x7528;/SVG78bf507dfa06d67d15e9356fa67699ec&#34; hash=&#34;faf526b522cf280365ebea346d0a680e&#34; align alt longdesc width=&#34;1057.2&#34; height=&#34;454.2&#34; border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;&#34; title lang xml:lang dir&gt;&lt;/span&gt;&lt;/div&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;XSharedPreference&amp;#x5B9E;&amp;#x4F8B;&amp;#x521B;&amp;#x5EFA;&amp;#x5728;&amp;#x6A21;&amp;#x5757;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;initZygote&lt;/code&gt;&amp;#x4E2D;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x901A;&amp;#x8FC7;&amp;#x94A9;&amp;#x5B50;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5728;&amp;#x5404;&amp;#x4E2A;app&amp;#x7684;Context&amp;#x5E95;&amp;#x4E0B;&amp;#x6267;&amp;#x884C;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4E8E;&amp;#x662F;&amp;#x5F53;MODE_WORLD_READABLE&amp;#x88AB;&amp;#x5E9F;&amp;#x6B62;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x51FA;&amp;#x95EE;&amp;#x9898;&amp;#x4E86;&amp;#x3002;&amp;#x5373;&amp;#x5728;&amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#xFF0C;app1&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x6743;&amp;#x9650;&amp;#x67E5;&amp;#x770B;Niwatori&amp;#x7684;preference&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x6CA1;&amp;#x6CD5;&amp;#x52A0;&amp;#x8F7D;&amp;#x914D;&amp;#x7F6E;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;Xposed&amp;#x5B98;&amp;#x65B9;&amp;#x6216;&amp;#x8005;&amp;#x4F5C;&amp;#x8005;rovo89&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x7ED9;&amp;#x51FA;&amp;#x5B98;&amp;#x65B9;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x529E;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x603B;&amp;#x662F;&amp;#x4F1A;&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x672A;&amp;#x96E8;&amp;#x7EF8;&amp;#x7F2A;&amp;#x7684;&amp;#x52C7;&amp;#x58EB;&amp;#xFF0C;XDA&amp;#x4E0A;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E16;&amp;#x5B50;&amp;#x7ED9;&amp;#x51FA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;work around&amp;#xFF1A;&lt;a href=&#34;https://forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;MODE_WORLD_READABLE in Android N&lt;/a&gt;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6211;&amp;#x5728;Niwatori&amp;#x4E2D;&amp;#x4E5F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x4ECD;&amp;#x7136;&amp;#x4E0D;&amp;#x662F;&amp;#x5B8C;&amp;#x7F8E;&amp;#x89E3;&amp;#x51B3;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x76EE;&amp;#x524D;&amp;#x8FD8;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x5982;&amp;#x4F55;&amp;#x6539;&amp;#x8FDB;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x9057;&amp;#x7559;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8BE5;work around&amp;#x548C;XSharedPreference.makeWorldReadable&amp;#x540C;&amp;#x7406;&amp;#xFF0C;&amp;#x6211;&amp;#x5982;&amp;#x4E0B;&amp;#x8C03;&amp;#x7528;preference&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;div style=&#34;line-height: 1.6; display: block;&#34;&gt;mPrefs.makeWorldReadable();&lt;/div&gt;&lt;div style=&#34;line-height: 1.6; display: block;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672;&#34;&gt;Log&lt;/span&gt;.&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;e&lt;/span&gt;(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;Ben&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;package:&amp;quot;&lt;/span&gt; + decorView.getContext().getPackageName() + &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;, &amp;quot;&lt;/span&gt; + decorView + &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;,&amp;quot;&lt;/span&gt; + mPrefs.getString(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;key_boundary_color_ms&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;default value&amp;quot;&lt;/span&gt;));&lt;/div&gt;&lt;div style=&#34;line-height: 1.6; display: block;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672;&#34;&gt;Log&lt;/span&gt;.&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;e&lt;/span&gt;(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;Ben&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;file can read: &amp;quot;&lt;/span&gt; + mPrefs.getFile().canRead()); &amp;lt;-- &amp;#x6709;&amp;#x4E9B;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672;&#34;&gt;app&lt;/span&gt;&amp;#x4F1A;&amp;#x662F;true&amp;#xFF0C;&amp;#x6709;&amp;#x4E9B;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672;&#34;&gt;app&lt;/span&gt;&amp;#x4F1A;&amp;#x662F;false&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5F53;&amp;#x8FD4;&amp;#x56DE;true&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;settings&amp;#x5C31;&amp;#x6210;&amp;#x529F;&amp;#x7684;&amp;#x4F20;&amp;#x5230;&amp;#x4E86;&amp;#x5BF9;&amp;#x5E94;app&amp;#x4E86;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65F6;&amp;#x800C;&amp;#x53EF;&amp;#x4EE5;read&amp;#x65F6;&amp;#x800C;&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;read&amp;#xFF0C;&amp;#x6211;&amp;#x4E5F;&amp;#x5F88;&amp;#x82E6;&amp;#x607C;&amp;#xFF0C;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x662F;&amp;#x600E;&amp;#x4E48;&amp;#x56DE;&amp;#x4E8B;&amp;#x513F;&amp;#x3002;&amp;#x7559;&amp;#x5F85;&amp;#x4EE5;&amp;#x540E;&amp;#x518D;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x9057;&amp;#x7559;&amp;#x7684;&amp;#x95EE;&amp;#x9898; - 20180119&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x5728;&amp;#x4E8E;&amp;#xFF0C;Android 7.0&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x5373;&amp;#x4ECE;SDK 24&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;Android&amp;#x52A0;&amp;#x5165;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;security&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;&lt;a href=&#34;https://blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android 7.0 Security Features: Direct Boot&lt;/a&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x548C;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x4E0D;&amp;#x592A;&amp;#x76F8;&amp;#x5173;&amp;#x3002;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x662F;&amp;#x5982;&amp;#x4E0A;&amp;#x6240;&amp;#x8BF4;&amp;#xFF0C;Nougat&amp;#x4E0D;&amp;#x5141;&amp;#x8BB8;world readable&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x7528;SDK25&amp;#x7F16;&amp;#x8BD1;&amp;#x7684;app&amp;#x8FD8;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;MODE_WORLD_READABLE&lt;/code&gt;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x62A5;exception&amp;#x3002; &lt;br&gt;Google&amp;#x4E0A;&amp;#x9C9C;&amp;#x5C11;&amp;#x6709;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#xFF0C;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x94FE;&amp;#x63A5;&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;&amp;#xFF1A;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;GravityBox commit - Use device protected storage for preferences and files&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/206&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 1 - Any place to store world readable preferences on Nougat?&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/74&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 2 - Preferences of a module cannot be read from different process on some devices running MM&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/102&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 3 - XSharedPreferences doesn&amp;#x2019;t work&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;[Q] Xposed for nougat to read prefs ith fbe or without&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x7ECF;&amp;#x8FC7;&amp;#x9A8C;&amp;#x8BC1;&amp;#xFF0C;&amp;#x662F;XposedBridge issue 1&amp;#x4E2D;GravityBox&amp;#x4F5C;&amp;#x8005;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;comment&amp;#x63D0;&amp;#x5230;&amp;#x4E86;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8BE5;comment&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/XSharedPreference &amp;amp; SharedPreference - XPosed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x7684;preference&amp;#x4F7F;&amp;#x7528;/1516334231370.png&#34; hash=&#34;4bb9cc0ad024876dd28baed5c27bad27&#34; align alt longdesc width=&#34;792&#34; height=&#34;382&#34; border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;setStorageDeviceProtected&lt;/code&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;createDeviceProtectedStorageContext&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5C06;preference&amp;#x6587;&amp;#x4EF6;&amp;#x5B58;&amp;#x5230;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;/data/user_de/0/&amp;lt;package name&amp;gt;/shared_prefs&lt;/code&gt;&amp;#x4E0B;&amp;#x3002;&amp;#x5E76;&amp;#x5728;Xposed&amp;#x7684;context&amp;#x7AEF;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x6253;&amp;#x5F00;&amp;#x6587;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002; &lt;br&gt;&amp;#x4F46;&amp;#x5176;&amp;#x5B9E;&amp;#x6211;&amp;#x4EEC;&amp;#x5E76;&amp;#x4E0D;&amp;#x9700;&amp;#x5982;&amp;#x6B64;&amp;#x3002;&amp;#x53EA;&amp;#x8981;&amp;#x4FDD;&amp;#x8BC1;package folder&amp;#x7684;&amp;#x6743;&amp;#x9650;&amp;#x81F3;&amp;#x5C11;&amp;#x662F;711&amp;#xFF0C;preference.xml&amp;#x6587;&amp;#x4EF6;&amp;#x6709;&amp;#x53EF;&amp;#x8BFB;&amp;#x6743;&amp;#x9650;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;&lt;/div&gt;&lt;center style=&#34;display:none&#34;&gt;%23%20XSharedPreference%20%26%20SharedPreference%20-%20XPosed%u6A21%u5757%u4E2D%u7684preference%u4F7F%u7528%0A@%28myblog%29%5BAndroid%2C%20xposed%5D%0A%0A%u6700%u8FD1%u5728%u7EF4%u62A4%u4E00%u4E2AXposed%u6A21%u5757%5B%5DNiwatori-One%20Handed%20Mode%5D%28https%3A//github.com/tkgktyk/Niwatori%29%u3002%u539F%u4F5C%u8005tkgktyk%u5DF2%u7ECF%u505C%u6B62%u66F4%u65B0%u4E86%uFF0C%u5BFC%u81F4%u6A21%u5757%u5728Xposed%20Framework%20for%20Nougat%u53D1%u5E03%u4EE5%u540E%uFF0C%u4E0D%u80FD%u4F7F%u7528%u3002%u4E8E%u662F%u6211fork%u4E86%u4E00%u4EFD%u4EE3%u7801%uFF0C%u5F00%u59CB%u505AAndroid%20Nougat%u4E0A%u7684%u9002%u914D%u5DE5%u4F5C%uFF0C%u5E76%u5728XDA%u4E0A%u53D1%u5E03%u4E86%u66F4%u65B0%5B%u94FE%u63A5%5D%28https%3A//forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963%29%u3002%0A%u5728%u9002%u914D%u4E86Nougat%u4E4B%u540E%uFF0C%u5E0C%u671B%u80FD%u6DFB%u52A0%u4E00%u4E9B%u65B0%u529F%u80FD%uFF0C%u8BA9%u7528%u6237%u4F53%u9A8C%u66F4%u597D%u3002%u76EE%u524D%u60F3%u505A%u7684%u662F%u80FD%u901A%u8FC7fooview%u8C03%u7528Niwatori%u7684%u5FEB%u6377%u65B9%u5F0F%u3002%u5E76%u4E14%u8BE5%u5FEB%u6377%u65B9%u5F0F%u7684%u529F%u80FD%uFF0C%u4F8B%u5982%u662Fsmall%20screen%u8FD8%u662Fslide%20down%u7B49%u7B49%uFF0C%u80FD%u901A%u8FC7Niwatori%u672C%u8EAB%u8FDB%u884C%u914D%u7F6E%u3002%u4F46%u662F%u5728%u5F00%u53D1%u8FD9%u4E00%u529F%u80FD%u7684%u65F6%u5019%uFF0C%u53D1%u73B0%u52A8%u6001%u5FEB%u6377%u65B9%u5F0F%u7684%u52A0%u8F7D%u9700%u8981%u4F7F%u7528SDK%2025%u4EE5%u4E0A%u7248%u672C%uFF0C%u800C%u4ECESDK%2025%u5F00%u59CB%uFF0C%u539F%u5148SharedPreference%u7684%u6253%u5F00%u65B9%u5F0FMODE%5C_WORLD%5C_PRIVATE%u5DF2%u7ECF%u88AB%u7981%u6B62%u4E86%u3002%u4F7F%u7528%u5B83%u4F1A%u5BFC%u81F4security%20exception%u3002%0A%u6240%u4EE5%u8981%u5347%u5230%u4F7F%u7528SDK%2025%uFF0C%u5FC5%u987B%u89E3%u51B3preference%u5F15%u7528%u7684%u95EE%u9898%u3002%u90A3%u4E48%u8FD9%u4E2A%u6A21%u5F0F%u7684%u53D8%u5316%uFF0C%u5230%u5E95%u4F1A%u5728%u54EA%u91CC%u5F71%u54CD%u5230%u6211%u4EEC%u7684Xposed%u6A21%u5757%u5462%uFF1F%0A%0A%23%23%20Xposed%u4E2D%u7684preference%0AXposed%u6A21%u5757%u4E2D%u4F7F%u7528preference%u7684%u65F6%u5019%uFF0C%u901A%u5E38%u90FD%u662F%u901A%u8FC7XSharedPreference%u6765%u64CD%u4F5C%u3002XSharedPreference%u5728Android%u6807%u51C6%u7684SharedPreference%u7C7B%u4E0A%u5305%u4E86%u4E00%u5C42%uFF0C%u63D0%u4F9B%u4E86%u4E00%u4E9Bsecurity%u7684fix%u6216%u8005work%20around%u3002%u4F8B%u5982%uFF1AXSharedPreference.makeWorldReadable%u3002%u4ED6%u4EEC%u90FD%u662F%u52A0%u8F7Dapp%20data%u6587%u4EF6%u5939%u4E0B%u7684xml%u6587%u4EF6%u6765%u8BFB%u53D6%u3001%u5B58%u50A8%u952E%u503C%u5BF9%u7684%u3002%u8BE5%u6587%u4EF6%u8DEF%u5F84%u4E3A%uFF08%u4EE5Niwatori%u4E3A%u4F8B%uFF09%uFF1A%60/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml%60%u3002%0A%0A%u901A%u5E38Xposed%u4E2D%u5982%u4E0B%u4F7F%u7528preference%u4F1A%u6309%u7167%u5982%u4E0B%u7684%u65F6%u5E8F%u56FE%uFF0C%u4EE5Niwatori%u4E3A%u4F8B%uFF1A%0A%60%60%60%20sequence%0ANote%20left%20of%20Niwatori%3A%20initZygote%0ANote%20left%20of%20Niwatori%3A%20Construct%20a%20XSharedPreference%0ANiwatori-%3EActivity.class%3A%20hook%0AActivity.class-%3Eapp1%3A%20onCreate%0ANote%20right%20of%20app1%3A%20load%20the%20XSharedPreference%0AActivity.class-%3Eapp2%3A%20onCreate%0ANote%20right%20of%20app2%3A%20load%20the%20XSharedPreference%0A%60%60%60%0A-%20XSharedPreference%u5B9E%u4F8B%u521B%u5EFA%u5728%u6A21%u5757%u52A0%u8F7D%u7684%60initZygote%60%u4E2D%0A-%20%u6570%u636E%u7684%u4F7F%u7528%u901A%u8FC7%u94A9%u5B50%u51FD%u6570%uFF0C%u5728%u5404%u4E2Aapp%u7684Context%u5E95%u4E0B%u6267%u884C%0A%0A%u4E8E%u662F%u5F53MODE%5C_WORLD%5C_READABLE%u88AB%u5E9F%u6B62%u4EE5%u540E%uFF0C%u8FD9%u91CC%u5C31%u51FA%u95EE%u9898%u4E86%u3002%u5373%u5728%u9ED8%u8BA4%u60C5%u51B5%u4E0B%uFF0Capp1%u662F%u6CA1%u6709%u6743%u9650%u67E5%u770BNiwatori%u7684preference%u6587%u4EF6%u7684%uFF0C%u4E5F%u5C31%u6CA1%u6CD5%u52A0%u8F7D%u914D%u7F6E%u6570%u636E%u3002%0A%0AXposed%u5B98%u65B9%u6216%u8005%u4F5C%u8005rovo89%u8FD8%u6CA1%u6709%u7ED9%u51FA%u5B98%u65B9%u7684%u89E3%u51B3%u529E%u6CD5%uFF0C%u4F46%u603B%u662F%u4F1A%u6709%u4E00%u4E9B%u672A%u96E8%u7EF8%u7F2A%u7684%u52C7%u58EB%uFF0CXDA%u4E0A%u6709%u4E00%u4E2A%u5E16%u5B50%u7ED9%u51FA%u4E86%u4E00%u4E2Awork%20around%uFF1A%5BMODE_WORLD_READABLE%20in%20Android%20N%5D%28https%3A//forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123%29%0A%0A%u6211%u5728Niwatori%u4E2D%u4E5F%u4F7F%u7528%u4E86%u8BE5%u65B9%u6CD5%uFF0C%u4F46%u4ECD%u7136%u4E0D%u662F%u5B8C%u7F8E%u89E3%u51B3%uFF0C%u800C%u4E14%u76EE%u524D%u8FD8%u4E0D%u77E5%u9053%u5982%u4F55%u6539%u8FDB%u3002%0A%0A%23%23%20%u9057%u7559%u7684%u95EE%u9898%0A%u8BE5work%20around%u548CXSharedPreference.makeWorldReadable%u540C%u7406%uFF0C%u6211%u5982%u4E0B%u8C03%u7528preference%uFF1A%0A%60%60%60%0AmPrefs.makeWorldReadable%28%29%3B%0ALog.e%28%22Ben%22%2C%20%22package%3A%22%20+%20decorView.getContext%28%29.getPackageName%28%29%20+%20%22%2C%20%22%20+%20decorView%20+%20%22%2C%22%20+%20mPrefs.getString%28%22key_boundary_color_ms%22%2C%20%22default%20value%22%29%29%3B%0ALog.e%28%22Ben%22%2C%20%22file%20can%20read%3A%20%22%20+%20mPrefs.getFile%28%29.canRead%28%29%29%3B%20%3C--%20%u6709%u4E9Bapp%u4F1A%u662Ftrue%uFF0C%u6709%u4E9Bapp%u4F1A%u662Ffalse%0A%60%60%60%0A%u5F53%u8FD4%u56DEtrue%u7684%u65F6%u5019%uFF0Csettings%u5C31%u6210%u529F%u7684%u4F20%u5230%u4E86%u5BF9%u5E94app%u4E86%u3002%u8FD9%u4E2A%u65F6%u800C%u53EF%u4EE5read%u65F6%u800C%u4E0D%u53EF%u4EE5read%uFF0C%u6211%u4E5F%u5F88%u82E6%u607C%uFF0C%u4E0D%u77E5%u9053%u662F%u600E%u4E48%u56DE%u4E8B%u513F%u3002%u7559%u5F85%u4EE5%u540E%u518D%u89E3%u51B3%u4E86%u3002%0A%0A%23%23%20%u89E3%u51B3%u9057%u7559%u7684%u95EE%u9898%20-%2020180119%0A%u4EE5%u4E0A%u7684%u95EE%u9898%u5728%u4E8E%uFF0CAndroid%207.0%u5F00%u59CB%uFF0C%u5373%u4ECESDK%2024%u5F00%u59CB%uFF0CAndroid%u52A0%u5165%u4E86%u5F88%u591Asecurity%u65B9%u9762%u7684%u7279%u6027%uFF0C%u53C2%u8003%5BAndroid%207.0%20Security%20Features%3A%20Direct%20Boot%5D%28https%3A//blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/%29%u3002%u8FD9%u548C%u6211%u4EEC%u7684%u95EE%u9898%u4E0D%u592A%u76F8%u5173%u3002%u76F8%u5173%u7684%u662F%u5982%u4E0A%u6240%u8BF4%uFF0CNougat%u4E0D%u5141%u8BB8world%20readable%u7684%u6587%u4EF6%u4E86%u3002%u5982%u679C%u7528SDK25%u7F16%u8BD1%u7684app%u8FD8%u7528%60MODE_WORLD_READABLE%60%uFF0C%u7CFB%u7EDF%u4F1A%u62A5exception%u3002%0AGoogle%u4E0A%u9C9C%u5C11%u6709%u76F8%u5173%u7684%u89E3%u51B3%u65B9%u6848%uFF0C%u6709%u5982%u4E0B%u51E0%u4E2A%u94FE%u63A5%u53EF%u4EE5%u53C2%u8003%uFF1A%0A-%20%5BGravityBox%20commit%20-%20Use%20device%20protected%20storage%20for%20preferences%20and%20files%5D%28https%3A//github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8%29%0A-%20%5BXposedBridge%20issue%201%20-%20Any%20place%20to%20store%20world%20readable%20preferences%20on%20Nougat%3F%5D%28https%3A//github.com/rovo89/XposedBridge/issues/206%29%0A-%20%5BXposedBridge%20issue%202%20-%20Preferences%20of%20a%20module%20cannot%20be%20read%20from%20different%20process%20on%20some%20devices%20running%20MM%5D%28https%3A//github.com/rovo89/XposedBridge/issues/74%29%0A-%20%5BXposedBridge%20issue%203%20-%20XSharedPreferences%20doesn%27t%20work%5D%28https%3A//github.com/rovo89/XposedBridge/issues/102%29%0A-%20%5B%5BQ%5D%20Xposed%20for%20nougat%20to%20read%20prefs%20ith%20fbe%20or%20without%5D%28https%3A//forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048%29%0A%0A%u7ECF%u8FC7%u9A8C%u8BC1%uFF0C%u662FXposedBridge%20issue%201%u4E2DGravityBox%u4F5C%u8005%u7684%u4E00%u4E2Acomment%u63D0%u5230%u4E86%u6700%u7EC8%u7684%u89E3%u51B3%u65B9%u6CD5%u3002%u8BE5comment%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%5D%28./1516334231370.png%29%0A%u5728%u4E0A%u9762XDA%u7684%u5E16%u5B50%uFF0C%u4EE5%u53CAGravityBox%u7684commit%u4E2D%uFF0C%u6211%u4EEC%u53EF%u4EE5%u770B%u5230GravityBox%u7684%u4F5C%u8005%u91C7%u7528%u4E86Android%207.0%u4E2D%u65B0%u7684SharedPreference%u5B58%u50A8%u65B9%u5F0F%uFF0C%u5373%u901A%u8FC7%u4E0B%u9762%u4E24%u4E2A%u51FD%u6570%uFF1A%0A-%20%60setStorageDeviceProtected%60%0A-%20%60createDeviceProtectedStorageContext%60%0A%0A%u5C06preference%u6587%u4EF6%u5B58%u5230%60/data/user_de/0/%3Cpackage%20name%3E/shared_prefs%60%u4E0B%u3002%u5E76%u5728Xposed%u7684context%u7AEF%uFF0C%u76F4%u63A5%u6253%u5F00%u6587%u4EF6%u8FDB%u884C%u64CD%u4F5C%u3002%0A%u4F46%u5176%u5B9E%u6211%u4EEC%u5E76%u4E0D%u9700%u5982%u6B64%u3002%u53EA%u8981%u4FDD%u8BC1package%20folder%u7684%u6743%u9650%u81F3%u5C11%u662F711%uFF0Cpreference.xml%u6587%u4EF6%u6709%u53EF%u8BFB%u6743%u9650%u5373%u53EF%u3002%0A&lt;/center&gt;&lt;br&gt;&lt;/div&gt;</content>
        <category term="Android" />
        <category term="xposed" />
        <updated>2018-01-17T04:39:32.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.zhougy.top/2018/01/17/XSharedPreference_&amp;_SharedPreference_-_XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/</id>
        <title>XSharedPreference &amp; SharedPreference - XPosed模块中的preference使用</title>
        <link rel="alternate" href="https://blog.zhougy.top/2018/01/17/XSharedPreference_&amp;_SharedPreference_-_XPosed%E6%A8%A1%E5%9D%97%E4%B8%AD%E7%9A%84preference%E4%BD%BF%E7%94%A8/"/>
        <content type="html">&lt;!DOCTYPE en-note SYSTEM &#39;http://xml.evernote.com/pub/enml2.dtd&#39;&gt;&lt;div class=&#34;enNote&#34; style=&#34;color: #2c3f51; line-height: 1.6; background: none;&#34; title lang=&#34;v2&#34; xml:lang dir&gt;&lt;del style=&#34;position:relative;display:block;z-index:10;&#34;&gt;&lt;a style=&#34;position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;&#34; href=&#34;http://maxiang.io/#/?provider=evernote&amp;amp;guid=08e07dee-5c97-456f-bc56-9bc11bb354a0&amp;amp;notebook=myblog&#34;&gt;Edit&lt;/a&gt;&lt;/del&gt;&lt;div style=&#34;color: #2c3f51; line-height: 1.6;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6700;&amp;#x8FD1;&amp;#x5728;&amp;#x7EF4;&amp;#x62A4;&amp;#x4E00;&amp;#x4E2A;Xposed&amp;#x6A21;&amp;#x5757;[]Niwatori-One Handed Mode](&lt;a href=&#34;https://github.com/tkgktyk/Niwatori&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;https://github.com/tkgktyk/Niwatori&lt;/a&gt;)&amp;#x3002;&amp;#x539F;&amp;#x4F5C;&amp;#x8005;tkgktyk&amp;#x5DF2;&amp;#x7ECF;&amp;#x505C;&amp;#x6B62;&amp;#x66F4;&amp;#x65B0;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BFC;&amp;#x81F4;&amp;#x6A21;&amp;#x5757;&amp;#x5728;Xposed Framework for Nougat&amp;#x53D1;&amp;#x5E03;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x4E0D;&amp;#x80FD;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#x6211;fork&amp;#x4E86;&amp;#x4E00;&amp;#x4EFD;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5F00;&amp;#x59CB;&amp;#x505A;Android Nougat&amp;#x4E0A;&amp;#x7684;&amp;#x9002;&amp;#x914D;&amp;#x5DE5;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5E76;&amp;#x5728;XDA&amp;#x4E0A;&amp;#x53D1;&amp;#x5E03;&amp;#x4E86;&amp;#x66F4;&amp;#x65B0;&lt;a href=&#34;https://forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;&amp;#x94FE;&amp;#x63A5;&lt;/a&gt;&amp;#x3002; &lt;br&gt;&amp;#x5728;&amp;#x9002;&amp;#x914D;&amp;#x4E86;Nougat&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E00;&amp;#x4E9B;&amp;#x65B0;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x8BA9;&amp;#x7528;&amp;#x6237;&amp;#x4F53;&amp;#x9A8C;&amp;#x66F4;&amp;#x597D;&amp;#x3002;&amp;#x76EE;&amp;#x524D;&amp;#x60F3;&amp;#x505A;&amp;#x7684;&amp;#x662F;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;fooview&amp;#x8C03;&amp;#x7528;Niwatori&amp;#x7684;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5E76;&amp;#x4E14;&amp;#x8BE5;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#x662F;small screen&amp;#x8FD8;&amp;#x662F;slide down&amp;#x7B49;&amp;#x7B49;&amp;#xFF0C;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;Niwatori&amp;#x672C;&amp;#x8EAB;&amp;#x8FDB;&amp;#x884C;&amp;#x914D;&amp;#x7F6E;&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x8FD9;&amp;#x4E00;&amp;#x529F;&amp;#x80FD;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x52A8;&amp;#x6001;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x52A0;&amp;#x8F7D;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;SDK 25&amp;#x4EE5;&amp;#x4E0A;&amp;#x7248;&amp;#x672C;&amp;#xFF0C;&amp;#x800C;&amp;#x4ECE;SDK 25&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x539F;&amp;#x5148;SharedPreference&amp;#x7684;&amp;#x6253;&amp;#x5F00;&amp;#x65B9;&amp;#x5F0F;MODE_WORLD_PRIVATE&amp;#x5DF2;&amp;#x7ECF;&amp;#x88AB;&amp;#x7981;&amp;#x6B62;&amp;#x4E86;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;security exception&amp;#x3002; &lt;br&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x5347;&amp;#x5230;&amp;#x4F7F;&amp;#x7528;SDK 25&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x89E3;&amp;#x51B3;preference&amp;#x5F15;&amp;#x7528;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x8FD9;&amp;#x4E2A;&amp;#x6A21;&amp;#x5F0F;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x5230;&amp;#x5E95;&amp;#x4F1A;&amp;#x5728;&amp;#x54EA;&amp;#x91CC;&amp;#x5F71;&amp;#x54CD;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;Xposed&amp;#x6A21;&amp;#x5757;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;Xposed&amp;#x4E2D;&amp;#x7684;preference&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;Xposed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;preference&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;XSharedPreference&amp;#x6765;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;XSharedPreference&amp;#x5728;Android&amp;#x6807;&amp;#x51C6;&amp;#x7684;SharedPreference&amp;#x7C7B;&amp;#x4E0A;&amp;#x5305;&amp;#x4E86;&amp;#x4E00;&amp;#x5C42;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E9B;security&amp;#x7684;fix&amp;#x6216;&amp;#x8005;work around&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;XSharedPreference.makeWorldReadable&amp;#x3002;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&amp;#x52A0;&amp;#x8F7D;app data&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E0B;&amp;#x7684;xml&amp;#x6587;&amp;#x4EF6;&amp;#x6765;&amp;#x8BFB;&amp;#x53D6;&amp;#x3001;&amp;#x5B58;&amp;#x50A8;&amp;#x952E;&amp;#x503C;&amp;#x5BF9;&amp;#x7684;&amp;#x3002;&amp;#x8BE5;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#x4E3A;&amp;#xFF08;&amp;#x4EE5;Niwatori&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF09;&amp;#xFF1A;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml&lt;/code&gt;&amp;#x3002;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x901A;&amp;#x5E38;Xposed&amp;#x4E2D;&amp;#x5982;&amp;#x4E0B;&amp;#x4F7F;&amp;#x7528;preference&amp;#x4F1A;&amp;#x6309;&amp;#x7167;&amp;#x5982;&amp;#x4E0B;&amp;#x7684;&amp;#x65F6;&amp;#x5E8F;&amp;#x56FE;&amp;#xFF0C;&amp;#x4EE5;Niwatori&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;&lt;div style=&#34;text-align: center; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/XSharedPreference &amp;amp; SharedPreference - XPosed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x7684;preference&amp;#x4F7F;&amp;#x7528;/SVG78bf507dfa06d67d15e9356fa67699ec&#34; hash=&#34;faf526b522cf280365ebea346d0a680e&#34; align alt longdesc width=&#34;870.953125&#34; height=&#34;378.875&#34; border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%; margin-top: 0; margin-bottom: 0;&#34; title lang xml:lang dir&gt;&lt;/span&gt;&lt;/div&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;XSharedPreference&amp;#x5B9E;&amp;#x4F8B;&amp;#x521B;&amp;#x5EFA;&amp;#x5728;&amp;#x6A21;&amp;#x5757;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;initZygote&lt;/code&gt;&amp;#x4E2D;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x901A;&amp;#x8FC7;&amp;#x94A9;&amp;#x5B50;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5728;&amp;#x5404;&amp;#x4E2A;app&amp;#x7684;Context&amp;#x5E95;&amp;#x4E0B;&amp;#x6267;&amp;#x884C;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4E8E;&amp;#x662F;&amp;#x5F53;MODE_WORLD_READABLE&amp;#x88AB;&amp;#x5E9F;&amp;#x6B62;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x51FA;&amp;#x95EE;&amp;#x9898;&amp;#x4E86;&amp;#x3002;&amp;#x5373;&amp;#x5728;&amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#xFF0C;app1&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x6743;&amp;#x9650;&amp;#x67E5;&amp;#x770B;Niwatori&amp;#x7684;preference&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x6CA1;&amp;#x6CD5;&amp;#x52A0;&amp;#x8F7D;&amp;#x914D;&amp;#x7F6E;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;Xposed&amp;#x5B98;&amp;#x65B9;&amp;#x6216;&amp;#x8005;&amp;#x4F5C;&amp;#x8005;rovo89&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x7ED9;&amp;#x51FA;&amp;#x5B98;&amp;#x65B9;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x529E;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x603B;&amp;#x662F;&amp;#x4F1A;&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x672A;&amp;#x96E8;&amp;#x7EF8;&amp;#x7F2A;&amp;#x7684;&amp;#x52C7;&amp;#x58EB;&amp;#xFF0C;XDA&amp;#x4E0A;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E16;&amp;#x5B50;&amp;#x7ED9;&amp;#x51FA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;work around&amp;#xFF1A;&lt;a href=&#34;https://forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;MODE_WORLD_READABLE in Android N&lt;/a&gt;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6211;&amp;#x5728;Niwatori&amp;#x4E2D;&amp;#x4E5F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x4ECD;&amp;#x7136;&amp;#x4E0D;&amp;#x662F;&amp;#x5B8C;&amp;#x7F8E;&amp;#x89E3;&amp;#x51B3;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x76EE;&amp;#x524D;&amp;#x8FD8;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x5982;&amp;#x4F55;&amp;#x6539;&amp;#x8FDB;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x9057;&amp;#x7559;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8BE5;work around&amp;#x548C;XSharedPreference.makeWorldReadable&amp;#x540C;&amp;#x7406;&amp;#xFF0C;&amp;#x6211;&amp;#x5982;&amp;#x4E0B;&amp;#x8C03;&amp;#x7528;preference&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; overflow-x: auto; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;mPrefs.makeWorldReadable();&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;Log&lt;/span&gt;.&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;e&lt;/span&gt;(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;Ben&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;package:&amp;quot;&lt;/span&gt; + decorView.getContext().getPackageName() + &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;, &amp;quot;&lt;/span&gt; + decorView + &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;,&amp;quot;&lt;/span&gt; + mPrefs.getString(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;key_boundary_color_ms&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;default value&amp;quot;&lt;/span&gt;));&lt;/div&gt;&lt;div style=&#34;min-height: 1.5em; color: inherit; line-height: 1.6; background-color: transparent;&#34;&gt;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;Log&lt;/span&gt;.&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;e&lt;/span&gt;(&lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;Ben&amp;quot;&lt;/span&gt;, &lt;span style=&#34;display: inline; line-height: 1.6; color: #e6db74; background-color: transparent;&#34;&gt;&amp;quot;file can read: &amp;quot;&lt;/span&gt; + mPrefs.getFile().canRead()); &amp;lt;-- &amp;#x6709;&amp;#x4E9B;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;app&lt;/span&gt;&amp;#x4F1A;&amp;#x662F;true&amp;#xFF0C;&amp;#x6709;&amp;#x4E9B;&lt;span style=&#34;display: inline; line-height: 1.6; color: #f92672; background-color: transparent;&#34;&gt;app&lt;/span&gt;&amp;#x4F1A;&amp;#x662F;false&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5F53;&amp;#x8FD4;&amp;#x56DE;true&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;settings&amp;#x5C31;&amp;#x6210;&amp;#x529F;&amp;#x7684;&amp;#x4F20;&amp;#x5230;&amp;#x4E86;&amp;#x5BF9;&amp;#x5E94;app&amp;#x4E86;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65F6;&amp;#x800C;&amp;#x53EF;&amp;#x4EE5;read&amp;#x65F6;&amp;#x800C;&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;read&amp;#xFF0C;&amp;#x6211;&amp;#x4E5F;&amp;#x5F88;&amp;#x82E6;&amp;#x607C;&amp;#xFF0C;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x662F;&amp;#x600E;&amp;#x4E48;&amp;#x56DE;&amp;#x4E8B;&amp;#x513F;&amp;#x3002;&amp;#x7559;&amp;#x5F85;&amp;#x4EE5;&amp;#x540E;&amp;#x518D;&amp;#x89E3;&amp;#x51B3;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 34.4px; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x9057;&amp;#x7559;&amp;#x7684;&amp;#x95EE;&amp;#x9898; - 20180119&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x5728;&amp;#x4E8E;&amp;#xFF0C;Android 7.0&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x5373;&amp;#x4ECE;SDK 24&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;Android&amp;#x52A0;&amp;#x5165;&amp;#x4E86;&amp;#x5F88;&amp;#x591A;security&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;&lt;a href=&#34;https://blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android 7.0 Security Features: Direct Boot&lt;/a&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x548C;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x4E0D;&amp;#x592A;&amp;#x76F8;&amp;#x5173;&amp;#x3002;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x662F;&amp;#x5982;&amp;#x4E0A;&amp;#x6240;&amp;#x8BF4;&amp;#xFF0C;Nougat&amp;#x4E0D;&amp;#x5141;&amp;#x8BB8;world readable&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x7528;SDK25&amp;#x7F16;&amp;#x8BD1;&amp;#x7684;app&amp;#x8FD8;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;MODE_WORLD_READABLE&lt;/code&gt;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x62A5;exception&amp;#x3002; &lt;br&gt;Google&amp;#x4E0A;&amp;#x9C9C;&amp;#x5C11;&amp;#x6709;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#xFF0C;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x94FE;&amp;#x63A5;&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;&amp;#xFF1A;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;GravityBox commit - Use device protected storage for preferences and files&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/206&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 1 - Any place to store world readable preferences on Nougat?&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/74&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 2 - Preferences of a module cannot be read from different process on some devices running MM&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://github.com/rovo89/XposedBridge/issues/102&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;XposedBridge issue 3 - XSharedPreferences doesn&amp;#x2019;t work&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;[Q] Xposed for nougat to read prefs ith fbe or without&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x7ECF;&amp;#x8FC7;&amp;#x9A8C;&amp;#x8BC1;&amp;#xFF0C;&amp;#x662F;XposedBridge issue 1&amp;#x4E2D;GravityBox&amp;#x4F5C;&amp;#x8005;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;comment&amp;#x63D0;&amp;#x5230;&amp;#x4E86;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8BE5;comment&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/XSharedPreference &amp;amp; SharedPreference - XPosed&amp;#x6A21;&amp;#x5757;&amp;#x4E2D;&amp;#x7684;preference&amp;#x4F7F;&amp;#x7528;/1516334231370.png&#34; hash=&#34;4bb9cc0ad024876dd28baed5c27bad27&#34; align alt longdesc width height border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;setStorageDeviceProtected&lt;/code&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;createDeviceProtectedStorageContext&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5C06;preference&amp;#x6587;&amp;#x4EF6;&amp;#x5B58;&amp;#x5230;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;/data/user_de/0/&amp;lt;package name&amp;gt;/shared_prefs&lt;/code&gt;&amp;#x4E0B;&amp;#x3002;&amp;#x5E76;&amp;#x5728;Xposed&amp;#x7684;context&amp;#x7AEF;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x6253;&amp;#x5F00;&amp;#x6587;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002; &lt;br&gt;&amp;#x4F46;&amp;#x5176;&amp;#x5B9E;&amp;#x6211;&amp;#x4EEC;&amp;#x5E76;&amp;#x4E0D;&amp;#x9700;&amp;#x5982;&amp;#x6B64;&amp;#x3002;&amp;#x53EA;&amp;#x8981;&amp;#x4FDD;&amp;#x8BC1;package folder&amp;#x7684;&amp;#x6743;&amp;#x9650;&amp;#x81F3;&amp;#x5C11;&amp;#x662F;711&amp;#xFF0C;preference.xml&amp;#x6587;&amp;#x4EF6;&amp;#x6709;&amp;#x53EF;&amp;#x8BFB;&amp;#x6743;&amp;#x9650;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;&lt;/div&gt;&lt;center style=&#34;display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden&#34;&gt;%23%20XSharedPreference%20%26%20SharedPreference%20-%20XPosed%u6A21%u5757%u4E2D%u7684preference%u4F7F%u7528%0A@%28myblog%29%5BAndroid%2C%20xposed%5D%0A%0A%u6700%u8FD1%u5728%u7EF4%u62A4%u4E00%u4E2AXposed%u6A21%u5757%5B%5DNiwatori-One%20Handed%20Mode%5D%28https%3A//github.com/tkgktyk/Niwatori%29%u3002%u539F%u4F5C%u8005tkgktyk%u5DF2%u7ECF%u505C%u6B62%u66F4%u65B0%u4E86%uFF0C%u5BFC%u81F4%u6A21%u5757%u5728Xposed%20Framework%20for%20Nougat%u53D1%u5E03%u4EE5%u540E%uFF0C%u4E0D%u80FD%u4F7F%u7528%u3002%u4E8E%u662F%u6211fork%u4E86%u4E00%u4EFD%u4EE3%u7801%uFF0C%u5F00%u59CB%u505AAndroid%20Nougat%u4E0A%u7684%u9002%u914D%u5DE5%u4F5C%uFF0C%u5E76%u5728XDA%u4E0A%u53D1%u5E03%u4E86%u66F4%u65B0%5B%u94FE%u63A5%5D%28https%3A//forum.xda-developers.com/xposed/modules/mod-niwatori-one-handed-mode-t3730963%29%u3002%0A%u5728%u9002%u914D%u4E86Nougat%u4E4B%u540E%uFF0C%u5E0C%u671B%u80FD%u6DFB%u52A0%u4E00%u4E9B%u65B0%u529F%u80FD%uFF0C%u8BA9%u7528%u6237%u4F53%u9A8C%u66F4%u597D%u3002%u76EE%u524D%u60F3%u505A%u7684%u662F%u80FD%u901A%u8FC7fooview%u8C03%u7528Niwatori%u7684%u5FEB%u6377%u65B9%u5F0F%u3002%u5E76%u4E14%u8BE5%u5FEB%u6377%u65B9%u5F0F%u7684%u529F%u80FD%uFF0C%u4F8B%u5982%u662Fsmall%20screen%u8FD8%u662Fslide%20down%u7B49%u7B49%uFF0C%u80FD%u901A%u8FC7Niwatori%u672C%u8EAB%u8FDB%u884C%u914D%u7F6E%u3002%u4F46%u662F%u5728%u5F00%u53D1%u8FD9%u4E00%u529F%u80FD%u7684%u65F6%u5019%uFF0C%u53D1%u73B0%u52A8%u6001%u5FEB%u6377%u65B9%u5F0F%u7684%u52A0%u8F7D%u9700%u8981%u4F7F%u7528SDK%2025%u4EE5%u4E0A%u7248%u672C%uFF0C%u800C%u4ECESDK%2025%u5F00%u59CB%uFF0C%u539F%u5148SharedPreference%u7684%u6253%u5F00%u65B9%u5F0FMODE%5C_WORLD%5C_PRIVATE%u5DF2%u7ECF%u88AB%u7981%u6B62%u4E86%u3002%u4F7F%u7528%u5B83%u4F1A%u5BFC%u81F4security%20exception%u3002%0A%u6240%u4EE5%u8981%u5347%u5230%u4F7F%u7528SDK%2025%uFF0C%u5FC5%u987B%u89E3%u51B3preference%u5F15%u7528%u7684%u95EE%u9898%u3002%u90A3%u4E48%u8FD9%u4E2A%u6A21%u5F0F%u7684%u53D8%u5316%uFF0C%u5230%u5E95%u4F1A%u5728%u54EA%u91CC%u5F71%u54CD%u5230%u6211%u4EEC%u7684Xposed%u6A21%u5757%u5462%uFF1F%0A%0A%23%23%20Xposed%u4E2D%u7684preference%0AXposed%u6A21%u5757%u4E2D%u4F7F%u7528preference%u7684%u65F6%u5019%uFF0C%u901A%u5E38%u90FD%u662F%u901A%u8FC7XSharedPreference%u6765%u64CD%u4F5C%u3002XSharedPreference%u5728Android%u6807%u51C6%u7684SharedPreference%u7C7B%u4E0A%u5305%u4E86%u4E00%u5C42%uFF0C%u63D0%u4F9B%u4E86%u4E00%u4E9Bsecurity%u7684fix%u6216%u8005work%20around%u3002%u4F8B%u5982%uFF1AXSharedPreference.makeWorldReadable%u3002%u4ED6%u4EEC%u90FD%u662F%u52A0%u8F7Dapp%20data%u6587%u4EF6%u5939%u4E0B%u7684xml%u6587%u4EF6%u6765%u8BFB%u53D6%u3001%u5B58%u50A8%u952E%u503C%u5BF9%u7684%u3002%u8BE5%u6587%u4EF6%u8DEF%u5F84%u4E3A%uFF08%u4EE5Niwatori%u4E3A%u4F8B%uFF09%uFF1A%60/data/data/jp.tkgktyk.xposed.niwatori/shared_prefs/jp.tkgktyk.xposed.niwatori_preferences.xml%60%u3002%0A%0A%u901A%u5E38Xposed%u4E2D%u5982%u4E0B%u4F7F%u7528preference%u4F1A%u6309%u7167%u5982%u4E0B%u7684%u65F6%u5E8F%u56FE%uFF0C%u4EE5Niwatori%u4E3A%u4F8B%uFF1A%0A%60%60%60%20sequence%0ANote%20left%20of%20Niwatori%3A%20initZygote%0ANote%20left%20of%20Niwatori%3A%20Construct%20a%20XSharedPreference%0ANiwatori-%3EActivity.class%3A%20hook%0AActivity.class-%3Eapp1%3A%20onCreate%0ANote%20right%20of%20app1%3A%20load%20the%20XSharedPreference%0AActivity.class-%3Eapp2%3A%20onCreate%0ANote%20right%20of%20app2%3A%20load%20the%20XSharedPreference%0A%60%60%60%0A-%20XSharedPreference%u5B9E%u4F8B%u521B%u5EFA%u5728%u6A21%u5757%u52A0%u8F7D%u7684%60initZygote%60%u4E2D%0A-%20%u6570%u636E%u7684%u4F7F%u7528%u901A%u8FC7%u94A9%u5B50%u51FD%u6570%uFF0C%u5728%u5404%u4E2Aapp%u7684Context%u5E95%u4E0B%u6267%u884C%0A%0A%u4E8E%u662F%u5F53MODE%5C_WORLD%5C_READABLE%u88AB%u5E9F%u6B62%u4EE5%u540E%uFF0C%u8FD9%u91CC%u5C31%u51FA%u95EE%u9898%u4E86%u3002%u5373%u5728%u9ED8%u8BA4%u60C5%u51B5%u4E0B%uFF0Capp1%u662F%u6CA1%u6709%u6743%u9650%u67E5%u770BNiwatori%u7684preference%u6587%u4EF6%u7684%uFF0C%u4E5F%u5C31%u6CA1%u6CD5%u52A0%u8F7D%u914D%u7F6E%u6570%u636E%u3002%0A%0AXposed%u5B98%u65B9%u6216%u8005%u4F5C%u8005rovo89%u8FD8%u6CA1%u6709%u7ED9%u51FA%u5B98%u65B9%u7684%u89E3%u51B3%u529E%u6CD5%uFF0C%u4F46%u603B%u662F%u4F1A%u6709%u4E00%u4E9B%u672A%u96E8%u7EF8%u7F2A%u7684%u52C7%u58EB%uFF0CXDA%u4E0A%u6709%u4E00%u4E2A%u5E16%u5B50%u7ED9%u51FA%u4E86%u4E00%u4E2Awork%20around%uFF1A%5BMODE_WORLD_READABLE%20in%20Android%20N%5D%28https%3A//forum.xda-developers.com/xposed/development/modeworldreadable-android-n-t3407123%29%0A%0A%u6211%u5728Niwatori%u4E2D%u4E5F%u4F7F%u7528%u4E86%u8BE5%u65B9%u6CD5%uFF0C%u4F46%u4ECD%u7136%u4E0D%u662F%u5B8C%u7F8E%u89E3%u51B3%uFF0C%u800C%u4E14%u76EE%u524D%u8FD8%u4E0D%u77E5%u9053%u5982%u4F55%u6539%u8FDB%u3002%0A%0A%23%23%20%u9057%u7559%u7684%u95EE%u9898%0A%u8BE5work%20around%u548CXSharedPreference.makeWorldReadable%u540C%u7406%uFF0C%u6211%u5982%u4E0B%u8C03%u7528preference%uFF1A%0A%60%60%60%0AmPrefs.makeWorldReadable%28%29%3B%0ALog.e%28%22Ben%22%2C%20%22package%3A%22%20+%20decorView.getContext%28%29.getPackageName%28%29%20+%20%22%2C%20%22%20+%20decorView%20+%20%22%2C%22%20+%20mPrefs.getString%28%22key_boundary_color_ms%22%2C%20%22default%20value%22%29%29%3B%0ALog.e%28%22Ben%22%2C%20%22file%20can%20read%3A%20%22%20+%20mPrefs.getFile%28%29.canRead%28%29%29%3B%20%3C--%20%u6709%u4E9Bapp%u4F1A%u662Ftrue%uFF0C%u6709%u4E9Bapp%u4F1A%u662Ffalse%0A%60%60%60%0A%u5F53%u8FD4%u56DEtrue%u7684%u65F6%u5019%uFF0Csettings%u5C31%u6210%u529F%u7684%u4F20%u5230%u4E86%u5BF9%u5E94app%u4E86%u3002%u8FD9%u4E2A%u65F6%u800C%u53EF%u4EE5read%u65F6%u800C%u4E0D%u53EF%u4EE5read%uFF0C%u6211%u4E5F%u5F88%u82E6%u607C%uFF0C%u4E0D%u77E5%u9053%u662F%u600E%u4E48%u56DE%u4E8B%u513F%u3002%u7559%u5F85%u4EE5%u540E%u518D%u89E3%u51B3%u4E86%u3002%0A%0A%23%23%20%u89E3%u51B3%u9057%u7559%u7684%u95EE%u9898%20-%2020180119%0A%u4EE5%u4E0A%u7684%u95EE%u9898%u5728%u4E8E%uFF0CAndroid%207.0%u5F00%u59CB%uFF0C%u5373%u4ECESDK%2024%u5F00%u59CB%uFF0CAndroid%u52A0%u5165%u4E86%u5F88%u591Asecurity%u65B9%u9762%u7684%u7279%u6027%uFF0C%u53C2%u8003%5BAndroid%207.0%20Security%20Features%3A%20Direct%20Boot%5D%28https%3A//blog.compass-security.com/2016/10/android-7-0-security-features-direct-boot/%29%u3002%u8FD9%u548C%u6211%u4EEC%u7684%u95EE%u9898%u4E0D%u592A%u76F8%u5173%u3002%u76F8%u5173%u7684%u662F%u5982%u4E0A%u6240%u8BF4%uFF0CNougat%u4E0D%u5141%u8BB8world%20readable%u7684%u6587%u4EF6%u4E86%u3002%u5982%u679C%u7528SDK25%u7F16%u8BD1%u7684app%u8FD8%u7528%60MODE_WORLD_READABLE%60%uFF0C%u7CFB%u7EDF%u4F1A%u62A5exception%u3002%0AGoogle%u4E0A%u9C9C%u5C11%u6709%u76F8%u5173%u7684%u89E3%u51B3%u65B9%u6848%uFF0C%u6709%u5982%u4E0B%u51E0%u4E2A%u94FE%u63A5%u53EF%u4EE5%u53C2%u8003%uFF1A%0A-%20%5BGravityBox%20commit%20-%20Use%20device%20protected%20storage%20for%20preferences%20and%20files%5D%28https%3A//github.com/GravityBox/GravityBox/commit/d825b7be445c18de9a90eb8f77c1c5eb2b74deb8%29%0A-%20%5BXposedBridge%20issue%201%20-%20Any%20place%20to%20store%20world%20readable%20preferences%20on%20Nougat%3F%5D%28https%3A//github.com/rovo89/XposedBridge/issues/206%29%0A-%20%5BXposedBridge%20issue%202%20-%20Preferences%20of%20a%20module%20cannot%20be%20read%20from%20different%20process%20on%20some%20devices%20running%20MM%5D%28https%3A//github.com/rovo89/XposedBridge/issues/74%29%0A-%20%5BXposedBridge%20issue%203%20-%20XSharedPreferences%20doesn%27t%20work%5D%28https%3A//github.com/rovo89/XposedBridge/issues/102%29%0A-%20%5B%5BQ%5D%20Xposed%20for%20nougat%20to%20read%20prefs%20ith%20fbe%20or%20without%5D%28https%3A//forum.xda-developers.com/xposed/xposed-nougat-to-read-prefs-ith-fbe-t3690048%29%0A%0A%u7ECF%u8FC7%u9A8C%u8BC1%uFF0C%u662FXposedBridge%20issue%201%u4E2DGravityBox%u4F5C%u8005%u7684%u4E00%u4E2Acomment%u63D0%u5230%u4E86%u6700%u7EC8%u7684%u89E3%u51B3%u65B9%u6CD5%u3002%u8BE5comment%u5982%u4E0B%uFF1A%0A%21%5BAlt%20text%5D%28./1516334231370.png%29%0A%u5728%u4E0A%u9762XDA%u7684%u5E16%u5B50%uFF0C%u4EE5%u53CAGravityBox%u7684commit%u4E2D%uFF0C%u6211%u4EEC%u53EF%u4EE5%u770B%u5230GravityBox%u7684%u4F5C%u8005%u91C7%u7528%u4E86Android%207.0%u4E2D%u65B0%u7684SharedPreference%u5B58%u50A8%u65B9%u5F0F%uFF0C%u5373%u901A%u8FC7%u4E0B%u9762%u4E24%u4E2A%u51FD%u6570%uFF1A%0A-%20%60setStorageDeviceProtected%60%0A-%20%60createDeviceProtectedStorageContext%60%0A%0A%u5C06preference%u6587%u4EF6%u5B58%u5230%60/data/user_de/0/%3Cpackage%20name%3E/shared_prefs%60%u4E0B%u3002%u5E76%u5728Xposed%u7684context%u7AEF%uFF0C%u76F4%u63A5%u6253%u5F00%u6587%u4EF6%u8FDB%u884C%u64CD%u4F5C%u3002%0A%u4F46%u5176%u5B9E%u6211%u4EEC%u5E76%u4E0D%u9700%u5982%u6B64%u3002%u53EA%u8981%u4FDD%u8BC1package%20folder%u7684%u6743%u9650%u81F3%u5C11%u662F711%uFF0Cpreference.xml%u6587%u4EF6%u6709%u53EF%u8BFB%u6743%u9650%u5373%u53EF%u3002%0A&lt;/center&gt;&lt;br&gt;&lt;/div&gt;</content>
        <category term="Android" />
        <category term="xposed" />
        <updated>2018-01-17T04:39:32.000Z</updated>
    </entry>
    <entry>
        <id>https://blog.zhougy.top/2016/10/19/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</id>
        <title>Android单元测试</title>
        <link rel="alternate" href="https://blog.zhougy.top/2016/10/19/Android%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
        <content type="html">&lt;!DOCTYPE en-note SYSTEM &#39;http://xml.evernote.com/pub/enml2.dtd&#39;&gt;&lt;div class=&#34;enNote&#34; style=&#34;color: #2c3f51; font-family: &amp;apos;Helvetica Neue&amp;apos;, Arial, &amp;apos;Hiragino Sans GB&amp;apos;, STHeiti, &amp;apos;Microsoft YaHei&amp;apos;, &amp;apos;WenQuanYi Micro Hei&amp;apos;, SimSun, Song, sans-serif; line-height: 1.6;&#34; title lang=&#34;v2&#34; xml:lang dir&gt;&lt;del style=&#34;position:relative;display:block;z-index:10;&#34;&gt;&lt;a style=&#34;position: absolute;color: #FFF;text-decoration: none;font-size: 12px;height: 25px;border-radius: 0;margin-top: -20px;right: 15px;background: rgba(0, 0, 0, 0);border-left: 10px solid #BB3A34;border-right: 10px solid #BB3A34;border-bottom: 5px solid rgba(0, 0, 0, 0);width: 0;text-indent:-100000px;&#34; href=&#34;http://maxiang.info/#/?provider=evernote_int&amp;amp;guid=ade7b067-6df9-46f4-a97e-71b9e0b2cff8&amp;amp;notebook=%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0&#34;&gt;Edit&lt;/a&gt;&lt;/del&gt;&lt;div style=&#34;color: #2c3f51; font-family: &amp;apos;Helvetica Neue&amp;apos;, Arial, &amp;apos;Hiragino Sans GB&amp;apos;, STHeiti, &amp;apos;Microsoft YaHei&amp;apos;, &amp;apos;WenQuanYi Micro Hei&amp;apos;, SimSun, Song, sans-serif; line-height: 1.6;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt; &lt;br&gt;&amp;#x4ECA;&amp;#x65E5;&amp;#x5728;&amp;#x505A;&amp;#x5FAE;&amp;#x4FE1;IoT&amp;#x6253;&amp;#x5370;&amp;#x673A;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x7528;Android&amp;#x7A0B;&amp;#x5E8F;&amp;#x8BBF;&amp;#x95EE;WPS&amp;#x670D;&amp;#x52A1;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x5C06;word&amp;#x6587;&amp;#x6863;&amp;#x53E6;&amp;#x5B58;&amp;#x4E3A;PDF&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#xFF0C;&amp;#x79C9;&amp;#x7740;TDD&amp;#x7684;&amp;#x7CBE;&amp;#x795E;&amp;#xFF0C;&amp;#x5F00;&amp;#x59CB;&amp;#x5B66;&amp;#x4E60;&amp;#x5982;&amp;#x4F55;&amp;#x5728;Android&amp;#x4E2D;&amp;#x505A;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x3002;&lt;/p&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 2.15em; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x5165;&amp;#x95E8;&lt;/h2&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;JUnit&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9996;&amp;#x5148;&amp;#x770B;&amp;#x5230;&amp;#x7684;&amp;#x662F;Android&amp;#x7684;&amp;#x5B98;&amp;#x7F51;&amp;#x6587;&amp;#x6863;&lt;a href=&#34;https://developer.android.com/training/testing/start/index.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Getting Started with Testing&lt;/a&gt;, &lt;a href=&#34;https://developer.android.com/training/testing/unit-testing/local-unit-tests.html&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Building Local Unit Tests&lt;/a&gt;&amp;#x3002;&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;&amp;#x8DD1;&amp;#x5728;&amp;#x4E3B;&amp;#x673A;&amp;#x4E0A;&amp;#x7684;&amp;#xFF0C;&amp;#x53EB;Local Unit Test&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x8DD1;&amp;#x5728;&amp;#x76EE;&amp;#x6807;&amp;#x673A;&amp;#x4E0A;&amp;#xFF0C;&amp;#x53EB;Instrumented Unit Test&amp;#x3002; &lt;br&gt;Local Unit Test&amp;#x57FA;&amp;#x4E8E;JUnit&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5173;&amp;#x4E8E;Local Unit Test&amp;#x7684;&amp;#x94FE;&amp;#x63A5;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;&amp;#x5982;&amp;#x4F55;&amp;#x5728;Android Studio&amp;#x4E2D;&amp;#x4F7F;&amp;#x80FD;JUnit&amp;#x7684;&amp;#x8303;&amp;#x4F8B;&amp;#x4E86;&amp;#x3002;&amp;#x914D;&amp;#x7F6E;&amp;#x597D;Dependencies&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E86;&amp;#x3002;Android Studio&amp;#x4F1A;&amp;#x53BB;maven&amp;#x5E93;&amp;#x4E2D;&amp;#x6293;&amp;#x53D6;JUnit&amp;#x7684;jar&amp;#x5305;&amp;#x5E76;&amp;#x5BFC;&amp;#x5165;&amp;#x5230;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x3002; &lt;br&gt;&amp;#x9047;&amp;#x5230;&amp;#x9519;&amp;#x8BEF;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;Error:(23, 17)&amp;quot;Failed to resolve: junit:junit:4.12&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;build.gradle&amp;#x4E0B;&amp;#x9762;&amp;#x52A0;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;repositories&lt;/span&gt; &amp;#123;&lt;br&gt;        &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;maven&lt;/span&gt; &amp;#123; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;apos;http://repo1.maven.org/maven2&amp;apos;&lt;/span&gt; &amp;#125;&lt;br&gt;        jcenter &amp;#123; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;url&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;http://jcenter.bintray.com/&amp;quot;&lt;/span&gt; &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x6216;&amp;#x8005;&amp;#x81EA;&amp;#x884C;&amp;#x53BB;&amp;#x4E0B;&amp;#x8F7D;junit-4.12.jar&amp;#xFF0C;&amp;#x518D;&amp;#x653E;&amp;#x5230;libs&amp;#x76EE;&amp;#x5F55;&amp;#x5E95;&amp;#x4E0B;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;Mockito&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5728;C++&amp;#x4E2D;&amp;#x505A;Unit Test&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5F80;&amp;#x5F80;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;&amp;#x6784;&amp;#x5EFA;stub&amp;#xFF0C;&amp;#x6765;&amp;#x9694;&amp;#x79BB;&amp;#x9700;&amp;#x8981;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;code&amp;#x3002;&amp;#x5728;Java&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6709;&amp;#x73B0;&amp;#x6210;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&lt;a href=&#34;https://github.com/mockito/mockito&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Mockito&lt;/a&gt;&amp;#x3002;&amp;#x7F51;&amp;#x4E0A;&amp;#x5173;&amp;#x4E8E;Mockito+Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E00;&amp;#x641C;&amp;#x4E00;&amp;#x5927;&amp;#x645E;&amp;#x3002;&amp;#x6211;&amp;#x4E5F;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x6458;&amp;#x5F55;&amp;#x4E86;&amp;#x51E0;&amp;#x4E2A;&amp;#x3002;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/360fa827-de1f-46e7-b815-465c074a5b9e&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E8C;&amp;#xFF1A;Mockito&amp;#x4E0E;&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/beaaf776-621e-4fdb-9dca-e6eedc6a1029&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android &amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E4B;JUnit&amp;#x548C;Mockito&lt;/a&gt;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&lt;a href=&#34;https://www.evernote.com/shard/s24/nl/2724128/78565e6e-82eb-4f74-80c8-177863a6499c&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Android&amp;#x6700;&amp;#x4F73;Mock&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;&amp;#x65B9;&amp;#x6848;:Junit + Mockito + Powermock&lt;/a&gt; &lt;br&gt;Mockito&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x6A21;&amp;#x62DF;&amp;#x5916;&amp;#x90E8;&amp;#x7C7B;&amp;#x7684;&amp;#x884C;&amp;#x4E3A;&amp;#xFF0C;&amp;#x8FBE;&amp;#x5230;&amp;#x9694;&amp;#x79BB;&amp;#x5F85;&amp;#x6D4B;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x3002;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;/1476833497231.png&#34; hash=&#34;24f2966fe93c86710a6f591544903ae1&#34; align alt longdesc width height border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;import&lt;/span&gt; android.os.classA&lt;br&gt;&lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e; font-style: italic;&#34;&gt;B&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;br&gt;    &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;methodC&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f8f8f2;&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;br&gt;        classA a = &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;new&lt;/span&gt; classA();&lt;br&gt;        a.methodA();&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8BF7;&amp;#x95EE;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x8981;&amp;#x600E;&amp;#x4E48;&amp;#x5728;methodC&amp;#x4E2D;&amp;#x6A21;&amp;#x62DF;&amp;#x5BF9;&amp;#x8C61;A&amp;#x7684;&amp;#x884C;&amp;#x4E3A;&amp;#x3002;&amp;#x8BF8;&amp;#x5982;&amp;#x6B64;&amp;#x7C7B;&amp;#x5F88;&amp;#x591A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x4F1A;&amp;#x5728;&amp;#x4E0B;&amp;#x9762;&amp;#x4E00;&amp;#x7AE0;&amp;#x8FDB;&amp;#x884C;&amp;#x7F57;&amp;#x5217;&amp;#x3002;&amp;#x4E8E;&amp;#x662F;&amp;#x5728;Google&amp;#x4E4B;&amp;#x4E2D;&amp;#x5C31;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;PowerMock&amp;#x3002;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;PowerMock&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;PowerMock&amp;#x662F;Mock&amp;#x6846;&amp;#x67B6;&amp;#x7684;&amp;#x6269;&amp;#x5C55;&amp;#xFF0C;&amp;#x4ED6;&amp;#x540C;&amp;#x65F6;&amp;#x652F;&amp;#x6301;EasyMock&amp;#x548C;Mockito&amp;#x3002;&amp;#x7F51;&amp;#x4E0A;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E5F;&amp;#x662F;&amp;#x5343;&amp;#x5343;&amp;#x4E07;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x6D4B;&amp;#x8BD5;&amp;#x8BED;&amp;#x53E5;&amp;#x7684;&amp;#x5199;&amp;#x6CD5;&amp;#x4E5F;&amp;#x662F;&amp;#x5404;&amp;#x4E0D;&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x9760;&amp;#x8C31;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;a href=&#34;https://github.com/jayway/powermock&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;&amp;#x5B98;&amp;#x7F51;&lt;/a&gt;&amp;#x3002;PowerMock&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4EE5;&amp;#x4E0B;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;&amp;#x9014;&amp;#x5F84;&amp;#xFF1A;&lt;/p&gt;&lt;ul style=&#34;margin-top: 0; margin-bottom: 1.1em; line-height: 1.6;&#34;&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6A21;&amp;#x62DF;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x6A21;&amp;#x62DF;&amp;#x9759;&amp;#x6001;&amp;#x7C7B;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x7A81;&amp;#x7834;&amp;#x8BBF;&amp;#x95EE;&amp;#x6743;&amp;#x9650;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;&amp;#x64CD;&amp;#x7EB5;&amp;#x79C1;&amp;#x6709;&amp;#x6210;&amp;#x5458;&amp;#xFF0C;&amp;#x79C1;&amp;#x6709;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/li&gt;&lt;li style=&#34;line-height: 1.6;&#34;&gt;&amp;#x8C03;&amp;#x7528;&amp;#x79C1;&amp;#x6709;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/li&gt;&lt;/ul&gt;&lt;h2 style=&#34;font-family: inherit; font-weight: bold; line-height: 1.1; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 2.15em; margin: 1.2em 0 .6em 0; text-align: start;&#34;&gt;&amp;#x8FDB;&amp;#x9636;&lt;/h2&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x7684;&amp;#x7F16;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x9047;&amp;#x5230;&amp;#x5F88;&amp;#x591A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;Google&amp;#x4E86;&amp;#x5F88;&amp;#x4E45;&amp;#xFF0C;&amp;#x73B0;&amp;#x5C06;&amp;#x6240;&amp;#x6709;&amp;#x95EE;&amp;#x9898;&amp;#x4EE5;&amp;#x53CA;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#x7F57;&amp;#x5217;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5BF9;static&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt; mockLooper = mock(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;PowerMockito&lt;/span&gt;.mockStatic(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;PowerMockito&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;Looper&lt;/span&gt;.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;getMainLooper&amp;quot;&lt;/span&gt;).thenReturn(mockLooper);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5BF9;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x4E0A;&amp;#x4E00;&amp;#x7AE0;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6A21;&amp;#x62DF;classA&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x6765;&amp;#x89E3;&amp;#x51B3;&amp;#xFF0C;&amp;#x540C;&amp;#x6837;&amp;#x662F;&amp;#x7528;&amp;#x5230;PowerMockito&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;PowerMockito&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.whenNew&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;Intent&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.class&lt;/span&gt;)&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.withNoArguments&lt;/span&gt;()&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.thenReturn&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;mockIntent&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;PowerMockito&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.whenNew&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;Intent&lt;/span&gt;&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.class&lt;/span&gt;)&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.withArguments&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;anyString&lt;/span&gt;())&lt;span style=&#34;line-height: 1.6; color: #a6e22e;&#34;&gt;.thenReturn&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;mockIntent&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9488;&amp;#x5BF9;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x548C;&amp;#x6CA1;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x4E24;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x64CD;&amp;#x4F5C;private&amp;#x6210;&amp;#x5458;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;// &amp;#x64CD;&amp;#x4F5C;&amp;#x79C1;&amp;#x6709;&amp;#x975E;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/span&gt;&lt;br&gt;Whitebox.setInternalState(mockObj, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;value&lt;/span&gt;);&lt;br&gt;Whitebox.getInternalState(mockObj, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;// &amp;#x64CD;&amp;#x4F5C;&amp;#x79C1;&amp;#x6709;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&lt;/span&gt;&lt;br&gt;Whitebox.setInternalState(xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;value&lt;/span&gt;, xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;Whitebox.getInternalState(xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;, &lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;mPrivateStaticVariable&amp;quot;&lt;/span&gt;, xxx.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x5C40;&amp;#x90E8;&amp;#x6A21;&amp;#x62DF;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4F1A;&amp;#x7528;&amp;#x5230;Mockito&amp;#x4E2D;&amp;#x7684;spy&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x3002;&amp;#x5728;&amp;#x5F88;&amp;#x591A;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x65E0;&amp;#x6CD5;&amp;#x5265;&amp;#x79BB;&amp;#x9700;&amp;#x8981;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;&amp;#x7C7B;&amp;#x548C;&amp;#x5F85;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF0C;&amp;#x5B9E;&amp;#x9645;&amp;#x4E2D;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x7C7B;&amp;#xFF1A;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;public &lt;span style=&#34;line-height: 1.6;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f8f8f2;&#34;&gt;ConverterFacade&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;&lt;span style=&#34;line-height: 1.6; color: #66d9ef;&#34;&gt;extends&lt;/span&gt;&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #a6e22e; font-style: italic;&#34;&gt;Service&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;    &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;private&lt;/span&gt; void bindOfficeService()&amp;#123;&lt;br&gt;        &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;if&lt;/span&gt; (bindService(intent, connection, &lt;span style=&#34;line-height: 1.6;&#34;&gt;BIND_AUTO_CREATE&lt;/span&gt;)) &amp;#123;&lt;br&gt;            ...&lt;br&gt;        &amp;#125;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;ConverterFacade&amp;#x7EE7;&amp;#x627F;&amp;#x81EA;Android&amp;#x81EA;&amp;#x6709;&amp;#x7684;&amp;#x7C7B;Service&amp;#xFF0C;Service&amp;#x7EE7;&amp;#x627F;&amp;#x81EA;Context&amp;#xFF0C;bindService&amp;#x662F;Context&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5BF9;&amp;#x4E4B;&amp;#x8FDB;&amp;#x884C;mock&amp;#xFF0C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x62A5;&amp;#x9519;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6D4B;&amp;#x8BD5;ConverterFacade&amp;#xFF0C;&amp;#x53C8;&amp;#x4E0D;&amp;#x80FD;&amp;#x5C06;&amp;#x4E4B;mock&amp;#x6389;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EA;&amp;#x80FD;&amp;#x9000;&amp;#x800C;&amp;#x6C42;&amp;#x5176;&amp;#x6B21;&amp;#xFF0C;&amp;#x91C7;&amp;#x7528;partial mock&amp;#x3002;&amp;#x63D2;&amp;#x5165;&amp;#x5B98;&amp;#x7F51;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&lt;a href=&#34;http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy%28T%29&#34; target=&#34;_blank&#34; style=&#34;background: transparent; color: #1980e6; text-decoration: none;&#34;&gt;Mockito.spy&lt;/a&gt;&amp;#x3002;&amp;#x5B98;&amp;#x65B9;&amp;#x5E76;&amp;#x4E0D;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;spy&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x8FD9;&amp;#x6837;&amp;#x4F1A;&amp;#x8BA9;&amp;#x6A21;&amp;#x62DF;&amp;#x7684;code&amp;#x548C;&amp;#x771F;&amp;#x5B9E;&amp;#x7684;code&amp;#x6DF7;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;&amp;#x3002;&lt;/p&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;Real spies should be used &lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;carefully and occasionally&lt;/strong&gt;. &lt;br&gt;&amp;#x4F8B;&amp;#x5B50;&amp;#xFF1A;&lt;/p&gt;&lt;/blockquote&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;   List list = &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;new&lt;/span&gt; LinkedList();&lt;br&gt;   List spy = spy(list);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//optionally, you can stub out some methods:&lt;/span&gt;&lt;br&gt;   when(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;size&lt;/span&gt;()).thenReturn(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;100&lt;/span&gt;);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//using the spy calls real methods&lt;/span&gt;&lt;br&gt;   spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;one&amp;quot;&lt;/span&gt;);&lt;br&gt;   spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;two&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//prints &amp;quot;one&amp;quot; - the first element of a list&lt;/span&gt;&lt;br&gt;   System.out.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;println&lt;/span&gt;(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;));&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//size() method was stubbed - 100 is printed&lt;/span&gt;&lt;br&gt;   System.out.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;println&lt;/span&gt;(spy.&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;size&lt;/span&gt;());&lt;br&gt;&lt;br&gt;   &lt;span style=&#34;line-height: 1.6; color: #75715e;&#34;&gt;//optionally, you can verify&lt;/span&gt;&lt;br&gt;   verify(spy).&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;one&amp;quot;&lt;/span&gt;);&lt;br&gt;   verify(spy).&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;add&lt;/span&gt;(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;two&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8981;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;doReturn().when()&lt;/code&gt;&amp;#x800C;&amp;#x4E0D;&amp;#x80FD;&amp;#x7528;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;when().doReturn()&lt;/code&gt;&lt;/p&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt; //&lt;span style=&#34;line-height: 1.6;&#34;&gt;Impossible&lt;/span&gt;: real &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;method&lt;/span&gt; &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;is&lt;/span&gt; called so spy.get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;) throws &lt;span style=&#34;line-height: 1.6;&#34;&gt;IndexOutOfBoundsException&lt;/span&gt; (the list &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;is&lt;/span&gt; yet empty)&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(spy.get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;)).thenReturn(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;//&lt;span style=&#34;line-height: 1.6;&#34;&gt;You&lt;/span&gt; have to use doReturn() &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;for&lt;/span&gt; stubbing&lt;br&gt;doReturn(&lt;span style=&#34;line-height: 1.6; color: #e6db74;&#34;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;).&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;when&lt;/span&gt;(spy).get(&lt;span style=&#34;line-height: 1.6; color: #ae81ff;&#34;&gt;0&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;java.lang.NoClassDefFoundError&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x9047;&amp;#x5230;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E2A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x539F;&amp;#x56E0;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x5BFC;&amp;#x5165;moffice-service-base&amp;#x5305;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x5F04;&amp;#x597D;&amp;#x5C31;&amp;#x884C;&amp;#x4E86;&lt;/p&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&lt;img class=&#34;enMedia&#34; src=&#34;/images/Android&amp;#x5355;&amp;#x5143;&amp;#x6D4B;&amp;#x8BD5;/1476841513603.png&#34; hash=&#34;3e0e82cf948615d59ce5b84bb1d626be&#34; align alt longdesc width height border hspace vspace usemap style=&#34;border: 0; vertical-align: middle; max-width: 100%;&#34; title lang xml:lang dir&gt;&lt;/p&gt;&lt;blockquote style=&#34;padding: 15px 20px; margin: 0 0 1.1em; border-left: 5px solid rgba(102,128,153,0.075); border-left-width: 10px; background-color: rgba(102,128,153,0.05); border-top-right-radius: 5px; border-bottom-right-radius: 5px;&#34;&gt;&lt;p style=&#34;margin: 0 0 1.1em; font-size: 1em; font-weight: 300; margin-bottom: 0; line-height: 1.6;&#34;&gt;&lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;java.lang.ClassNotFoundException&lt;/strong&gt; &lt;br&gt;This exception indicates that the class was not found on the classpath. This indicates that we were trying to load the class definition, and the class did not exist on the classpath. &lt;br&gt;&lt;strong style=&#34;font-weight: bold; line-height: 1.6;&#34;&gt;java.lang.NoClassDefFoundError&lt;/strong&gt; &lt;br&gt;This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it. This is different than saying that it could not be loaded from the classpath. Usually this indicates that we previously attempted to load a class from the classpath, but it failed for some reason - now we&amp;#x2019;re trying to use the class again (and thus need to load it, since it failed last time), but we&amp;#x2019;re not even going to try to load it, because we failed loading it earlier (and reasonably suspect that we would fail again). The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block) or any number of other problems. The point is, a NoClassDefFoundError is not necessarily a classpath problem.&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;mockStatic&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;&amp;#x65E0;&amp;#x6CD5;&amp;#x6709;&amp;#x6548;&amp;#x5F15;&amp;#x7528;&amp;#x5916;&amp;#x90E8;&amp;#x7C7B;&amp;#x7684;&amp;#x6210;&amp;#x5458;&lt;/h3&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8981;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;mockStatic(ConverterFacade.class);&lt;/code&gt;&amp;#x8981;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;mockStatic(ConverterFacade.class, CALLS_REAL_METHODS);&lt;/code&gt;&lt;/p&gt;&lt;h3 style=&#34;font-family: inherit; font-weight: bold; color: inherit; margin-top: 21px; margin-bottom: 10.5px; font-size: 1.7em; margin: 1.2em 0 .6em 0; text-align: start; line-height: 1.6;&#34;&gt;&amp;#x6355;&amp;#x83B7;&amp;#x53C2;&amp;#x6570;&lt;/h3&gt;&lt;pre style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; white-space: pre-wrap; display: block; background-color: rgba(102,128,153,0.05); color: #333; word-wrap: break-word; font-size: .9em; background: #f6f6f6; line-height: 1.6; margin: 0 0 1.1em; padding: 0; border: 0; border-radius: 5px; text-align: start; word-break: break-all;&#34;&gt;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: inherit; background-color: transparent; white-space: pre-wrap; border-radius: 0; color: #f8f8f2; display: block; background: #23241f; padding: 1.3em 2em;&#34;&gt;Message &lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt; = mock(Message.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;.what = 1;&lt;br&gt;Handler mHandler = mock(Handler.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;mHandler.sendMessage(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;.what = 2;&lt;br&gt;mHandler.sendMessage(&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;m&lt;/span&gt;);&lt;br&gt;&lt;br&gt;ArgumentCaptor&amp;lt;Message&amp;gt; argumentCaptor2 = ArgumentCaptor.forClass(Message.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;class&lt;/span&gt;);&lt;br&gt;verify(mHandler, times(2)).sendMessage(argumentCaptor2.&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;capture&lt;/span&gt;());&lt;br&gt;&lt;span style=&#34;line-height: 1.6; color: #f92672;&#34;&gt;List&lt;/span&gt;&amp;lt;Message&amp;gt; msgList = argumentCaptor2.getAllValues();&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#34;margin: 0 0 1.1em; line-height: 1.6;&#34;&gt;ArgumentCaptor&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6355;&amp;#x83B7;&amp;#x53C2;&amp;#x6570;&amp;#x8C03;&amp;#x7528;&amp;#x60C5;&amp;#x51B5;&amp;#x3002;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;argumentCaptor.getValue()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&lt;code style=&#34;font-family: &amp;apos;Source Code Pro&amp;apos;,monospace; font-size: .9em; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: normal; border-radius: 4px;&#34;&gt;argumentCaptor.getAllValues()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;&amp;#x591A;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x6216;&amp;#x8005;&amp;#x4E00;&amp;#x6B21;&amp;#x8C03;&amp;#x7528;&amp;#x4F20;&amp;#x9012;&amp;#x591A;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x3002; &lt;br&gt;&amp;#x8FD9;&amp;#x5176;&amp;#x4E2D;&amp;#x7275;&amp;#x6D89;&amp;#x5230;Java&amp;#x5BF9;&amp;#x8C61;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x4E0A;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x6700;&amp;#x7EC8;&amp;#x5F97;&amp;#x5230;&amp;#x7684;List&amp;#x7684;size&amp;#x662F;2&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x8868;&amp;#x9879;&amp;#x7684;what&amp;#x503C;&amp;#x90FD;&amp;#x6307;&amp;#x5411;2&amp;#xFF0C;&amp;#x7528;Android Studio&amp;#x67E5;&amp;#x770B;&amp;#x5BF9;&amp;#x8C61;&amp;#x5730;&amp;#x5740;&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0;&amp;#x8FD9;&amp;#x4FE9;&amp;#x90FD;&amp;#x6307;&amp;#x5411;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5176;&amp;#x503C;&amp;#x76F8;&amp;#x540C;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E0D;&amp;#x96BE;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x8981;&amp;#x6355;&amp;#x83B7;&amp;#x5230;&amp;#x4E24;&amp;#x4E2A;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x5C31;&amp;#x8981;new&amp;#x4E24;&amp;#x6B21;&amp;#x3002;&lt;/p&gt;&lt;/div&gt;&lt;center style=&#34;display:none&#34;&gt;%23Android%u5355%u5143%u6D4B%u8BD5%0A@%28%u5B66%u4E60%u7B14%u8BB0%29%5BAndroid%2C%20unittest%2C%20mockito%2C%20powermock%5D%0A%u4ECA%u65E5%u5728%u505A%u5FAE%u4FE1IoT%u6253%u5370%u673A%u7684%u9879%u76EE%uFF0C%u5176%u4E2D%u6D89%u53CA%u5230%u7528Android%u7A0B%u5E8F%u8BBF%u95EEWPS%u670D%u52A1%u6765%u5B9E%u73B0%u5C06word%u6587%u6863%u53E6%u5B58%u4E3APDF%u7684%u529F%u80FD%u3002%u4E8E%u662F%uFF0C%u79C9%u7740TDD%u7684%u7CBE%u795E%uFF0C%u5F00%u59CB%u5B66%u4E60%u5982%u4F55%u5728Android%u4E2D%u505A%u5355%u5143%u6D4B%u8BD5%u3002%0A%23%23%u5165%u95E8%0A%23%23%23JUnit%0A%u9996%u5148%u770B%u5230%u7684%u662FAndroid%u7684%u5B98%u7F51%u6587%u6863%5BGetting%20Started%20with%20Testing%5D%28https%3A//developer.android.com/training/testing/start/index.html%29%2C%20%5BBuilding%20Local%20Unit%20Tests%5D%28https%3A//developer.android.com/training/testing/unit-testing/local-unit-tests.html%29%u3002%u6709%u4E24%u79CD%u7C7B%u578B%u7684%u6D4B%u8BD5%uFF0C%u4E00%u79CD%u662F%u8DD1%u5728%u4E3B%u673A%u4E0A%u7684%uFF0C%u53EBLocal%20Unit%20Test%uFF0C%u53E6%u4E00%u79CD%u8DD1%u5728%u76EE%u6807%u673A%u4E0A%uFF0C%u53EBInstrumented%20Unit%20Test%u3002%0ALocal%20Unit%20Test%u57FA%u4E8EJUnit%uFF0C%u4E0A%u9762%u7684%u5173%u4E8ELocal%20Unit%20Test%u7684%u94FE%u63A5%u5DF2%u7ECF%u6709%u4E86%u5982%u4F55%u5728Android%20Studio%u4E2D%u4F7F%u80FDJUnit%u7684%u8303%u4F8B%u4E86%u3002%u914D%u7F6E%u597DDependencies%u5C31%u53EF%u4EE5%u4E86%u3002Android%20Studio%u4F1A%u53BBmaven%u5E93%u4E2D%u6293%u53D6JUnit%u7684jar%u5305%u5E76%u5BFC%u5165%u5230%u9879%u76EE%u4E2D%uFF0C%u4E4B%u540E%u5C31%u53EF%u4EE5%u4F7F%u7528%u4E86%u3002%0A%u9047%u5230%u9519%u8BEF%60Error%3A%2823%2C%2017%29%22Failed%20to%20resolve%3A%20junit%3Ajunit%3A4.12%60%uFF0C%u5728build.gradle%u4E0B%u9762%u52A0%0A%60%60%60%0Arepositories%20%7B%0A%20%20%20%20%20%20%20%20maven%20%7B%20url%20%27http%3A//repo1.maven.org/maven2%27%20%7D%0A%20%20%20%20%20%20%20%20jcenter%20%7B%20url%20%22http%3A//jcenter.bintray.com/%22%20%7D%0A%7D%0A%60%60%60%0A%u6216%u8005%u81EA%u884C%u53BB%u4E0B%u8F7Djunit-4.12.jar%uFF0C%u518D%u653E%u5230libs%u76EE%u5F55%u5E95%u4E0B%u5C31%u53EF%u4EE5%u4E86%u3002%0A%0A%23%23%23Mockito%0A%u5728C++%u4E2D%u505AUnit%20Test%u7684%u65F6%u5019%uFF0C%u6211%u4EEC%u5F80%u5F80%u9700%u8981%u81EA%u5DF1%u6784%u5EFAstub%uFF0C%u6765%u9694%u79BB%u9700%u8981%u6D4B%u8BD5%u7684code%u3002%u5728Java%u4E2D%uFF0C%u6211%u4EEC%u6709%u73B0%u6210%u7684%u6846%u67B6%u53EF%u4EE5%u7528%uFF0C%u8FD9%u5C31%u662F%5BMockito%5D%28https%3A//github.com/mockito/mockito%29%u3002%u7F51%u4E0A%u5173%u4E8EMockito+Android%u5355%u5143%u6D4B%u8BD5%u7684%u6587%u7AE0%u4E00%u641C%u4E00%u5927%u645E%u3002%u6211%u4E5F%u7B80%u5355%u7684%u6458%u5F55%u4E86%u51E0%u4E2A%u3002%0A-%20%5BAndroid%u6D4B%u8BD5%u4E8C%uFF1AMockito%u4E0E%u5355%u5143%u6D4B%u8BD5%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/360fa827-de1f-46e7-b815-465c074a5b9e%29%0A-%20%5BAndroid%20%u5355%u5143%u6D4B%u8BD5%u4E4BJUnit%u548CMockito%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/beaaf776-621e-4fdb-9dca-e6eedc6a1029%29%0A-%20%5BAndroid%u6700%u4F73Mock%u5355%u5143%u6D4B%u8BD5%u65B9%u6848%3AJunit%20+%20Mockito%20+%20Powermock%5D%28https%3A//www.evernote.com/shard/s24/nl/2724128/78565e6e-82eb-4f74-80c8-177863a6499c%29%0AMockito%u7684%u4E3B%u8981%u4F5C%u7528%u5C31%u662F%u6A21%u62DF%u5916%u90E8%u7C7B%u7684%u884C%u4E3A%uFF0C%u8FBE%u5230%u9694%u79BB%u5F85%u6D4B%u4EE3%u7801%u7684%u76EE%u7684%u3002%u5982%u4E0B%u56FE%u3002%0A%21%5BAlt%20text%5D%28./1476833497231.png%29%0A%u5728Android%u7684%u6D4B%u8BD5%u4E2D%uFF0CMockito%u7684%u4E3B%u8981%u4F5C%u7528%u5C31%u662F%u6A21%u62DF%u6240%u6709Android%u7684%u7C7B%u3002%60ClassA%20mockObj%20%3D%20mock%28ClassA%29%60%u5C31%u4F1A%u751F%u6210%u4E00%u4E2Amock%u7684%u5BF9%u8C61%u3002%u7136%u540E%u6211%u4EEC%u5C31%u53EF%u4EE5%u901A%u8FC7Mockito%u63D0%u4F9B%u7684%u5404%u79CD%u624B%u6BB5%u6765%u5B9A%u5236%u8FD9%u4E2A%u5BF9%u8C61%u7684%u5404%u79CD%u884C%u4E3A%u3002%u4F46%u8FD9%u6709%u5F88%u5927%u7684%u5C40%u9650%u6027%u3002%u770B%u4E0B%u9762%u7684%u4EE3%u7801%0A%60%60%60%0Aimport%20android.os.classA%0Aclass%20B%20%7B%0A%09public%20void%20methodC%20%28%29%7B%0A%09%09classA%20a%20%3D%20new%20classA%28%29%3B%0A%09%09a.methodA%28%29%3B%0A%09%7D%0A%7D%0A%60%60%60%0A%u8BF7%u95EE%u8FD9%u91CC%u6211%u8981%u600E%u4E48%u5728methodC%u4E2D%u6A21%u62DF%u5BF9%u8C61A%u7684%u884C%u4E3A%u3002%u8BF8%u5982%u6B64%u7C7B%u5F88%u591A%u95EE%u9898%uFF0C%u4F1A%u5728%u4E0B%u9762%u4E00%u7AE0%u8FDB%u884C%u7F57%u5217%u3002%u4E8E%u662F%u5728Google%u4E4B%u4E2D%u5C31%u77E5%u9053%u4E86PowerMock%u3002%0A%0A%23%23%23PowerMock%0APowerMock%u662FMock%u6846%u67B6%u7684%u6269%u5C55%uFF0C%u4ED6%u540C%u65F6%u652F%u6301EasyMock%u548CMockito%u3002%u7F51%u4E0A%u7684%u6587%u7AE0%u4E5F%u662F%u5343%u5343%u4E07%uFF0C%u5177%u4F53%u6D4B%u8BD5%u8BED%u53E5%u7684%u5199%u6CD5%u4E5F%u662F%u5404%u4E0D%u76F8%u540C%uFF0C%u6240%u4EE5%u6700%u9760%u8C31%u7684%u8FD8%u662F%5B%u5B98%u7F51%5D%28https%3A//github.com/jayway/powermock%29%u3002PowerMock%u63D0%u4F9B%u4E86%u4EE5%u4E0B%u6A21%u62DF%u7684%u9014%u5F84%uFF1A%0A-%20%u6A21%u62DF%u6784%u9020%u51FD%u6570%0A-%20%u6A21%u62DF%u9759%u6001%u7C7B%0A-%20%u7A81%u7834%u8BBF%u95EE%u6743%u9650%u63A7%u5236%uFF0C%u64CD%u7EB5%u79C1%u6709%u6210%u5458%uFF0C%u79C1%u6709%u9759%u6001%u6210%u5458%0A-%20%u8C03%u7528%u79C1%u6709%u65B9%u6CD5%u3002%0A%0A%23%23%u8FDB%u9636%0A%u5728%u5B9E%u9645%u7684%u7F16%u7801%u8FC7%u7A0B%u4E2D%uFF0C%u9047%u5230%u5F88%u591A%u95EE%u9898%uFF0CGoogle%u4E86%u5F88%u4E45%uFF0C%u73B0%u5C06%u6240%u6709%u95EE%u9898%u4EE5%u53CA%u89E3%u51B3%u65B9%u6848%u7F57%u5217%u4E00%u4E0B%uFF1A%0A%23%23%23%20%u5BF9static%u65B9%u6CD5%u7684%u6A21%u62DF%0A%60%60%60%0ALooper%20mockLooper%20%3D%20mock%28Looper.class%29%3B%0APowerMockito.mockStatic%28Looper.class%29%3B%0APowerMockito.when%28Looper.class%2C%20%22getMainLooper%22%29.thenReturn%28mockLooper%29%3B%0A%60%60%60%0A%0A%23%23%23%u5BF9%u6784%u9020%u51FD%u6570%u7684%u6A21%u62DF%0A%u89E3%u51B3%u4E0A%u4E00%u7AE0%u63D0%u5230%u7684%u95EE%u9898%uFF0C%u53EF%u4EE5%u7528%u6A21%u62DFclassA%u7684%u6784%u9020%u51FD%u6570%u6765%u89E3%u51B3%uFF0C%u540C%u6837%u662F%u7528%u5230PowerMockito%0A%60%60%60%0APowerMockito.whenNew%28Intent.class%29.withNoArguments%28%29.thenReturn%28mockIntent%29%3B%0APowerMockito.whenNew%28Intent.class%29.withArguments%28anyString%28%29%29.thenReturn%28mockIntent%29%3B%0A%60%60%60%0A%u9488%u5BF9%u6709%u53C2%u6570%u548C%u6CA1%u6709%u53C2%u6570%u7684%u4E24%u79CD%u60C5%u51B5%0A%0A%23%23%23%u64CD%u4F5Cprivate%u6210%u5458%0A%60%60%60%0A//%20%u64CD%u4F5C%u79C1%u6709%u975E%u9759%u6001%u6210%u5458%0AWhitebox.setInternalState%28mockObj%2C%20%22mPrivateStaticVariable%22%2C%20value%29%3B%0AWhitebox.getInternalState%28mockObj%2C%20%22mPrivateStaticVariable%22%29%3B%0A%0A//%20%u64CD%u4F5C%u79C1%u6709%u9759%u6001%u6210%u5458%0AWhitebox.setInternalState%28xxx.class%2C%20%22mPrivateStaticVariable%22%2C%20value%2C%20xxx.class%29%3B%0AWhitebox.getInternalState%28xxx.class%2C%20%22mPrivateStaticVariable%22%2C%20xxx.class%29%3B%0A%60%60%60%0A%0A%23%23%23%u5C40%u90E8%u6A21%u62DF%0A%u8FD9%u4E2A%u4F1A%u7528%u5230Mockito%u4E2D%u7684spy%u5173%u952E%u5B57%u3002%u5728%u5F88%u591A%u60C5%u51B5%u4E0B%uFF0C%u6211%u4EEC%u65E0%u6CD5%u5265%u79BB%u9700%u8981%u6A21%u62DF%u7684%u7C7B%u548C%u5F85%u6D4B%u8BD5%u7684%u7C7B%u3002%u4F8B%u5982%uFF0C%u5B9E%u9645%u4E2D%u7528%u5230%u7684%u4E0B%u9762%u7684%u7C7B%uFF1A%0A%60%60%60%0Apublic%20class%20ConverterFacade%20extends%20Service%7B%0A%09private%20void%20bindOfficeService%28%29%7B%0A%09%09if%20%28bindService%28intent%2C%20connection%2C%20BIND_AUTO_CREATE%29%29%20%7B%0A%09%09%09...%0A%09%09%7D%0A%09%7D%0A%7D%0A%60%60%60%0AConverterFacade%u7EE7%u627F%u81EAAndroid%u81EA%u6709%u7684%u7C7BService%uFF0CService%u7EE7%u627F%u81EAContext%uFF0CbindService%u662FContext%u63A5%u53E3%u7684%u4E00%u4E2A%u65B9%u6CD5%u3002%u5982%u679C%u4E0D%u5BF9%u4E4B%u8FDB%u884Cmock%uFF0C%u6D4B%u8BD5%u7684%u65F6%u5019%u4F1A%u62A5%u9519%u3002%u56E0%u4E3A%u6211%u4EEC%u8981%u6D4B%u8BD5ConverterFacade%uFF0C%u53C8%u4E0D%u80FD%u5C06%u4E4Bmock%u6389%uFF0C%u6240%u4EE5%u53EA%u80FD%u9000%u800C%u6C42%u5176%u6B21%uFF0C%u91C7%u7528partial%20mock%u3002%u63D2%u5165%u5B98%u7F51%u7684%u4ECB%u7ECD%uFF0C%5BMockito.spy%5D%28http%3A//site.mockito.org/mockito/docs/current/org/mockito/Mockito.html%23spy%28T%29%29%u3002%u5B98%u65B9%u5E76%u4E0D%u63A8%u8350%u4F7F%u7528spy%uFF0C%u56E0%u4E3A%u8FD9%u6837%u4F1A%u8BA9%u6A21%u62DF%u7684code%u548C%u771F%u5B9E%u7684code%u6DF7%u5728%u4E00%u8D77%u3002%0A%3E%20Real%20spies%20should%20be%20used%20**carefully%20and%20occasionally**.%0A%u4F8B%u5B50%uFF1A%0A%60%60%60%0A%20%20%20List%20list%20%3D%20new%20LinkedList%28%29%3B%0A%20%20%20List%20spy%20%3D%20spy%28list%29%3B%0A%0A%20%20%20//optionally%2C%20you%20can%20stub%20out%20some%20methods%3A%0A%20%20%20when%28spy.size%28%29%29.thenReturn%28100%29%3B%0A%0A%20%20%20//using%20the%20spy%20calls%20real%20methods%0A%20%20%20spy.add%28%22one%22%29%3B%0A%20%20%20spy.add%28%22two%22%29%3B%0A%0A%20%20%20//prints%20%22one%22%20-%20the%20first%20element%20of%20a%20list%0A%20%20%20System.out.println%28spy.get%280%29%29%3B%0A%0A%20%20%20//size%28%29%20method%20was%20stubbed%20-%20100%20is%20printed%0A%20%20%20System.out.println%28spy.size%28%29%29%3B%0A%0A%20%20%20//optionally%2C%20you%20can%20verify%0A%20%20%20verify%28spy%29.add%28%22one%22%29%3B%0A%20%20%20verify%28spy%29.add%28%22two%22%29%3B%0A%60%60%60%0A%u4E3A%u4EC0%u4E48%u8981%u7528%60doReturn%28%29.when%28%29%60%u800C%u4E0D%u80FD%u7528%60when%28%29.doReturn%28%29%60%0A%60%60%60%0A%20//Impossible%3A%20real%20method%20is%20called%20so%20spy.get%280%29%20throws%20IndexOutOfBoundsException%20%28the%20list%20is%20yet%20empty%29%0Awhen%28spy.get%280%29%29.thenReturn%28%22foo%22%29%3B%0A%0A//You%20have%20to%20use%20doReturn%28%29%20for%20stubbing%0AdoReturn%28%22foo%22%29.when%28spy%29.get%280%29%3B%0A%60%60%60%0A%0A%23%23%23java.lang.NoClassDefFoundError%0A%u9047%u5230%u4E86%u8FD9%u4E2A%u95EE%u9898%uFF0C%u539F%u56E0%u662F%u6CA1%u6709%u5BFC%u5165moffice-service-base%u5305%u3002%u5728%u8FD9%u91CC%u5F04%u597D%u5C31%u884C%u4E86%0A%21%5BAlt%20text%5D%28./1476841513603.png%29%0A%u4E0D%u8FC7%u521A%u770B%u5230%u8FD9%u4E2Aexception%u7684%u65F6%u5019%uFF0C%u4E5F%u633A%u552C%u4EBA%u7684%u3002%u5728StackOverflow%u4E0A%u641C%u5230%u4E86%u8FD9%u4E2A%u5E16%u5B50%uFF0C%u4E5F%u7B97%u662F%u5BF9%u8FD9%u4E2A%u9519%u8BEF%u7684%u4E00%u4E2A%u5C0F%u5C0F%u7684%u5165%u95E8%uFF1A%0A%3E%20**java.lang.ClassNotFoundException**%0A%3E%20This%20exception%20indicates%20that%20the%20class%20was%20not%20found%20on%20the%20classpath.%20This%20indicates%20that%20we%20were%20trying%20to%20load%20the%20class%20definition%2C%20and%20the%20class%20did%20not%20exist%20on%20the%20classpath.%0A%3E**java.lang.NoClassDefFoundError**%0A%3EThis%20exception%20indicates%20that%20the%20JVM%20looked%20in%20its%20internal%20class%20definition%20data%20structure%20for%20the%20definition%20of%20a%20class%20and%20did%20not%20find%20it.%20This%20is%20different%20than%20saying%20that%20it%20could%20not%20be%20loaded%20from%20the%20classpath.%20Usually%20this%20indicates%20that%20we%20previously%20attempted%20to%20load%20a%20class%20from%20the%20classpath%2C%20but%20it%20failed%20for%20some%20reason%20-%20now%20we%27re%20trying%20to%20use%20the%20class%20again%20%28and%20thus%20need%20to%20load%20it%2C%20since%20it%20failed%20last%20time%29%2C%20but%20we%27re%20not%20even%20going%20to%20try%20to%20load%20it%2C%20because%20we%20failed%20loading%20it%20earlier%20%28and%20reasonably%20suspect%20that%20we%20would%20fail%20again%29.%20The%20earlier%20failure%20could%20be%20a%20ClassNotFoundException%20or%20an%20ExceptionInInitializerError%20%28indicating%20a%20failure%20in%20the%20static%20initialization%20block%29%20or%20any%20number%20of%20other%20problems.%20The%20point%20is%2C%20a%20NoClassDefFoundError%20is%20not%20necessarily%20a%20classpath%20problem.%0A%0A%23%23%23mockStatic%u5BFC%u81F4%u5185%u90E8%u7C7B%u65E0%u6CD5%u6709%u6548%u5F15%u7528%u5916%u90E8%u7C7B%u7684%u6210%u5458%0A%u89E3%u51B3%u65B9%u6CD5%u662F%uFF0C%u4E0D%u8981%60mockStatic%28ConverterFacade.class%29%3B%60%u8981%60mockStatic%28ConverterFacade.class%2C%20CALLS_REAL_METHODS%29%3B%60%0A%0A%23%23%23%u6355%u83B7%u53C2%u6570%0A%60%60%60%0AMessage%20m%20%3D%20mock%28Message.class%29%3B%0Am.what%20%3D%201%3B%0AHandler%20mHandler%20%3D%20mock%28Handler.class%29%3B%0AmHandler.sendMessage%28m%29%3B%0A%0Am.what%20%3D%202%3B%0AmHandler.sendMessage%28m%29%3B%0A%0AArgumentCaptor%3CMessage%3E%20argumentCaptor2%20%3D%20ArgumentCaptor.forClass%28Message.class%29%3B%0Averify%28mHandler%2C%20times%282%29%29.sendMessage%28argumentCaptor2.capture%28%29%29%3B%0AList%3CMessage%3E%20msgList%20%3D%20argumentCaptor2.getAllValues%28%29%3B%0A%60%60%60%0AArgumentCaptor%u53EF%u4EE5%u5E2E%u52A9%u6355%u83B7%u53C2%u6570%u8C03%u7528%u60C5%u51B5%u3002%60argumentCaptor.getValue%28%29%60%u53EF%u4EE5%u6355%u83B7%u6700%u540E%u4E00%u6B21%u8C03%u7528%u7684%u53C2%u6570%uFF0C%60argumentCaptor.getAllValues%28%29%60%u53EF%u4EE5%u6355%u83B7%u591A%u6B21%u8C03%u7528%u6216%u8005%u4E00%u6B21%u8C03%u7528%u4F20%u9012%u591A%u4E2A%u53C2%u6570%u7684%u60C5%u51B5%u3002%0A%u8FD9%u5176%u4E2D%u7275%u6D89%u5230Java%u5BF9%u8C61%u4F20%u9012%u7684%u65B9%u6CD5%u3002%u5982%u4E0A%u7A0B%u5E8F%u4EE3%u7801%uFF0C%u867D%u7136%u6700%u7EC8%u5F97%u5230%u7684List%u7684size%u662F2%uFF0C%u4F46%u662F%u8FD9%u4E24%u4E2A%u8868%u9879%u7684what%u503C%u90FD%u6307%u54112%uFF0C%u7528Android%20Studio%u67E5%u770B%u5BF9%u8C61%u5730%u5740%uFF0C%u53D1%u73B0%u8FD9%u4FE9%u90FD%u6307%u5411%u540C%u4E00%u4E2A%u5BF9%u8C61%uFF0C%u6240%u4EE5%u5176%u503C%u76F8%u540C%u4E5F%u5C31%u4E0D%u96BE%u7406%u89E3%u4E86%u3002%u5982%u679C%u60F3%u8981%u6355%u83B7%u5230%u4E24%u4E2A%u4E0D%u540C%u7684%u503C%uFF0C%u5C31%u8981new%u4E24%u6B21%u3002&lt;/center&gt;&lt;br&gt;&lt;/div&gt;</content>
        <category term="Android" />
        <category term="unittest" />
        <category term="mockito" />
        <category term="powermock" />
        <updated>2016-10-18T23:41:45.000Z</updated>
    </entry>
</feed>
